/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

function Mt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fr(t){let e,r,n;t.length!==2?(e=Mt,r=(f,u)=>Mt(t(f),u),n=(f,u)=>t(f)-u):(e=t===Mt||t===xe?t:Ky,r=t,n=t);function o(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let p=c+s>>>1;r(f[p],u)<0?c=p+1:s=p}while(c<s)}return c}function i(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let p=c+s>>>1;r(f[p],u)<=0?c=p+1:s=p}while(c<s)}return c}function a(f,u,c=0,s=f.length){let p=o(f,u,c,s-1);return p>c&&n(f[p-1],u)>-n(f[p],u)?p-1:p}return{left:o,center:a,right:i}}function Ky(){return 0}function Zo(t){return t===null?NaN:+t}function*Wd(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}var Hd=fr(Mt),Gd=Hd.right,Qy=Hd.left,Jy=fr(Zo).center,nn=Gd;function tb(t){return t.length|0}function eb(t){return!(t>0)}function rb(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function nb(t){return e=>t(...e)}function Na(...t){let e=typeof t[t.length-1]=="function"&&nb(t.pop());t=t.map(rb);let r=t.map(tb),n=t.length-1,o=new Array(n+1).fill(0),i=[];if(n<0||r.some(eb))return i;for(;;){i.push(o.map((f,u)=>t[u][f]));let a=n;for(;++o[a]===r[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function Da(t,e){var r=0,n=0;return Float64Array.from(t,e===void 0?o=>r+=+o||0:o=>r+=+e(o,n++,t)||0)}function Bn(t,e){let r=0,n,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(n=a-o,o+=n/++r,i+=n*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(n=f-o,o+=n/++r,i+=n*(f-o))}if(r>1)return i/(r-1)}function Pa(t,e){let r=Bn(t,e);return r&&Math.sqrt(r)}function fe(t,e){let r,n;if(e===void 0)for(let o of t)o!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}var se=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let r=this._partials,n=0;for(let o=0;o<this._n&&o<32;o++){let i=r[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(r[n++]=f),e=a}return r[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,r=this._n,n,o,i,a=0;if(r>0){for(a=e[--r];r>0&&(n=a,o=e[--r],a=n+o,i=o-(a-n),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(o=i*2,n=a+o,o==n-a&&(a=n))}return a}};var te=class extends Map{constructor(e,r=Zd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let[n,o]of e)this.set(n,o)}get(e){return super.get(ns(this,e))}has(e){return super.has(ns(this,e))}set(e,r){return super.set(Vd(this,e),r)}delete(e){return super.delete(jd(this,e))}},$e=class extends Set{constructor(e,r=Zd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let n of e)this.add(n)}has(e){return super.has(ns(this,e))}add(e){return super.add(Vd(this,e))}delete(e){return super.delete(jd(this,e))}};function ns({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):r}function Vd({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jd({_intern:t,_key:e},r){let n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Zd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ko(t){return t}function ur(t,...e){return is(t,Ko,Ko,e)}function ke(t,e,...r){return is(t,Ko,e,r)}function os(t,e,...r){return is(t,Array.from,e,r)}function is(t,e,r,n){return function o(i,a){if(a>=n.length)return r(i);let f=new te,u=n[a++],c=-1;for(let s of i){let p=u(s,++c,i),l=f.get(p);l?l.push(s):f.set(p,[s])}for(let[s,p]of f)f.set(s,o(p,a));return e(f)}(t,0)}function as(t,e){return Array.from(e,r=>t[r])}function qe(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[r]=e;if(r&&r.length!==2||e.length>1){let n=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),n.sort((o,i)=>{for(let a of e){let f=Qo(a[o],a[i]);if(f)return f}})):(r=t.map(r),n.sort((o,i)=>Qo(r[o],r[i]))),as(t,n)}return t.sort(fs(r))}function fs(t=Mt){if(t===Mt)return Qo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{let n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Qo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Un(t,e,r){return(e.length!==2?qe(ke(t,e,r),([n,o],[i,a])=>Mt(o,a)||Mt(n,i)):qe(ur(t,r),([n,o],[i,a])=>e(o,a)||Mt(n,i))).map(([n])=>n)}var ob=Math.sqrt(50),ib=Math.sqrt(10),ab=Math.sqrt(2);function Fa(t,e,r){let n=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),a=i>=ob?10:i>=ib?5:i>=ab?2:1,f,u,c;return o<0?(c=Math.pow(10,-o)/a,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,o)*a,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=r&&r<2?Fa(t,e,r*2):[f,u,c]}function cr(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let n=e<t,[o,i,a]=n?Fa(e,t,r):Fa(t,e,r);if(!(i>=o))return[];let f=i-o+1,u=new Array(f);if(n)if(a<0)for(let c=0;c<f;++c)u[c]=(i-c)/-a;else for(let c=0;c<f;++c)u[c]=(i-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(o+c)/-a;else for(let c=0;c<f;++c)u[c]=(o+c)*a;return u}function Jo(t,e,r){return e=+e,t=+t,r=+r,Fa(t,e,r)[2]}function Xn(t,e,r){e=+e,t=+t,r=+r;let n=e<t,o=n?Jo(e,t,r):Jo(t,e,r);return(n?-1:1)*(o<0?1/-o:o)}function Dt(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function La(t,e){let r,n=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=o);else for(let i of t)(i=e(i,++o,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=o);return n}function ee(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function Oa(t,e){let r,n=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=o);else for(let i of t)(i=e(i,++o,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=o);return n}function qa(t,e,r=0,n=1/0,o){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(o=o===void 0?Qo:fs(o);n>r;){if(n-r>600){let u=n-r+1,c=e-r+1,s=Math.log(u),p=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*p*(u-p)/u)*(c-u/2<0?-1:1),d=Math.max(r,Math.floor(e-c*p/u+l)),m=Math.min(n,Math.floor(e+(u-c)*p/u+l));qa(t,e,d,m,o)}let i=t[e],a=r,f=n;for(ti(t,r,e),o(t[n],i)>0&&ti(t,r,n);a<f;){for(ti(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[r],i)===0?ti(t,r,f):(++f,ti(t,f,n)),f<=e&&(r=f+1),e<=f&&(n=f-1)}return t}function ti(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function ei(t,e=Mt){let r,n=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(n?Mt(a,o)>0:Mt(a,a)===0)&&(r=i,o=a,n=!0)}}else for(let o of t)(n?e(o,r)>0:e(o,o)===0)&&(r=o,n=!0);return r}function sr(t,e,r){if(t=Float64Array.from(Wd(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ee(t);if(e>=1)return Dt(t);var n,o=(n-1)*e,i=Math.floor(o),a=Dt(qa(t,i).subarray(0,i+1)),f=ee(t.subarray(i+1));return a+(f-a)*(o-i)}}function us(t,e,r=Zo){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,o=(n-1)*e,i=Math.floor(o),a=+r(t[i],i,t),f=+r(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function za(t,e){let r=0,n=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++r,n+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function on(t,e){return sr(t,.5,e)}function*ub(t){for(let e of t)yield*e}function Wn(t){return Array.from(ub(t))}function Ya(t,e){let r=new te;if(e===void 0)for(let i of t)i!=null&&i>=i&&r.set(i,(r.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&r.set(a,(r.get(a)||0)+1)}let n,o=0;for(let[i,a]of r)a>o&&(o=a,n=i);return n}function Ba(t,e=cb){let r=[],n,o=!1;for(let i of t)o&&r.push(e(n,i)),n=i,o=!0;return r}function cb(t,e){return[t,e]}function an(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(o);++n<o;)i[n]=t+n*r;return i}function le(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&(r+=o)}return r}function Nr(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Kd(t){return t}var cs=1,ss=2,ls=3,Ua=4,Qd=1e-6;function sb(t){return"translate("+t+",0)"}function lb(t){return"translate(0,"+t+")"}function pb(t){return e=>+t(e)}function db(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function mb(){return!this.__axis}function hb(t,e){var r=[],n=null,o=null,i=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===cs||t===Ua?-1:1,s=t===Ua||t===ss?"x":"y",p=t===cs||t===ls?sb:lb;function l(d){var m=n??(e.ticks?e.ticks.apply(e,r):e.domain()),h=o??(e.tickFormat?e.tickFormat.apply(e,r):Kd),g=Math.max(i,0)+f,w=e.range(),x=+w[0]+u,M=+w[w.length-1]+u,y=(e.bandwidth?db:pb)(e.copy(),u),v=d.selection?d.selection():d,b=v.selectAll(".domain").data([null]),S=v.selectAll(".tick").data(m,e).order(),$=S.exit(),A=S.enter().append("g").attr("class","tick"),I=S.select("line"),_=S.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(A),I=I.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",c*i)),_=_.merge(A.append("text").attr("fill","currentColor").attr(s,c*g).attr("dy",t===cs?"0em":t===ls?"0.71em":"0.32em")),d!==v&&(b=b.transition(d),S=S.transition(d),I=I.transition(d),_=_.transition(d),$=$.transition(d).attr("opacity",Qd).attr("transform",function(R){return isFinite(R=y(R))?p(R+u):this.getAttribute("transform")}),A.attr("opacity",Qd).attr("transform",function(R){var F=this.parentNode.__axis;return p((F&&isFinite(F=F(R))?F:y(R))+u)})),$.remove(),b.attr("d",t===Ua||t===ss?a?"M"+c*a+","+x+"H"+u+"V"+M+"H"+c*a:"M"+u+","+x+"V"+M:a?"M"+x+","+c*a+"V"+u+"H"+M+"V"+c*a:"M"+x+","+u+"H"+M),S.attr("opacity",1).attr("transform",function(R){return p(y(R)+u)}),I.attr(s+"2",c*i),_.attr(s,c*g).text(h),v.filter(mb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ss?"start":t===Ua?"end":"middle"),v.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(e=d,l):e},l.ticks=function(){return r=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(r=d==null?[]:Array.from(d),l):r.slice()},l.tickValues=function(d){return arguments.length?(n=d==null?null:Array.from(d),l):n&&n.slice()},l.tickFormat=function(d){return arguments.length?(o=d,l):o},l.tickSize=function(d){return arguments.length?(i=a=+d,l):i},l.tickSizeInner=function(d){return arguments.length?(i=+d,l):i},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(u=+d,l):u},l}function ps(t){return hb(ls,t)}var gb={value:()=>{}};function tm(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Xa(r)}function Xa(t){this._=t}function xb(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Xa.prototype=tm.prototype={constructor:Xa,on:function(t,e){var r=this._,n=xb(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=yb(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=Jd(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Jd(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Xa(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function yb(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Jd(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=gb,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var ds=tm;var Wa="http://www.w3.org/1999/xhtml",ze={svg:"http://www.w3.org/2000/svg",xhtml:Wa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lr(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),ze.hasOwnProperty(e)?{space:ze[e],local:t}:t}function bb(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Wa&&e.documentElement.namespaceURI===Wa?e.createElement(t):e.createElementNS(r,t)}}function wb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pr(t){var e=lr(t);return(e.local?wb:bb)(e)}function vb(){}function fn(t){return t==null?vb:function(){return this.querySelector(t)}}function em(t){typeof t!="function"&&(t=fn(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=new Array(a),u,c,s=0;s<a;++s)(u=i[s])&&(c=t.call(u,u.__data__,s,i))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new St(n,this._parents)}function ms(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Mb(){return[]}function ri(t){return t==null?Mb:function(){return this.querySelectorAll(t)}}function Sb(t){return function(){return ms(t.apply(this,arguments))}}function rm(t){typeof t=="function"?t=Sb(t):t=ri(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(n.push(t.call(u,u.__data__,c,a)),o.push(u));return new St(n,o)}function ni(t){return function(){return this.matches(t)}}function Ha(t){return function(e){return e.matches(t)}}var Tb=Array.prototype.find;function _b(t){return function(){return Tb.call(this.children,t)}}function Cb(){return this.firstElementChild}function nm(t){return this.select(t==null?Cb:_b(typeof t=="function"?t:Ha(t)))}var Ab=Array.prototype.filter;function $b(){return Array.from(this.children)}function kb(t){return function(){return Ab.call(this.children,t)}}function om(t){return this.selectAll(t==null?$b:kb(typeof t=="function"?t:Ha(t)))}function im(t){typeof t!="function"&&(t=ni(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new St(n,this._parents)}function Ga(t){return new Array(t.length)}function am(){return new St(this._enter||this._groups.map(Ga),this._parents)}function oi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}oi.prototype={constructor:oi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fm(t){return function(){return t}}function Eb(t,e,r,n,o,i){for(var a=0,f,u=e.length,c=i.length;a<c;++a)(f=e[a])?(f.__data__=i[a],n[a]=f):r[a]=new oi(t,i[a]);for(;a<u;++a)(f=e[a])&&(o[a]=f)}function Ib(t,e,r,n,o,i,a){var f,u,c=new Map,s=e.length,p=i.length,l=new Array(s),d;for(f=0;f<s;++f)(u=e[f])&&(l[f]=d=a.call(u,u.__data__,f,e)+"",c.has(d)?o[f]=u:c.set(d,u));for(f=0;f<p;++f)d=a.call(t,i[f],f,i)+"",(u=c.get(d))?(n[f]=u,u.__data__=i[f],c.delete(d)):r[f]=new oi(t,i[f]);for(f=0;f<s;++f)(u=e[f])&&c.get(l[f])===u&&(o[f]=u)}function Rb(t){return t.__data__}function um(t,e){if(!arguments.length)return Array.from(this,Rb);var r=e?Ib:Eb,n=this._parents,o=this._groups;typeof t!="function"&&(t=fm(t));for(var i=o.length,a=new Array(i),f=new Array(i),u=new Array(i),c=0;c<i;++c){var s=n[c],p=o[c],l=p.length,d=Nb(t.call(s,s&&s.__data__,c,n)),m=d.length,h=f[c]=new Array(m),g=a[c]=new Array(m),w=u[c]=new Array(l);r(s,p,h,g,w,d,e);for(var x=0,M=0,y,v;x<m;++x)if(y=h[x]){for(x>=M&&(M=x+1);!(v=g[M])&&++M<m;);y._next=v||null}}return a=new St(a,n),a._enter=f,a._exit=u,a}function Nb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cm(){return new St(this._exit||this._groups.map(Ga),this._parents)}function sm(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function lm(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),f=new Array(o),u=0;u<a;++u)for(var c=r[u],s=n[u],p=c.length,l=f[u]=new Array(p),d,m=0;m<p;++m)(d=c[m]||s[m])&&(l[m]=d);for(;u<o;++u)f[u]=r[u];return new St(f,this._parents)}function pm(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function dm(t){t||(t=Db);function e(p,l){return p&&l?t(p.__data__,l.__data__):!p-!l}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],f=a.length,u=o[i]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(e)}return new St(o,this._parents).order()}function Db(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mm(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function hm(){return Array.from(this)}function gm(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function xm(){let t=0;for(let e of this)++t;return t}function ym(){return!this.node()}function bm(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function Pb(t){return function(){this.removeAttribute(t)}}function Fb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lb(t,e){return function(){this.setAttribute(t,e)}}function Ob(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qb(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function zb(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function wm(t,e){var r=lr(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Fb:Pb:typeof e=="function"?r.local?zb:qb:r.local?Ob:Lb)(r,e))}function Va(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yb(t){return function(){this.style.removeProperty(t)}}function Bb(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Ub(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function vm(t,e,r){return arguments.length>1?this.each((e==null?Yb:typeof e=="function"?Ub:Bb)(t,e,r??"")):Dr(this.node(),t)}function Dr(t,e){return t.style.getPropertyValue(e)||Va(t).getComputedStyle(t,null).getPropertyValue(e)}function Xb(t){return function(){delete this[t]}}function Wb(t,e){return function(){this[t]=e}}function Hb(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Mm(t,e){return arguments.length>1?this.each((e==null?Xb:typeof e=="function"?Hb:Wb)(t,e)):this.node()[t]}function Sm(t){return t.trim().split(/^|\s+/)}function hs(t){return t.classList||new Tm(t)}function Tm(t){this._node=t,this._names=Sm(t.getAttribute("class")||"")}Tm.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _m(t,e){for(var r=hs(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function Cm(t,e){for(var r=hs(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function Gb(t){return function(){_m(this,t)}}function Vb(t){return function(){Cm(this,t)}}function jb(t,e){return function(){(e.apply(this,arguments)?_m:Cm)(this,t)}}function Am(t,e){var r=Sm(t+"");if(arguments.length<2){for(var n=hs(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?jb:e?Gb:Vb)(r,e))}function Zb(){this.textContent=""}function Kb(t){return function(){this.textContent=t}}function Qb(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function $m(t){return arguments.length?this.each(t==null?Zb:(typeof t=="function"?Qb:Kb)(t)):this.node().textContent}function Jb(){this.innerHTML=""}function t2(t){return function(){this.innerHTML=t}}function e2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function km(t){return arguments.length?this.each(t==null?Jb:(typeof t=="function"?e2:t2)(t)):this.node().innerHTML}function r2(){this.nextSibling&&this.parentNode.appendChild(this)}function Em(){return this.each(r2)}function n2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Im(){return this.each(n2)}function Rm(t){var e=typeof t=="function"?t:pr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function o2(){return null}function Nm(t,e){var r=typeof t=="function"?t:pr(t),n=e==null?o2:typeof e=="function"?e:fn(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function i2(){var t=this.parentNode;t&&t.removeChild(this)}function Dm(){return this.each(i2)}function a2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function f2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pm(t){return this.select(t?f2:a2)}function Fm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function u2(t){return function(e){t.call(this,e,this.__data__)}}function c2(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function s2(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function l2(t,e,r){return function(){var n=this.__on,o,i=u2(e);if(n){for(var a=0,f=n.length;a<f;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function Lm(t,e,r){var n=c2(t+""),o,i=n.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(o=0,s=f[u];o<i;++o)if((a=n[o]).type===s.type&&a.name===s.name)return s.value}return}for(f=e?l2:s2,o=0;o<i;++o)this.each(f(n[o],e,r));return this}function Om(t,e,r){var n=Va(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function p2(t,e){return function(){return Om(this,t,e)}}function d2(t,e){return function(){return Om(this,t,e.apply(this,arguments))}}function qm(t,e){return this.each((typeof e=="function"?d2:p2)(t,e))}function*zm(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var gs=[null];function St(t,e){this._groups=t,this._parents=e}function Ym(){return new St([[document.documentElement]],gs)}function m2(){return this}St.prototype=Ym.prototype={constructor:St,select:em,selectAll:rm,selectChild:nm,selectChildren:om,filter:im,data:um,enter:am,exit:cm,join:sm,merge:lm,selection:m2,order:pm,sort:dm,call:mm,nodes:hm,node:gm,size:xm,empty:ym,each:bm,attr:wm,style:vm,property:Mm,classed:Am,text:$m,html:km,raise:Em,lower:Im,append:Rm,insert:Nm,remove:Dm,clone:Pm,datum:Fm,on:Lm,dispatch:qm,[Symbol.iterator]:zm};var dr=Ym;function mr(t){return typeof t=="string"?new St([[document.querySelector(t)]],[document.documentElement]):new St([[t]],gs)}function Bm(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xs(t,e){if(t=Bm(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function hr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Pr(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Be(){}var Fr=.7,sn=1/Fr,Hn="\\s*([+-]?\\d+)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h2=/^#([0-9a-f]{3,8})$/,g2=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),x2=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),y2=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${ii}\\)$`),b2=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${ii}\\)$`),w2=new RegExp(`^hsl\\(${ii},${Ye},${Ye}\\)$`),v2=new RegExp(`^hsla\\(${ii},${Ye},${Ye},${ii}\\)$`),Um={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hr(Be,Ie,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xm,formatHex:Xm,formatHex8:M2,formatHsl:S2,formatRgb:Wm,toString:Wm});function Xm(){return this.rgb().formatHex()}function M2(){return this.rgb().formatHex8()}function S2(){return Km(this).formatHsl()}function Wm(){return this.rgb().formatRgb()}function Ie(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=h2.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Hm(e):r===3?new $t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ja(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ja(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g2.exec(t))?new $t(e[1],e[2],e[3],1):(e=x2.exec(t))?new $t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y2.exec(t))?ja(e[1],e[2],e[3],e[4]):(e=b2.exec(t))?ja(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w2.exec(t))?jm(e[1],e[2]/100,e[3]/100,1):(e=v2.exec(t))?jm(e[1],e[2]/100,e[3]/100,e[4]):Um.hasOwnProperty(t)?Hm(Um[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function Hm(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function ja(t,e,r,n){return n<=0&&(t=e=r=NaN),new $t(t,e,r,n)}function ai(t){return t instanceof Be||(t=Ie(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function ye(t,e,r,n){return arguments.length===1?ai(t):new $t(t,e,r,n??1)}function $t(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}hr($t,ye,Pr(Be,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fr:Math.pow(Fr,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(cn(this.r),cn(this.g),cn(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gm,formatHex:Gm,formatHex8:T2,formatRgb:Vm,toString:Vm}));function Gm(){return`#${un(this.r)}${un(this.g)}${un(this.b)}`}function T2(){return`#${un(this.r)}${un(this.g)}${un(this.b)}${un((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vm(){let t=Ka(this.opacity);return`${t===1?"rgb(":"rgba("}${cn(this.r)}, ${cn(this.g)}, ${cn(this.b)}${t===1?")":`, ${t})`}`}function Ka(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function un(t){return t=cn(t),(t<16?"0":"")+t.toString(16)}function jm(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ee(t,e,r,n)}function Km(t){if(t instanceof Ee)return new Ee(t.h,t.s,t.l,t.opacity);if(t instanceof Be||(t=Ie(t)),!t)return new Ee;if(t instanceof Ee)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,f=i-o,u=(i+o)/2;return f?(e===i?a=(r-n)/f+(r<n)*6:r===i?a=(n-e)/f+2:a=(e-r)/f+4,f/=u<.5?i+o:2-i-o,a*=60):f=u>0&&u<1?0:a,new Ee(a,f,u,t.opacity)}function fi(t,e,r,n){return arguments.length===1?Km(t):new Ee(t,e,r,n??1)}function Ee(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}hr(Ee,fi,Pr(Be,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new Ee(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fr:Math.pow(Fr,t),new Ee(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new $t(ys(t>=240?t-240:t+120,o,n),ys(t,o,n),ys(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Ee(Zm(this.h),Za(this.s),Za(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Ka(this.opacity);return`${t===1?"hsl(":"hsla("}${Zm(this.h)}, ${Za(this.s)*100}%, ${Za(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zm(t){return t=(t||0)%360,t<0?t+360:t}function Za(t){return Math.max(0,Math.min(1,t||0))}function ys(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}var Qa=Math.PI/180,Ja=180/Math.PI;var tf=18,Qm=.96422,Jm=1,th=.82521,eh=4/29,Gn=6/29,rh=3*Gn*Gn,_2=Gn*Gn*Gn;function nh(t){if(t instanceof Ue)return new Ue(t.l,t.a,t.b,t.opacity);if(t instanceof gr)return oh(t);t instanceof $t||(t=ai(t));var e=Ms(t.r),r=Ms(t.g),n=Ms(t.b),o=bs((.2225045*e+.7168786*r+.0606169*n)/Jm),i,a;return e===r&&r===n?i=a=o:(i=bs((.4360747*e+.3850649*r+.1430804*n)/Qm),a=bs((.0139322*e+.0971045*r+.7141733*n)/th)),new Ue(116*o-16,500*(i-o),200*(o-a),t.opacity)}function Vn(t,e,r,n){return arguments.length===1?nh(t):new Ue(t,e,r,n??1)}function Ue(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}hr(Ue,Vn,Pr(Be,{brighter(t){return new Ue(this.l+tf*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ue(this.l-tf*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=Qm*ws(e),t=Jm*ws(t),r=th*ws(r),new $t(vs(3.1338561*e-1.6168667*t-.4906146*r),vs(-.9787684*e+1.9161415*t+.033454*r),vs(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function bs(t){return t>_2?Math.pow(t,1/3):t/rh+eh}function ws(t){return t>Gn?t*t*t:rh*(t-eh)}function vs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ms(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function C2(t){if(t instanceof gr)return new gr(t.h,t.c,t.l,t.opacity);if(t instanceof Ue||(t=nh(t)),t.a===0&&t.b===0)return new gr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ja;return new gr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ui(t,e,r,n){return arguments.length===1?C2(t):new gr(t,e,r,n??1)}function gr(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function oh(t){if(isNaN(t.h))return new Ue(t.l,0,0,t.opacity);var e=t.h*Qa;return new Ue(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}hr(gr,ui,Pr(Be,{brighter(t){return new gr(this.h,this.c,this.l+tf*(t??1),this.opacity)},darker(t){return new gr(this.h,this.c,this.l-tf*(t??1),this.opacity)},rgb(){return oh(this).rgb()}}));var uh=-.14861,Ss=1.78277,Ts=-.29227,ef=-.90649,ci=1.97294,ih=ci*ef,ah=ci*Ss,fh=Ss*Ts-ef*uh;function A2(t){if(t instanceof ln)return new ln(t.h,t.s,t.l,t.opacity);t instanceof $t||(t=ai(t));var e=t.r/255,r=t.g/255,n=t.b/255,o=(fh*n+ih*e-ah*r)/(fh+ih-ah),i=n-o,a=(ci*(r-o)-Ts*i)/ef,f=Math.sqrt(a*a+i*i)/(ci*o*(1-o)),u=f?Math.atan2(a,i)*Ja-120:NaN;return new ln(u<0?u+360:u,f,o,t.opacity)}function re(t,e,r,n){return arguments.length===1?A2(t):new ln(t,e,r,n??1)}function ln(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}hr(ln,re,Pr(Be,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fr:Math.pow(Fr,t),new ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Qa,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),o=Math.sin(t);return new $t(255*(e+r*(uh*n+Ss*o)),255*(e+r*(Ts*n+ef*o)),255*(e+r*(ci*n)),this.opacity)}}));function _s(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function ch(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,f=n<e-1?t[n+2]:2*i-o;return _s((r-n/e)*e,a,o,i,f)}}function sh(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],f=t[(n+2)%e];return _s((r-n/e)*e,o,i,a,f)}}var jn=t=>()=>t;function lh(t,e){return function(r){return t+r*e}}function $2(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zn(t,e){var r=e-t;return r?lh(t,r>180||r<-180?r-360*Math.round(r/360):r):jn(isNaN(t)?e:t)}function ph(t){return(t=+t)==1?wt:function(e,r){return r-e?$2(e,r,t):jn(isNaN(e)?r:e)}}function wt(t,e){var r=e-t;return r?lh(t,r):jn(isNaN(t)?e:t)}var be=function t(e){var r=ph(e);function n(o,i){var a=r((o=ye(o)).r,(i=ye(i)).r),f=r(o.g,i.g),u=r(o.b,i.b),c=wt(o.opacity,i.opacity);return function(s){return o.r=a(s),o.g=f(s),o.b=u(s),o.opacity=c(s),o+""}}return n.gamma=t,n}(1);function dh(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,f;for(a=0;a<r;++a)f=ye(e[a]),n[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return n=t(n),o=t(o),i=t(i),f.opacity=1,function(u){return f.r=n(u),f.g=o(u),f.b=i(u),f+""}}}var Cs=dh(ch),k2=dh(sh);function mh(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=t[o]*(1-i)+e[o]*i;return n}}function hh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gh(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,o=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)o[a]=Re(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(f){for(a=0;a<n;++a)i[a]=o[a](f);return i}}function xh(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yh(t,e){var r={},n={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=Re(t[o],e[o]):n[o]=e[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var $s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,As=new RegExp($s.source,"g");function E2(t){return function(){return t}}function I2(t){return function(e){return t(e)+""}}function si(t,e){var r=$s.lastIndex=As.lastIndex=0,n,o,i,a=-1,f=[],u=[];for(t=t+"",e=e+"";(n=$s.exec(t))&&(o=As.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),f[a]?f[a]+=i:f[++a]=i),(n=n[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,u.push({i:a,x:xt(n,o)})),r=As.lastIndex;return r<e.length&&(i=e.slice(r),f[a]?f[a]+=i:f[++a]=i),f.length<2?u[0]?I2(u[0].x):E2(e):(e=u.length,function(c){for(var s=0,p;s<e;++s)f[(p=u[s]).i]=p.x(c);return f.join("")})}function Re(t,e){var r=typeof e,n;return e==null||r==="boolean"?jn(e):(r==="number"?xt:r==="string"?(n=Ie(e))?(e=n,be):si:e instanceof Ie?be:e instanceof Date?xh:hh(e)?mh:Array.isArray(e)?gh:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yh:xt)(t,e)}function pn(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var bh=180/Math.PI,rf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ks(t,e,r,n,o,i){var a,f,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*r+e*n)&&(r-=t*u,n-=e*u),(f=Math.sqrt(r*r+n*n))&&(r/=f,n/=f,u/=f),t*n<e*r&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*bh,skewX:Math.atan(u)*bh,scaleX:a,scaleY:f}}var nf;function wh(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rf:ks(e.a,e.b,e.c,e.d,e.e,e.f)}function vh(t){return t==null?rf:(nf||(nf=document.createElementNS("http://www.w3.org/2000/svg","g")),nf.setAttribute("transform",t),(t=nf.transform.baseVal.consolidate())?(t=t.matrix,ks(t.a,t.b,t.c,t.d,t.e,t.f)):rf)}function Mh(t,e,r,n){function o(c){return c.length?c.pop()+" ":""}function i(c,s,p,l,d,m){if(c!==p||s!==l){var h=d.push("translate(",null,e,null,r);m.push({i:h-4,x:xt(c,p)},{i:h-2,x:xt(s,l)})}else(p||l)&&d.push("translate("+p+e+l+r)}function a(c,s,p,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:p.push(o(p)+"rotate(",null,n)-2,x:xt(c,s)})):s&&p.push(o(p)+"rotate("+s+n)}function f(c,s,p,l){c!==s?l.push({i:p.push(o(p)+"skewX(",null,n)-2,x:xt(c,s)}):s&&p.push(o(p)+"skewX("+s+n)}function u(c,s,p,l,d,m){if(c!==p||s!==l){var h=d.push(o(d)+"scale(",null,",",null,")");m.push({i:h-4,x:xt(c,p)},{i:h-2,x:xt(s,l)})}else(p!==1||l!==1)&&d.push(o(d)+"scale("+p+","+l+")")}return function(c,s){var p=[],l=[];return c=t(c),s=t(s),i(c.translateX,c.translateY,s.translateX,s.translateY,p,l),a(c.rotate,s.rotate,p,l),f(c.skewX,s.skewX,p,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,p,l),c=s=null,function(d){for(var m=-1,h=l.length,g;++m<h;)p[(g=l[m]).i]=g.x(d);return p.join("")}}}var Es=Mh(wh,"px, ","px)","deg)"),Is=Mh(vh,", ",")",")");function Sh(t){return function(e,r){var n=t((e=fi(e)).h,(r=fi(r)).h),o=wt(e.s,r.s),i=wt(e.l,r.l),a=wt(e.opacity,r.opacity);return function(f){return e.h=n(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Rs=Sh(Zn),R2=Sh(wt);function of(t,e){var r=wt((t=Vn(t)).l,(e=Vn(e)).l),n=wt(t.a,e.a),o=wt(t.b,e.b),i=wt(t.opacity,e.opacity);return function(a){return t.l=r(a),t.a=n(a),t.b=o(a),t.opacity=i(a),t+""}}function Th(t){return function(e,r){var n=t((e=ui(e)).h,(r=ui(r)).h),o=wt(e.c,r.c),i=wt(e.l,r.l),a=wt(e.opacity,r.opacity);return function(f){return e.h=n(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Ns=Th(Zn),N2=Th(wt);function _h(t){return function e(r){r=+r;function n(o,i){var a=t((o=re(o)).h,(i=re(i)).h),f=wt(o.s,i.s),u=wt(o.l,i.l),c=wt(o.opacity,i.opacity);return function(s){return o.h=a(s),o.s=f(s),o.l=u(Math.pow(s,r)),o.opacity=c(s),o+""}}return n.gamma=e,n}(1)}var D2=_h(Zn),Kn=_h(wt);function Xe(t,e){e===void 0&&(e=t,t=Re);for(var r=0,n=e.length-1,o=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(o,o=e[++r]);return function(a){var f=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[f](a-f)}}function Ht(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t(n/(e-1));return r}var Qn=0,pi=0,li=0,Ah=1e3,af,di,ff=0,dn=0,uf=0,mi=typeof performance=="object"&&performance.now?performance:Date,$h=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gi(){return dn||($h(P2),dn=mi.now()+uf)}function P2(){dn=0}function hi(){this._call=this._time=this._next=null}hi.prototype=cf.prototype={constructor:hi,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?gi():+r)+(e==null?0:+e),!this._next&&di!==this&&(di?di._next=this:af=this,di=this),this._call=t,this._time=r,Ds()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ds())}};function cf(t,e,r){var n=new hi;return n.restart(t,e,r),n}function kh(){gi(),++Qn;for(var t=af,e;t;)(e=dn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qn}function Ch(){dn=(ff=mi.now())+uf,Qn=pi=0;try{kh()}finally{Qn=0,L2(),dn=0}}function F2(){var t=mi.now(),e=t-ff;e>Ah&&(uf-=e,ff=t)}function L2(){for(var t,e=af,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:af=r);di=t,Ds(n)}function Ds(t){if(!Qn){pi&&(pi=clearTimeout(pi));var e=t-dn;e>24?(t<1/0&&(pi=setTimeout(Ch,t-mi.now()-uf)),li&&(li=clearInterval(li))):(li||(ff=mi.now(),li=setInterval(F2,Ah)),Qn=1,$h(Ch))}}function sf(t,e,r){var n=new hi;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var O2=ds("start","end","cancel","interrupt"),q2=[],Rh=0,Eh=1,pf=2,lf=3,Ih=4,df=5,xi=6;function Lr(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;z2(t,r,{name:e,index:n,group:o,on:O2,tween:q2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Rh})}function yi(t,e){var r=Et(t,e);if(r.state>Rh)throw new Error("too late; already scheduled");return r}function Yt(t,e){var r=Et(t,e);if(r.state>lf)throw new Error("too late; already running");return r}function Et(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function z2(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=cf(i,0,r.time);function i(c){r.state=Eh,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var s,p,l,d;if(r.state!==Eh)return u();for(s in n)if(d=n[s],d.name===r.name){if(d.state===lf)return sf(a);d.state===Ih?(d.state=xi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete n[s]):+s<e&&(d.state=xi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete n[s])}if(sf(function(){r.state===lf&&(r.state=Ih,r.timer.restart(f,r.delay,r.time),f(c))}),r.state=pf,r.on.call("start",t,t.__data__,r.index,r.group),r.state===pf){for(r.state=lf,o=new Array(l=r.tween.length),s=0,p=-1;s<l;++s)(d=r.tween[s].value.call(t,t.__data__,r.index,r.group))&&(o[++p]=d);o.length=p+1}}function f(c){for(var s=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=df,1),p=-1,l=o.length;++p<l;)o[p].call(t,s);r.state===df&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=xi,r.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function mf(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>pf&&n.state<df,n.state=xi,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function Nh(t){return this.each(function(){mf(this,t)})}function Y2(t,e){var r,n;return function(){var o=Yt(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,f=n.length;a<f;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function B2(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=Yt(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var f={name:e,value:r},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=f;break}u===c&&o.push(f)}i.tween=o}}function Dh(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Et(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?Y2:B2)(r,t,e))}function Jn(t,e,r){var n=t._id;return t.each(function(){var o=Yt(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return Et(o,n).value[e]}}function hf(t,e){var r;return(typeof e=="number"?xt:e instanceof Ie?be:(r=Ie(e))?(e=r,be):si)(t,e)}function U2(t){return function(){this.removeAttribute(t)}}function X2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function W2(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function H2(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function G2(t,e,r){var n,o,i;return function(){var a,f=r(this),u;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=f+"",a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f)))}}function V2(t,e,r){var n,o,i;return function(){var a,f=r(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=f+"",a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f)))}}function Ph(t,e){var r=lr(t),n=r==="transform"?Is:hf;return this.attrTween(t,typeof e=="function"?(r.local?V2:G2)(r,n,Jn(this,"attr."+t,e)):e==null?(r.local?X2:U2)(r):(r.local?H2:W2)(r,n,e))}function j2(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Z2(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function K2(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Z2(t,i)),r}return o._value=e,o}function Q2(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&j2(t,i)),r}return o._value=e,o}function Fh(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=lr(t);return this.tween(r,(n.local?K2:Q2)(n,e))}function J2(t,e){return function(){yi(this,t).delay=+e.apply(this,arguments)}}function tw(t,e){return e=+e,function(){yi(this,t).delay=e}}function Lh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?J2:tw)(e,t)):Et(this.node(),e).delay}function ew(t,e){return function(){Yt(this,t).duration=+e.apply(this,arguments)}}function rw(t,e){return e=+e,function(){Yt(this,t).duration=e}}function Oh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ew:rw)(e,t)):Et(this.node(),e).duration}function nw(t,e){if(typeof e!="function")throw new Error;return function(){Yt(this,t).ease=e}}function qh(t){var e=this._id;return arguments.length?this.each(nw(e,t)):Et(this.node(),e).ease}function ow(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Yt(this,t).ease=r}}function zh(t){if(typeof t!="function")throw new Error;return this.each(ow(this._id,t))}function Yh(t){typeof t!="function"&&(t=ni(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,f=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new ne(n,this._parents,this._name,this._id)}function Bh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),f=0;f<i;++f)for(var u=e[f],c=r[f],s=u.length,p=a[f]=new Array(s),l,d=0;d<s;++d)(l=u[d]||c[d])&&(p[d]=l);for(;f<n;++f)a[f]=e[f];return new ne(a,this._parents,this._name,this._id)}function iw(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function aw(t,e,r){var n,o,i=iw(e)?yi:Yt;return function(){var a=i(this,t),f=a.on;f!==n&&(o=(n=f).copy()).on(e,r),a.on=o}}function Uh(t,e){var r=this._id;return arguments.length<2?Et(this.node(),r).on.on(t):this.each(aw(r,t,e))}function fw(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Xh(){return this.on("end.remove",fw(this._id))}function Wh(t){var e=this._name,r=this._id;typeof t!="function"&&(t=fn(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var f=n[a],u=f.length,c=i[a]=new Array(u),s,p,l=0;l<u;++l)(s=f[l])&&(p=t.call(s,s.__data__,l,f))&&("__data__"in s&&(p.__data__=s.__data__),c[l]=p,Lr(c[l],e,r,l,c,Et(s,r)));return new ne(i,this._parents,e,r)}function Hh(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ri(t));for(var n=this._groups,o=n.length,i=[],a=[],f=0;f<o;++f)for(var u=n[f],c=u.length,s,p=0;p<c;++p)if(s=u[p]){for(var l=t.call(s,s.__data__,p,u),d,m=Et(s,r),h=0,g=l.length;h<g;++h)(d=l[h])&&Lr(d,e,r,h,l,m);i.push(l),a.push(s)}return new ne(i,a,e,r)}var uw=dr.prototype.constructor;function Gh(){return new uw(this._groups,this._parents)}function cw(t,e){var r,n,o;return function(){var i=Dr(this,t),a=(this.style.removeProperty(t),Dr(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function Vh(t){return function(){this.style.removeProperty(t)}}function sw(t,e,r){var n,o=r+"",i;return function(){var a=Dr(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function lw(t,e,r){var n,o,i;return function(){var a=Dr(this,t),f=r(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),Dr(this,t))),a===u?null:a===n&&u===o?i:(o=u,i=e(n=a,f))}}function pw(t,e){var r,n,o,i="style."+e,a="end."+i,f;return function(){var u=Yt(this,t),c=u.on,s=u.value[i]==null?f||(f=Vh(e)):void 0;(c!==r||o!==s)&&(n=(r=c).copy()).on(a,o=s),u.on=n}}function jh(t,e,r){var n=(t+="")=="transform"?Es:hf;return e==null?this.styleTween(t,cw(t,n)).on("end.style."+t,Vh(t)):typeof e=="function"?this.styleTween(t,lw(t,n,Jn(this,"style."+t,e))).each(pw(this._id,t)):this.styleTween(t,sw(t,n,e),r).on("end.style."+t,null)}function dw(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function mw(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&dw(t,a,r)),n}return i._value=e,i}function Zh(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,mw(t,e,r??""))}function hw(t){return function(){this.textContent=t}}function gw(t){return function(){var e=t(this);this.textContent=e??""}}function Kh(t){return this.tween("text",typeof t=="function"?gw(Jn(this,"text",t)):hw(t==null?"":t+""))}function xw(t){return function(e){this.textContent=t.call(this,e)}}function yw(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&xw(o)),e}return n._value=t,n}function Qh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yw(t))}function Jh(){for(var t=this._name,e=this._id,r=gf(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=Et(u,e);Lr(u,t,r,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new ne(n,this._parents,t,r)}function t0(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var f={value:a},u={value:function(){--o===0&&i()}};r.each(function(){var c=Yt(this,n),s=c.on;s!==t&&(e=(t=s).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(u)),c.on=e}),o===0&&i()})}var bw=0;function ne(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function e0(t){return dr().transition(t)}function gf(){return++bw}var xr=dr.prototype;ne.prototype=e0.prototype={constructor:ne,select:Wh,selectAll:Hh,selectChild:xr.selectChild,selectChildren:xr.selectChildren,filter:Yh,merge:Bh,selection:Gh,transition:Jh,call:xr.call,nodes:xr.nodes,node:xr.node,size:xr.size,empty:xr.empty,each:xr.each,on:Uh,attr:Ph,attrTween:Fh,style:jh,styleTween:Zh,text:Kh,textTween:Qh,remove:Xh,tween:Dh,delay:Lh,duration:Oh,ease:qh,easeVarying:zh,end:t0,[Symbol.iterator]:xr[Symbol.iterator]};function xf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ww={time:null,delay:0,duration:250,ease:xf};function vw(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function r0(t){var e,r;t instanceof ne?(e=t._id,t=t._name):(e=gf(),(r=ww).time=gi(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&Lr(u,t,e,c,a,r||vw(u,e));return new ne(n,this._parents,t,e)}dr.prototype.interrupt=Nh;dr.prototype.transition=r0;var{abs:OC,max:qC,min:zC}=Math;function n0(t){return[+t[0],+t[1]]}function Mw(t){return[n0(t[0]),n0(t[1])]}var YC={name:"x",handles:["w","e"].map(Ps),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},BC={name:"y",handles:["n","s"].map(Ps),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},UC={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ps),input:function(t){return t==null?null:Mw(t)},output:function(t){return t}};function Ps(t){return{type:t}}var Fs=Math.PI,Ls=2*Fs,mn=1e-6,Sw=Ls-mn;function o0(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Tw(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o0;let r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var to=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o0:Tw(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,f=this._y1,u=n-e,c=o-r,s=a-e,p=f-r,l=s*s+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(l>mn)if(!(Math.abs(p*u-c*s)>mn)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let d=n-a,m=o-f,h=u*u+c*c,g=d*d+m*m,w=Math.sqrt(h),x=Math.sqrt(l),M=i*Math.tan((Fs-Math.acos((h+l-g)/(2*w*x)))/2),y=M/x,v=M/w;Math.abs(y-1)>mn&&this._append`L${e+y*s},${r+y*p}`,this._append`A${i},${i},0,0,${+(p*d>s*m)},${this._x1=e+v*u},${this._y1=r+v*c}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(o),u=n*Math.sin(o),c=e+f,s=r+u,p=1^a,l=a?o-i:i-o;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>mn||Math.abs(this._y1-s)>mn)&&this._append`L${c},${s}`,n&&(l<0&&(l=l%Ls+Ls),l>Sw?this._append`A${n},${n},0,1,${p},${e-f},${r-u}A${n},${n},0,1,${p},${this._x1=c},${this._y1=s}`:l>mn&&this._append`A${n},${n},0,${+(l>=Fs)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function i0(){return new to}i0.prototype=to.prototype;function Ne(t=3){return new to(+t)}var a0={},Os={},qs=34,bi=10,zs=13;function u0(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function _w(t,e){var r=u0(t);return function(n,o){return e(r(n),o,t)}}function f0(t){var e=Object.create(null),r=[];return t.forEach(function(n){for(var o in n)o in e||r.push(e[o]=o)}),r}function ue(t,e){var r=t+"",n=r.length;return n<e?new Array(e-n+1).join(0)+r:r}function Cw(t){return t<0?"-"+ue(-t,6):t>9999?"+"+ue(t,6):ue(t,4)}function Aw(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Cw(t.getUTCFullYear(),4)+"-"+ue(t.getUTCMonth()+1,2)+"-"+ue(t.getUTCDate(),2)+(o?"T"+ue(e,2)+":"+ue(r,2)+":"+ue(n,2)+"."+ue(o,3)+"Z":n?"T"+ue(e,2)+":"+ue(r,2)+":"+ue(n,2)+"Z":r||e?"T"+ue(e,2)+":"+ue(r,2)+"Z":"")}function wi(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(p,l){var d,m,h=o(p,function(g,w){if(d)return d(g,w-1);m=g,d=l?_w(g,l):u0(g)});return h.columns=m||[],h}function o(p,l){var d=[],m=p.length,h=0,g=0,w,x=m<=0,M=!1;p.charCodeAt(m-1)===bi&&--m,p.charCodeAt(m-1)===zs&&--m;function y(){if(x)return Os;if(M)return M=!1,a0;var b,S=h,$;if(p.charCodeAt(S)===qs){for(;h++<m&&p.charCodeAt(h)!==qs||p.charCodeAt(++h)===qs;);return(b=h)>=m?x=!0:($=p.charCodeAt(h++))===bi?M=!0:$===zs&&(M=!0,p.charCodeAt(h)===bi&&++h),p.slice(S+1,b-1).replace(/""/g,'"')}for(;h<m;){if(($=p.charCodeAt(b=h++))===bi)M=!0;else if($===zs)M=!0,p.charCodeAt(h)===bi&&++h;else if($!==r)continue;return p.slice(S,b)}return x=!0,p.slice(S,m)}for(;(w=y())!==Os;){for(var v=[];w!==a0&&w!==Os;)v.push(w),w=y();l&&(v=l(v,g++))==null||d.push(v)}return d}function i(p,l){return p.map(function(d){return l.map(function(m){return s(d[m])}).join(t)})}function a(p,l){return l==null&&(l=f0(p)),[l.map(s).join(t)].concat(i(p,l)).join(`
`)}function f(p,l){return l==null&&(l=f0(p)),i(p,l).join(`
`)}function u(p){return p.map(c).join(`
`)}function c(p){return p.map(s).join(t)}function s(p){return p==null?"":p instanceof Date?Aw(p):e.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p}return{parse:n,parseRows:o,format:a,formatBody:f,formatRows:u,formatRow:c,formatValue:s}}var hn=wi(","),Ys=hn.parse,$w=hn.parseRows,kw=hn.format,Ew=hn.formatBody,Iw=hn.formatRows,Rw=hn.formatRow,Nw=hn.formatValue;var gn=wi("	"),Bs=gn.parse,Dw=gn.parseRows,Pw=gn.format,Fw=gn.formatBody,Lw=gn.formatRows,Ow=gn.formatRow,qw=gn.formatValue;function zw(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function c0(t,e){return fetch(t,e).then(zw)}function s0(t){return function(e,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),c0(e,r).then(function(o){return t(o,n)})}}var Us=s0(Ys),Yw=s0(Bs);function l0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xn(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function We(t){return t=xn(Math.abs(t)),t?t[1]:NaN}function p0(t,e){return function(r,n){for(var o=r.length,i=[],a=0,f=t[0],u=0;o>0&&f>0&&(u+f+1>n&&(f=Math.max(1,n-u)),i.push(r.substring(o-=f,o+f)),!((u+=f+1)>n));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function d0(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Bw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function He(t){if(!(e=Bw.exec(t)))throw new Error("invalid format: "+t);var e;return new yf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}He.prototype=yf.prototype;function yf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m0(t){t:for(var e=t.length,r=1,n=-1,o;r<e;++r)switch(t[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var Xs;function h0(t,e){var r=xn(t,e);if(!r)return t+"";var n=r[0],o=r[1],i=o-(Xs=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+xn(t,Math.max(0,e+i-1))[0]}function Ws(t,e){var r=xn(t,e);if(!r)return t+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var Hs={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:l0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ws(t*100,e),r:Ws,s:h0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gs(t){return t}var g0=Array.prototype.map,x0=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function y0(t){var e=t.grouping===void 0||t.thousands===void 0?Gs:p0(g0.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Gs:d0(g0.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(p){p=He(p);var l=p.fill,d=p.align,m=p.sign,h=p.symbol,g=p.zero,w=p.width,x=p.comma,M=p.precision,y=p.trim,v=p.type;v==="n"?(x=!0,v="g"):Hs[v]||(M===void 0&&(M=12),y=!0,v="g"),(g||l==="0"&&d==="=")&&(g=!0,l="0",d="=");var b=h==="$"?r:h==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",S=h==="$"?n:/[%p]/.test(v)?a:"",$=Hs[v],A=/[defgprs%]/.test(v);M=M===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function I(_){var R=b,F=S,P,T,D;if(v==="c")F=$(_)+F,_="";else{_=+_;var j=_<0||1/_<0;if(_=isNaN(_)?u:$(Math.abs(_),M),y&&(_=m0(_)),j&&+_==0&&m!=="+"&&(j=!1),R=(j?m==="("?m:f:m==="-"||m==="("?"":m)+R,F=(v==="s"?x0[8+Xs/3]:"")+F+(j&&m==="("?")":""),A){for(P=-1,T=_.length;++P<T;)if(D=_.charCodeAt(P),48>D||D>57){F=(D===46?o+_.slice(P+1):_.slice(P))+F,_=_.slice(0,P);break}}}x&&!g&&(_=e(_,1/0));var G=R.length+_.length+F.length,E=G<w?new Array(w-G+1).join(l):"";switch(x&&g&&(_=e(E+_,E.length?w-F.length:1/0),E=""),d){case"<":_=R+_+F+E;break;case"=":_=R+E+_+F;break;case"^":_=E.slice(0,G=E.length>>1)+R+_+F+E.slice(G);break;default:_=E+R+_+F;break}return i(_)}return I.toString=function(){return p+""},I}function s(p,l){var d=c((p=He(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(We(l)/3)))*3,h=Math.pow(10,-m),g=x0[8+m/3];return function(w){return d(h*w)+g}}return{format:c,formatPrefix:s}}var bf,we,wf;Vs({thousands:",",grouping:[3],currency:["$",""]});function Vs(t){return bf=y0(t),we=bf.format,wf=bf.formatPrefix,bf}function js(t){return Math.max(0,-We(Math.abs(t)))}function Zs(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(We(e)/3)))*3-We(Math.abs(t)))}function Ks(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,We(e)-We(t))+1}var W=1e-6,vf=1e-12,Z=Math.PI,ut=Z/2,Qs=Z/4,Pt=Z*2,It=180/Z,ct=Z/180,Q=Math.abs,ve=Math.atan,Bt=Math.atan2,X=Math.cos;var Mf=Math.exp;var yn=Math.log,Sf=Math.pow,U=Math.sin,Gt=Math.sign||function(t){return t>0?1:t<0?-1:0},ht=Math.sqrt,eo=Math.tan;function Tf(t){return t>1?0:t<-1?Z:Math.acos(t)}function Tt(t){return t>1?ut:t<-1?-ut:Math.asin(t)}function Ft(){}function _f(t,e){t&&w0.hasOwnProperty(t.type)&&w0[t.type](t,e)}var b0={Feature:function(t,e){_f(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)_f(r[n].geometry,e)}},w0={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Js(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)Js(r[n],e,0)},Polygon:function(t,e){v0(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)v0(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)_f(r[n],e)}};function Js(t,e,r){var n=-1,o=t.length-r,i;for(e.lineStart();++n<o;)i=t[n],e.point(i[0],i[1],i[2]);e.lineEnd()}function v0(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)Js(t[r],e,1);e.polygonEnd()}function De(t,e){t&&b0.hasOwnProperty(t.type)?b0[t.type](t,e):_f(t,e)}function vi(t){return[Bt(t[1],t[0]),Tt(t[2])]}function Ge(t){var e=t[0],r=t[1],n=X(r);return[n*X(e),n*U(e),U(r)]}function Mi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ro(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Cf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Si(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ti(t){var e=ht(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _i(t,e){function r(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),r}function tl(t,e){return Q(t)>Z&&(t-=Math.round(t/Pt)*Pt),[t,e]}tl.invert=tl;function el(t,e,r){return(t%=Pt)?e||r?_i(S0(t),T0(e,r)):S0(t):e||r?T0(e,r):tl}function M0(t){return function(e,r){return e+=t,Q(e)>Z&&(e-=Math.round(e/Pt)*Pt),[e,r]}}function S0(t){var e=M0(t);return e.invert=M0(-t),e}function T0(t,e){var r=X(t),n=U(t),o=X(e),i=U(e);function a(f,u){var c=X(u),s=X(f)*c,p=U(f)*c,l=U(u),d=l*r+s*n;return[Bt(p*o-d*i,s*r-l*n),Tt(d*o+p*i)]}return a.invert=function(f,u){var c=X(u),s=X(f)*c,p=U(f)*c,l=U(u),d=l*o-p*i;return[Bt(p*o+l*i,s*r+d*n),Tt(d*r-s*n)]},a}function _0(t){t=el(t[0]*ct,t[1]*ct,t.length>2?t[2]*ct:0);function e(r){return r=t(r[0]*ct,r[1]*ct),r[0]*=It,r[1]*=It,r}return e.invert=function(r){return r=t.invert(r[0]*ct,r[1]*ct),r[0]*=It,r[1]*=It,r},e}function A0(t,e,r,n,o,i){if(r){var a=X(e),f=U(e),u=n*r;o==null?(o=e+n*Pt,i=e-u/2):(o=C0(a,o),i=C0(a,i),(n>0?o<i:o>i)&&(o+=n*Pt));for(var c,s=o;n>0?s>i:s<i;s-=u)c=vi([a,-f*X(s),-f*U(s)]),t.point(c[0],c[1])}}function C0(t,e){e=Ge(e),e[0]-=t,Ti(e);var r=Tf(-e[1]);return((-e[2]<0?-r:r)+Pt-W)%Pt}function Af(){var t=[],e;return{point:function(r,n,o){e.push([r,n,o])},lineStart:function(){t.push(e=[])},lineEnd:Ft,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function no(t,e){return Q(t[0]-e[0])<W&&Q(t[1]-e[1])<W}function $f(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function kf(t,e,r,n,o){var i=[],a=[],f,u;if(t.forEach(function(m){if(!((h=m.length-1)<=0)){var h,g=m[0],w=m[h],x;if(no(g,w)){if(!g[2]&&!w[2]){for(o.lineStart(),f=0;f<h;++f)o.point((g=m[f])[0],g[1]);o.lineEnd();return}w[0]+=2*W}i.push(x=new $f(g,m,null,!0)),a.push(x.o=new $f(g,null,x,!1)),i.push(x=new $f(w,m,null,!1)),a.push(x.o=new $f(w,null,x,!0))}}),!!i.length){for(a.sort(e),$0(i),$0(a),f=0,u=a.length;f<u;++f)a[f].e=r=!r;for(var c=i[0],s,p;;){for(var l=c,d=!0;l.v;)if((l=l.n)===c)return;s=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,u=s.length;f<u;++f)o.point((p=s[f])[0],p[1]);else n(l.x,l.n.x,1,o);l=l.n}else{if(d)for(s=l.p.z,f=s.length-1;f>=0;--f)o.point((p=s[f])[0],p[1]);else n(l.x,l.p.x,-1,o);l=l.p}l=l.o,s=l.z,d=!d}while(!l.v);o.lineEnd()}}}function $0(t){if(e=t.length){for(var e,r=0,n=t[0],o;++r<e;)n.n=o=t[r],o.p=n,n=o;n.n=o=t[0],o.p=n}}function rl(t){return Q(t[0])<=Z?t[0]:Gt(t[0])*((Q(t[0])+Z)%Pt-Z)}function k0(t,e){var r=rl(e),n=e[1],o=U(n),i=[U(r),-X(r),0],a=0,f=0,u=new se;o===1?n=ut+W:o===-1&&(n=-ut-W);for(var c=0,s=t.length;c<s;++c)if(l=(p=t[c]).length)for(var p,l,d=p[l-1],m=rl(d),h=d[1]/2+Qs,g=U(h),w=X(h),x=0;x<l;++x,m=y,g=b,w=S,d=M){var M=p[x],y=rl(M),v=M[1]/2+Qs,b=U(v),S=X(v),$=y-m,A=$>=0?1:-1,I=A*$,_=I>Z,R=g*b;if(u.add(Bt(R*A*U(I),w*S+R*X(I))),a+=_?$+A*Pt:$,_^m>=r^y>=r){var F=ro(Ge(d),Ge(M));Ti(F);var P=ro(i,F);Ti(P);var T=(_^$>=0?-1:1)*Tt(P[2]);(n>T||n===T&&(F[0]||F[1]))&&(f+=_^$>=0?1:-1)}}return(a<-W||a<W&&u<-vf)^f&1}function Ef(t,e,r,n){return function(o){var i=e(o),a=Af(),f=e(a),u=!1,c,s,p,l={point:d,lineStart:h,lineEnd:g,polygonStart:function(){l.point=w,l.lineStart=x,l.lineEnd=M,s=[],c=[]},polygonEnd:function(){l.point=d,l.lineStart=h,l.lineEnd=g,s=Wn(s);var y=k0(c,n);s.length?(u||(o.polygonStart(),u=!0),kf(s,Xw,y,r,o)):y&&(u||(o.polygonStart(),u=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(y,v){t(y,v)&&o.point(y,v)}function m(y,v){i.point(y,v)}function h(){l.point=m,i.lineStart()}function g(){l.point=d,i.lineEnd()}function w(y,v){p.push([y,v]),f.point(y,v)}function x(){f.lineStart(),p=[]}function M(){w(p[0][0],p[0][1]),f.lineEnd();var y=f.clean(),v=a.result(),b,S=v.length,$,A,I;if(p.pop(),c.push(p),p=null,!!S){if(y&1){if(A=v[0],($=A.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),b=0;b<$;++b)o.point((I=A[b])[0],I[1]);o.lineEnd()}return}S>1&&y&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(Uw))}}return l}}function Uw(t){return t.length>1}function Xw(t,e){return((t=t.x)[0]<0?t[1]-ut-W:ut-t[1])-((e=e.x)[0]<0?e[1]-ut-W:ut-e[1])}var nl=Ef(function(){return!0},Ww,Gw,[-Z,-ut]);function Ww(t){var e=NaN,r=NaN,n=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?Z:-Z,u=Q(i-e);Q(u-Z)<W?(t.point(e,r=(r+a)/2>0?ut:-ut),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(f,r),t.point(i,r),o=0):n!==f&&u>=Z&&(Q(e-n)<W&&(e-=n*W),Q(i-f)<W&&(i-=f*W),r=Hw(e,r,i,a),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(f,r),o=0),t.point(e=i,r=a),n=f},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-o}}}function Hw(t,e,r,n){var o,i,a=U(t-r);return Q(a)>W?ve((U(e)*(i=X(n))*U(r)-U(n)*(o=X(e))*U(t))/(o*i*a)):(e+n)/2}function Gw(t,e,r,n){var o;if(t==null)o=r*ut,n.point(-Z,o),n.point(0,o),n.point(Z,o),n.point(Z,0),n.point(Z,-o),n.point(0,-o),n.point(-Z,-o),n.point(-Z,0),n.point(-Z,o);else if(Q(t[0]-e[0])>W){var i=t[0]<e[0]?Z:-Z;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])}function E0(t){var e=X(t),r=6*ct,n=e>0,o=Q(e)>W;function i(s,p,l,d){A0(d,t,r,l,s,p)}function a(s,p){return X(s)*X(p)>e}function f(s){var p,l,d,m,h;return{lineStart:function(){m=d=!1,h=1},point:function(g,w){var x=[g,w],M,y=a(g,w),v=n?y?0:c(g,w):y?c(g+(g<0?Z:-Z),w):0;if(!p&&(m=d=y)&&s.lineStart(),y!==d&&(M=u(p,x),(!M||no(p,M)||no(x,M))&&(x[2]=1)),y!==d)h=0,y?(s.lineStart(),M=u(x,p),s.point(M[0],M[1])):(M=u(p,x),s.point(M[0],M[1],2),s.lineEnd()),p=M;else if(o&&p&&n^y){var b;!(v&l)&&(b=u(x,p,!0))&&(h=0,n?(s.lineStart(),s.point(b[0][0],b[0][1]),s.point(b[1][0],b[1][1]),s.lineEnd()):(s.point(b[1][0],b[1][1]),s.lineEnd(),s.lineStart(),s.point(b[0][0],b[0][1],3)))}y&&(!p||!no(p,x))&&s.point(x[0],x[1]),p=x,d=y,l=v},lineEnd:function(){d&&s.lineEnd(),p=null},clean:function(){return h|(m&&d)<<1}}}function u(s,p,l){var d=Ge(s),m=Ge(p),h=[1,0,0],g=ro(d,m),w=Mi(g,g),x=g[0],M=w-x*x;if(!M)return!l&&s;var y=e*w/M,v=-e*x/M,b=ro(h,g),S=Si(h,y),$=Si(g,v);Cf(S,$);var A=b,I=Mi(S,A),_=Mi(A,A),R=I*I-_*(Mi(S,S)-1);if(!(R<0)){var F=ht(R),P=Si(A,(-I-F)/_);if(Cf(P,S),P=vi(P),!l)return P;var T=s[0],D=p[0],j=s[1],G=p[1],E;D<T&&(E=T,T=D,D=E);var z=D-T,B=Q(z-Z)<W,L=B||z<W;if(!B&&G<j&&(E=j,j=G,G=E),L?B?j+G>0^P[1]<(Q(P[0]-T)<W?j:G):j<=P[1]&&P[1]<=G:z>Z^(T<=P[0]&&P[0]<=D)){var V=Si(A,(-I+F)/_);return Cf(V,S),[P,vi(V)]}}}function c(s,p){var l=n?t:Z-t,d=0;return s<-l?d|=1:s>l&&(d|=2),p<-l?d|=4:p>l&&(d|=8),d}return Ef(a,f,i,n?[0,-t]:[-Z,t-Z])}function I0(t,e,r,n,o,i){var a=t[0],f=t[1],u=e[0],c=e[1],s=0,p=1,l=u-a,d=c-f,m;if(m=r-a,!(!l&&m>0)){if(m/=l,l<0){if(m<s)return;m<p&&(p=m)}else if(l>0){if(m>p)return;m>s&&(s=m)}if(m=o-a,!(!l&&m<0)){if(m/=l,l<0){if(m>p)return;m>s&&(s=m)}else if(l>0){if(m<s)return;m<p&&(p=m)}if(m=n-f,!(!d&&m>0)){if(m/=d,d<0){if(m<s)return;m<p&&(p=m)}else if(d>0){if(m>p)return;m>s&&(s=m)}if(m=i-f,!(!d&&m<0)){if(m/=d,d<0){if(m>p)return;m>s&&(s=m)}else if(d>0){if(m<s)return;m<p&&(p=m)}return s>0&&(t[0]=a+s*l,t[1]=f+s*d),p<1&&(e[0]=a+p*l,e[1]=f+p*d),!0}}}}}var Ci=1e9,If=-Ci;function oo(t,e,r,n){function o(c,s){return t<=c&&c<=r&&e<=s&&s<=n}function i(c,s,p,l){var d=0,m=0;if(c==null||(d=a(c,p))!==(m=a(s,p))||u(c,s)<0^p>0)do l.point(d===0||d===3?t:r,d>1?n:e);while((d=(d+p+4)%4)!==m);else l.point(s[0],s[1])}function a(c,s){return Q(c[0]-t)<W?s>0?0:3:Q(c[0]-r)<W?s>0?2:1:Q(c[1]-e)<W?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var p=a(c,1),l=a(s,1);return p!==l?p-l:p===0?s[1]-c[1]:p===1?c[0]-s[0]:p===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,p=Af(),l,d,m,h,g,w,x,M,y,v,b,S={point:$,lineStart:R,lineEnd:F,polygonStart:I,polygonEnd:_};function $(T,D){o(T,D)&&s.point(T,D)}function A(){for(var T=0,D=0,j=d.length;D<j;++D)for(var G=d[D],E=1,z=G.length,B=G[0],L,V,nt=B[0],tt=B[1];E<z;++E)L=nt,V=tt,B=G[E],nt=B[0],tt=B[1],V<=n?tt>n&&(nt-L)*(n-V)>(tt-V)*(t-L)&&++T:tt<=n&&(nt-L)*(n-V)<(tt-V)*(t-L)&&--T;return T}function I(){s=p,l=[],d=[],b=!0}function _(){var T=A(),D=b&&T,j=(l=Wn(l)).length;(D||j)&&(c.polygonStart(),D&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),j&&kf(l,f,T,i,c),c.polygonEnd()),s=c,l=d=m=null}function R(){S.point=P,d&&d.push(m=[]),v=!0,y=!1,x=M=NaN}function F(){l&&(P(h,g),w&&y&&p.rejoin(),l.push(p.result())),S.point=$,y&&s.lineEnd()}function P(T,D){var j=o(T,D);if(d&&m.push([T,D]),v)h=T,g=D,w=j,v=!1,j&&(s.lineStart(),s.point(T,D));else if(j&&y)s.point(T,D);else{var G=[x=Math.max(If,Math.min(Ci,x)),M=Math.max(If,Math.min(Ci,M))],E=[T=Math.max(If,Math.min(Ci,T)),D=Math.max(If,Math.min(Ci,D))];I0(G,E,t,e,r,n)?(y||(s.lineStart(),s.point(G[0],G[1])),s.point(E[0],E[1]),j||s.lineEnd(),b=!1):j&&(s.lineStart(),s.point(T,D),b=!1)}x=T,M=D,y=j}return S}}var Ai=t=>t;var ol=new se,il=new se,R0,N0,al,fl,Or={point:Ft,lineStart:Ft,lineEnd:Ft,polygonStart:function(){Or.lineStart=Vw,Or.lineEnd=Zw},polygonEnd:function(){Or.lineStart=Or.lineEnd=Or.point=Ft,ol.add(Q(il)),il=new se},result:function(){var t=ol/2;return ol=new se,t}};function Vw(){Or.point=jw}function jw(t,e){Or.point=D0,R0=al=t,N0=fl=e}function D0(t,e){il.add(fl*t-al*e),al=t,fl=e}function Zw(){D0(R0,N0)}var ul=Or;var io=1/0,Rf=io,$i=-io,Nf=$i,Kw={point:Qw,lineStart:Ft,lineEnd:Ft,polygonStart:Ft,polygonEnd:Ft,result:function(){var t=[[io,Rf],[$i,Nf]];return $i=Nf=-(Rf=io=1/0),t}};function Qw(t,e){t<io&&(io=t),t>$i&&($i=t),e<Rf&&(Rf=e),e>Nf&&(Nf=e)}var ao=Kw;var cl=0,sl=0,ki=0,Df=0,Pf=0,fo=0,ll=0,pl=0,Ei=0,L0,O0,Ve,je,Pe={point:bn,lineStart:P0,lineEnd:F0,polygonStart:function(){Pe.lineStart=ev,Pe.lineEnd=rv},polygonEnd:function(){Pe.point=bn,Pe.lineStart=P0,Pe.lineEnd=F0},result:function(){var t=Ei?[ll/Ei,pl/Ei]:fo?[Df/fo,Pf/fo]:ki?[cl/ki,sl/ki]:[NaN,NaN];return cl=sl=ki=Df=Pf=fo=ll=pl=Ei=0,t}};function bn(t,e){cl+=t,sl+=e,++ki}function P0(){Pe.point=Jw}function Jw(t,e){Pe.point=tv,bn(Ve=t,je=e)}function tv(t,e){var r=t-Ve,n=e-je,o=ht(r*r+n*n);Df+=o*(Ve+t)/2,Pf+=o*(je+e)/2,fo+=o,bn(Ve=t,je=e)}function F0(){Pe.point=bn}function ev(){Pe.point=nv}function rv(){q0(L0,O0)}function nv(t,e){Pe.point=q0,bn(L0=Ve=t,O0=je=e)}function q0(t,e){var r=t-Ve,n=e-je,o=ht(r*r+n*n);Df+=o*(Ve+t)/2,Pf+=o*(je+e)/2,fo+=o,o=je*t-Ve*e,ll+=o*(Ve+t),pl+=o*(je+e),Ei+=o*3,bn(Ve=t,je=e)}var dl=Pe;function Ff(t){this._context=t}Ff.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pt);break}}},result:Ft};var hl=new se,ml,z0,Y0,Ii,Ri,Lf={point:Ft,lineStart:function(){Lf.point=ov},lineEnd:function(){ml&&B0(z0,Y0),Lf.point=Ft},polygonStart:function(){ml=!0},polygonEnd:function(){ml=null},result:function(){var t=+hl;return hl=new se,t}};function ov(t,e){Lf.point=B0,z0=Ii=t,Y0=Ri=e}function B0(t,e){Ii-=t,Ri-=e,hl.add(ht(Ii*Ii+Ri*Ri)),Ii=t,Ri=e}var gl=Lf;var U0,Of,X0,W0,uo=class{constructor(e){this._append=e==null?H0:iv(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==X0||this._append!==Of){let n=this._radius,o=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,X0=n,Of=this._append,W0=this._,this._=o}this._+=W0;break}}}result(){let e=this._;return this._="",e.length?e:null}};function H0(t){let e=1;this._+=t[0];for(let r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function iv(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return H0;if(e!==U0){let r=10**e;U0=e,Of=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+o[i]}}return Of}function Ni(t,e){let r=3,n=4.5,o,i;function a(f){return f&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),De(f,o(i))),i.result()}return a.area=function(f){return De(f,o(ul)),ul.result()},a.measure=function(f){return De(f,o(gl)),gl.result()},a.bounds=function(f){return De(f,o(ao)),ao.result()},a.centroid=function(f){return De(f,o(dl)),dl.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,Ai):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new uo(r)):new Ff(e=f),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(f){return arguments.length?(n=typeof f=="function"?f:(i.pointRadius(+f),+f),a):n},a.digits=function(f){if(!arguments.length)return r;if(f==null)r=null;else{let u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);r=u}return e===null&&(i=new uo(r)),a},a.projection(t).digits(r).context(e)}function Di(t){return{stream:co(t)}}function co(t){return function(e){var r=new xl;for(var n in t)r[n]=t[n];return r.stream=e,r}}function xl(){}xl.prototype={constructor:xl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function yl(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),De(r,t.stream(ao)),e(ao.result()),n!=null&&t.clipExtent(n),t}function Pi(t,e,r){return yl(t,function(n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),f=+e[0][0]+(o-a*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([f,u])},r)}function qf(t,e,r){return Pi(t,[[0,0],e],r)}function zf(t,e,r){return yl(t,function(n){var o=+e,i=o/(n[1][0]-n[0][0]),a=(o-i*(n[1][0]+n[0][0]))/2,f=-i*n[0][1];t.scale(150*i).translate([a,f])},r)}function Yf(t,e,r){return yl(t,function(n){var o=+e,i=o/(n[1][1]-n[0][1]),a=-i*n[0][0],f=(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,f])},r)}var G0=16,av=X(30*ct);function bl(t,e){return+e?uv(t,e):fv(t)}function fv(t){return co({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function uv(t,e){function r(n,o,i,a,f,u,c,s,p,l,d,m,h,g){var w=c-n,x=s-o,M=w*w+x*x;if(M>4*e&&h--){var y=a+l,v=f+d,b=u+m,S=ht(y*y+v*v+b*b),$=Tt(b/=S),A=Q(Q(b)-1)<W||Q(i-p)<W?(i+p)/2:Bt(v,y),I=t(A,$),_=I[0],R=I[1],F=_-n,P=R-o,T=x*F-w*P;(T*T/M>e||Q((w*F+x*P)/M-.5)>.3||a*l+f*d+u*m<av)&&(r(n,o,i,a,f,u,_,R,A,y/=S,v/=S,b,h,g),g.point(_,R),r(_,R,A,y,v,b,c,s,p,l,d,m,h,g))}}return function(n){var o,i,a,f,u,c,s,p,l,d,m,h,g={point:w,lineStart:x,lineEnd:y,polygonStart:function(){n.polygonStart(),g.lineStart=v},polygonEnd:function(){n.polygonEnd(),g.lineStart=x}};function w($,A){$=t($,A),n.point($[0],$[1])}function x(){p=NaN,g.point=M,n.lineStart()}function M($,A){var I=Ge([$,A]),_=t($,A);r(p,l,s,d,m,h,p=_[0],l=_[1],s=$,d=I[0],m=I[1],h=I[2],G0,n),n.point(p,l)}function y(){g.point=w,n.lineEnd()}function v(){x(),g.point=b,g.lineEnd=S}function b($,A){M(o=$,A),i=p,a=l,f=d,u=m,c=h,g.point=M}function S(){r(p,l,s,d,m,h,i,a,o,f,u,c,G0,n),g.lineEnd=y,y()}return g}}var cv=co({point:function(t,e){this.stream.point(t*ct,e*ct)}});function sv(t){return co({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function lv(t,e,r,n,o){function i(a,f){return a*=n,f*=o,[e+t*a,r-t*f]}return i.invert=function(a,f){return[(a-e)/t*n,(r-f)/t*o]},i}function V0(t,e,r,n,o,i){if(!i)return lv(t,e,r,n,o);var a=X(i),f=U(i),u=a*t,c=f*t,s=a/t,p=f/t,l=(f*r-a*e)/t,d=(f*e+a*r)/t;function m(h,g){return h*=n,g*=o,[u*h-c*g+e,r-c*h-u*g]}return m.invert=function(h,g){return[n*(s*h-p*g+l),o*(d-p*h-s*g)]},m}function Ut(t){return wl(function(){return t})()}function wl(t){var e,r=150,n=480,o=250,i=0,a=0,f=0,u=0,c=0,s,p=0,l=1,d=1,m=null,h=nl,g=null,w,x,M,y=Ai,v=.5,b,S,$,A,I;function _(T){return $(T[0]*ct,T[1]*ct)}function R(T){return T=$.invert(T[0],T[1]),T&&[T[0]*It,T[1]*It]}_.stream=function(T){return A&&I===T?A:A=cv(sv(s)(h(b(y(I=T)))))},_.preclip=function(T){return arguments.length?(h=T,m=void 0,P()):h},_.postclip=function(T){return arguments.length?(y=T,g=w=x=M=null,P()):y},_.clipAngle=function(T){return arguments.length?(h=+T?E0(m=T*ct):(m=null,nl),P()):m*It},_.clipExtent=function(T){return arguments.length?(y=T==null?(g=w=x=M=null,Ai):oo(g=+T[0][0],w=+T[0][1],x=+T[1][0],M=+T[1][1]),P()):g==null?null:[[g,w],[x,M]]},_.scale=function(T){return arguments.length?(r=+T,F()):r},_.translate=function(T){return arguments.length?(n=+T[0],o=+T[1],F()):[n,o]},_.center=function(T){return arguments.length?(i=T[0]%360*ct,a=T[1]%360*ct,F()):[i*It,a*It]},_.rotate=function(T){return arguments.length?(f=T[0]%360*ct,u=T[1]%360*ct,c=T.length>2?T[2]%360*ct:0,F()):[f*It,u*It,c*It]},_.angle=function(T){return arguments.length?(p=T%360*ct,F()):p*It},_.reflectX=function(T){return arguments.length?(l=T?-1:1,F()):l<0},_.reflectY=function(T){return arguments.length?(d=T?-1:1,F()):d<0},_.precision=function(T){return arguments.length?(b=bl(S,v=T*T),P()):ht(v)},_.fitExtent=function(T,D){return Pi(_,T,D)},_.fitSize=function(T,D){return qf(_,T,D)},_.fitWidth=function(T,D){return zf(_,T,D)},_.fitHeight=function(T,D){return Yf(_,T,D)};function F(){var T=V0(r,0,0,l,d,p).apply(null,e(i,a)),D=V0(r,n-T[0],o-T[1],l,d,p);return s=el(f,u,c),S=_i(e,D),$=_i(s,S),b=bl(S,v),P()}function P(){return A=I=null,_}return function(){return e=t.apply(this,arguments),_.invert=e.invert&&R,F()}}function so(t){var e=0,r=Z/3,n=wl(t),o=n(e,r);return o.parallels=function(i){return arguments.length?n(e=i[0]*ct,r=i[1]*ct):[e*It,r*It]},o}function j0(t){var e=X(t);function r(n,o){return[n*e,U(o)/e]}return r.invert=function(n,o){return[n/e,Tt(o*e)]},r}function Z0(t,e){var r=U(t),n=(r+U(e))/2;if(Q(n)<W)return j0(t);var o=1+r*(2*n-r),i=ht(o)/n;function a(f,u){var c=ht(o-2*n*U(u))/n;return[c*U(f*=n),i-c*X(f)]}return a.invert=function(f,u){var c=i-u,s=Bt(f,Q(c))*Gt(c);return c*n<0&&(s-=Z*Gt(f)*Gt(c)),[s/n,Tt((o-(f*f+c*c)*n*n)/(2*n))]},a}function qr(){return so(Z0).scale(155.424).center([0,33.6442])}function Fi(){return qr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pv(t){var e=t.length;return{point:function(r,n){for(var o=-1;++o<e;)t[o].point(r,n)},sphere:function(){for(var r=-1;++r<e;)t[r].sphere()},lineStart:function(){for(var r=-1;++r<e;)t[r].lineStart()},lineEnd:function(){for(var r=-1;++r<e;)t[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<e;)t[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<e;)t[r].polygonEnd()}}}function vl(){var t,e,r=Fi(),n,o=qr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=qr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,d){u=[l,d]}};function s(l){var d=l[0],m=l[1];return u=null,n.point(d,m),u||(i.point(d,m),u)||(f.point(d,m),u)}s.invert=function(l){var d=r.scale(),m=r.translate(),h=(l[0]-m[0])/d,g=(l[1]-m[1])/d;return(g>=.12&&g<.234&&h>=-.425&&h<-.214?o:g>=.166&&g<.234&&h>=-.214&&h<-.115?a:r).invert(l)},s.stream=function(l){return t&&e===l?t:t=pv([r.stream(e=l),o.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(r.precision(l),o.precision(l),a.precision(l),p()):r.precision()},s.scale=function(l){return arguments.length?(r.scale(l),o.scale(l*.35),a.scale(l),s.translate(r.translate())):r.scale()},s.translate=function(l){if(!arguments.length)return r.translate();var d=r.scale(),m=+l[0],h=+l[1];return n=r.translate(l).clipExtent([[m-.455*d,h-.238*d],[m+.455*d,h+.238*d]]).stream(c),i=o.translate([m-.307*d,h+.201*d]).clipExtent([[m-.425*d+W,h+.12*d+W],[m-.214*d-W,h+.234*d-W]]).stream(c),f=a.translate([m-.205*d,h+.212*d]).clipExtent([[m-.214*d+W,h+.166*d+W],[m-.115*d-W,h+.234*d-W]]).stream(c),p()},s.fitExtent=function(l,d){return Pi(s,l,d)},s.fitSize=function(l,d){return qf(s,l,d)},s.fitWidth=function(l,d){return zf(s,l,d)},s.fitHeight=function(l,d){return Yf(s,l,d)};function p(){return t=e=null,s}return s.scale(1070)}function Bf(t){return function(e,r){var n=X(e),o=X(r),i=t(n*o);return i===1/0?[2,0]:[i*o*U(e),i*U(r)]}}function Ze(t){return function(e,r){var n=ht(e*e+r*r),o=t(n),i=U(o),a=X(o);return[Bt(e*i,n*a),Tt(n&&r*i/n)]}}var Ml=Bf(function(t){return ht(2/(1+t))});Ml.invert=Ze(function(t){return 2*Tt(t/2)});function Sl(){return Ut(Ml).scale(124.75).clipAngle(180-.001)}var Tl=Bf(function(t){return(t=Tf(t))&&t/U(t)});Tl.invert=Ze(function(t){return t});function _l(){return Ut(Tl).scale(79.4188).clipAngle(180-.001)}function lo(t,e){return[t,yn(eo((ut+e)/2))]}lo.invert=function(t,e){return[t,2*ve(Mf(e))-ut]};function Cl(){return Al(lo).scale(961/Pt)}function Al(t){var e=Ut(t),r=e.center,n=e.scale,o=e.translate,i=e.clipExtent,a=null,f,u,c;e.scale=function(p){return arguments.length?(n(p),s()):n()},e.translate=function(p){return arguments.length?(o(p),s()):o()},e.center=function(p){return arguments.length?(r(p),s()):r()},e.clipExtent=function(p){return arguments.length?(p==null?a=f=u=c=null:(a=+p[0][0],f=+p[0][1],u=+p[1][0],c=+p[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var p=Z*n(),l=e(_0(e.rotate()).invert([0,0]));return i(a==null?[[l[0]-p,l[1]-p],[l[0]+p,l[1]+p]]:t===lo?[[Math.max(l[0]-p,a),f],[Math.min(l[0]+p,u),c]]:[[a,Math.max(l[1]-p,f)],[u,Math.min(l[1]+p,c)]])}return s()}function Uf(t){return eo((ut+t)/2)}function K0(t,e){var r=X(t),n=t===e?U(t):yn(r/X(e))/yn(Uf(e)/Uf(t)),o=r*Sf(Uf(t),n)/n;if(!n)return lo;function i(a,f){o>0?f<-ut+W&&(f=-ut+W):f>ut-W&&(f=ut-W);var u=o/Sf(Uf(f),n);return[u*U(n*a),o-u*X(n*a)]}return i.invert=function(a,f){var u=o-f,c=Gt(n)*ht(a*a+u*u),s=Bt(a,Q(u))*Gt(u);return u*n<0&&(s-=Z*Gt(a)*Gt(u)),[s/n,2*ve(Sf(o/c,1/n))-ut]},i}function $l(){return so(K0).scale(109.5).parallels([30,30])}function po(t,e){return[t,e]}po.invert=po;function kl(){return Ut(po).scale(152.63)}function Q0(t,e){var r=X(t),n=t===e?U(t):(r-X(e))/(e-t),o=r/n+t;if(Q(n)<W)return po;function i(a,f){var u=o-f,c=n*a;return[u*U(c),o-u*X(c)]}return i.invert=function(a,f){var u=o-f,c=Bt(a,Q(u))*Gt(u);return u*n<0&&(c-=Z*Gt(a)*Gt(u)),[c/n,o-Gt(n)*ht(a*a+u*u)]},i}function El(){return so(Q0).scale(131.154).center([0,13.9389])}var Li=1.340264,Oi=-.081106,qi=893e-6,zi=.003796,Xf=ht(3)/2,dv=12;function Il(t,e){var r=Tt(Xf*U(e)),n=r*r,o=n*n*n;return[t*X(r)/(Xf*(Li+3*Oi*n+o*(7*qi+9*zi*n))),r*(Li+Oi*n+o*(qi+zi*n))]}Il.invert=function(t,e){for(var r=e,n=r*r,o=n*n*n,i=0,a,f,u;i<dv&&(f=r*(Li+Oi*n+o*(qi+zi*n))-e,u=Li+3*Oi*n+o*(7*qi+9*zi*n),r-=a=f/u,n=r*r,o=n*n*n,!(Q(a)<vf));++i);return[Xf*t*(Li+3*Oi*n+o*(7*qi+9*zi*n))/X(r),Tt(U(r)/Xf)]};function Rl(){return Ut(Il).scale(177.158)}function Nl(t,e){var r=X(e),n=X(t)*r;return[r*U(t)/n,U(e)/n]}Nl.invert=Ze(ve);function Dl(){return Ut(Nl).scale(144.049).clipAngle(60)}function Pl(t,e){return[X(e)*U(t),U(e)]}Pl.invert=Ze(Tt);function Fl(){return Ut(Pl).scale(249.5).clipAngle(90+W)}function Ll(t,e){var r=X(e),n=1+X(t)*r;return[r*U(t)/n,U(e)/n]}Ll.invert=Ze(function(t){return 2*ve(t)});function Ol(){return Ut(Ll).scale(250).clipAngle(142)}function ql(t,e){return[yn(eo((ut+e)/2)),-t]}ql.invert=function(t,e){return[-e,2*ve(Mf(t))-ut]};function zl(){var t=Al(ql),e=t.center,r=t.rotate;return t.center=function(n){return arguments.length?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])},t.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function kt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var Bi=Symbol("implicit");function wn(){var t=new te,e=[],r=[],n=Bi;function o(i){let a=t.get(i);if(a===void 0){if(n!==Bi)return n;t.set(i,a=e.push(i)-1)}return r[a%r.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new te;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return wn(e,r).unknown(n)},kt.apply(o,arguments),o}function zr(){var t=wn().unknown(void 0),e=t.domain,r=t.range,n=0,o=1,i,a,f=!1,u=0,c=0,s=.5;delete t.unknown;function p(){var l=e().length,d=o<n,m=d?o:n,h=d?n:o;i=(h-m)/Math.max(1,l-u+c*2),f&&(i=Math.floor(i)),m+=(h-m-i*(l-u))*s,a=i*(1-u),f&&(m=Math.round(m),a=Math.round(a));var g=an(l).map(function(w){return m+i*w});return r(d?g.reverse():g)}return t.domain=function(l){return arguments.length?(e(l),p()):e()},t.range=function(l){return arguments.length?([n,o]=l,n=+n,o=+o,p()):[n,o]},t.rangeRound=function(l){return[n,o]=l,n=+n,o=+o,f=!0,p()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(l){return arguments.length?(f=!!l,p()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),p()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),p()):u},t.paddingOuter=function(l){return arguments.length?(c=+l,p()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),p()):s},t.copy=function(){return zr(e(),[n,o]).round(f).paddingInner(u).paddingOuter(c).align(s)},kt.apply(p(),arguments)}function J0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return J0(e())},t}function Yl(){return J0(zr.apply(null,arguments).paddingInner(1))}function Bl(t){return function(){return t}}function mo(t){return+t}var tg=[0,1];function ce(t){return t}function Ul(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Bl(isNaN(e)?NaN:.5)}function mv(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function hv(t,e,r){var n=t[0],o=t[1],i=e[0],a=e[1];return o<n?(n=Ul(o,n),i=r(a,i)):(n=Ul(n,o),i=r(i,a)),function(f){return i(n(f))}}function gv(t,e,r){var n=Math.min(t.length,e.length)-1,o=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)o[a]=Ul(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(f){var u=nn(t,f,1,n)-1;return i[u](o[u](f))}}function Ke(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vn(){var t=tg,e=tg,r=Re,n,o,i,a=ce,f,u,c;function s(){var l=Math.min(t.length,e.length);return a!==ce&&(a=mv(t[0],t[l-1])),f=l>2?gv:hv,u=c=null,p}function p(l){return l==null||isNaN(l=+l)?i:(u||(u=f(t.map(n),e,r)))(n(a(l)))}return p.invert=function(l){return a(o((c||(c=f(e,t.map(n),xt)))(l)))},p.domain=function(l){return arguments.length?(t=Array.from(l,mo),s()):t.slice()},p.range=function(l){return arguments.length?(e=Array.from(l),s()):e.slice()},p.rangeRound=function(l){return e=Array.from(l),r=pn,s()},p.clamp=function(l){return arguments.length?(a=l?!0:ce,s()):a!==ce},p.interpolate=function(l){return arguments.length?(r=l,s()):r},p.unknown=function(l){return arguments.length?(i=l,p):i},function(l,d){return n=l,o=d,s()}}function Ui(){return vn()(ce,ce)}function Xl(t,e,r,n){var o=Xn(t,e,r),i;switch(n=He(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Zs(o,a))&&(n.precision=i),wf(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ks(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=js(o))&&(n.precision=i-(n.type==="%")*2);break}}return we(n)}function yr(t){var e=t.domain;return t.ticks=function(r){var n=e();return cr(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var o=e();return Xl(o[0],o[o.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),o=0,i=n.length-1,a=n[o],f=n[i],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=o,o=i,i=c);s-- >0;){if(c=Jo(a,f,r),c===u)return n[o]=a,n[i]=f,e(n);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Mn(){var t=Ui();return t.copy=function(){return Ke(t,Mn())},kt.apply(t,arguments),yr(t)}function Xi(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,mo),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Xi(t).unknown(e)},t=arguments.length?Array.from(t,mo):[0,1],yr(r)}function Wi(t,e){t=t.slice();var r=0,n=t.length-1,o=t[r],i=t[n],a;return i<o&&(a=r,r=n,n=a,a=o,o=i,i=a),t[r]=e.floor(o),t[n]=e.ceil(i),t}function eg(t){return Math.log(t)}function rg(t){return Math.exp(t)}function xv(t){return-Math.log(-t)}function yv(t){return-Math.exp(-t)}function bv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wv(t){return t===10?bv:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vv(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ng(t){return(e,r)=>-t(-e,r)}function Wl(t){let e=t(eg,rg),r=e.domain,n=10,o,i;function a(){return o=vv(n),i=wv(n),r()[0]<0?(o=ng(o),i=ng(i),t(xv,yv)):t(eg,rg),e}return e.base=function(f){return arguments.length?(n=+f,a()):n},e.domain=function(f){return arguments.length?(r(f),a()):r()},e.ticks=f=>{let u=r(),c=u[0],s=u[u.length-1],p=s<c;p&&([c,s]=[s,c]);let l=o(c),d=o(s),m,h,g=f==null?10:+f,w=[];if(!(n%1)&&d-l<g){if(l=Math.floor(l),d=Math.ceil(d),c>0){for(;l<=d;++l)for(m=1;m<n;++m)if(h=l<0?m/i(-l):m*i(l),!(h<c)){if(h>s)break;w.push(h)}}else for(;l<=d;++l)for(m=n-1;m>=1;--m)if(h=l>0?m/i(-l):m*i(l),!(h<c)){if(h>s)break;w.push(h)}w.length*2<g&&(w=cr(c,s,g))}else w=cr(l,d,Math.min(d-l,g)).map(i);return p?w.reverse():w},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=He(u)).precision==null&&(u.trim=!0),u=we(u)),f===1/0)return u;let c=Math.max(1,n*f/e.ticks().length);return s=>{let p=s/i(Math.round(o(s)));return p*n<n-.5&&(p*=n),p<=c?u(s):""}},e.nice=()=>r(Wi(r(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function Hi(){let t=Wl(vn()).domain([1,10]);return t.copy=()=>Ke(t,Hi()).base(t.base()),kt.apply(t,arguments),t}function og(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ig(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Hl(t){var e=1,r=t(og(e),ig(e));return r.constant=function(n){return arguments.length?t(og(e=+n),ig(e)):e},yr(r)}function Gi(){var t=Hl(vn());return t.copy=function(){return Ke(t,Gi()).constant(t.constant())},kt.apply(t,arguments)}function ag(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sv(t){return t<0?-t*t:t*t}function Gl(t){var e=t(ce,ce),r=1;function n(){return r===1?t(ce,ce):r===.5?t(Mv,Sv):t(ag(r),ag(1/r))}return e.exponent=function(o){return arguments.length?(r=+o,n()):r},yr(e)}function Vi(){var t=Gl(vn());return t.copy=function(){return Ke(t,Vi()).exponent(t.exponent())},kt.apply(t,arguments),t}function ji(){var t=[],e=[],r=[],n;function o(){var a=0,f=Math.max(1,e.length);for(r=new Array(f-1);++a<f;)r[a-1]=us(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?n:e[nn(r,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?r[f-1]:t[0],f<r.length?r[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Mt),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ji().domain(t).range(e).unknown(n)},kt.apply(i,arguments)}function Zi(){var t=[.5],e=[0,1],r,n=1;function o(i){return i!=null&&i<=i?e[nn(t,i,0,n)]:r}return o.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return Zi().domain(t).range(e).unknown(r)},kt.apply(o,arguments)}var Vl=new Date,jl=new Date;function mt(t,e,r,n){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let u=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return u;let c;do u.push(c=new Date(+i)),e(i,f),t(i);while(c<i&&i<a);return u},o.filter=i=>mt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),r&&(o.count=(i,a)=>(Vl.setTime(+i),jl.setTime(+a),t(Vl),t(jl),Math.floor(r(Vl,jl))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?a=>n(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var Ki=mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ki.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ki);var tR=Ki.range;var Xt=mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),fg=Xt.range;var Yr=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),Tv=Yr.range,br=mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),_v=br.range;var Br=mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),Cv=Br.range,wr=mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),Av=wr.range;var Me=mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),$v=Me.range,_n=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),kv=_n.range,Cn=mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Ev=Cn.range;function An(t){return mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var pe=An(0),Ur=An(1),Wf=An(2),Hf=An(3),Je=An(4),Gf=An(5),Vf=An(6),cg=pe.range,Iv=Ur.range,Rv=Wf.range,Nv=Hf.range,Dv=Je.range,Pv=Gf.range,Fv=Vf.range;function $n(t){return mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/6048e5)}var de=$n(0),Xr=$n(1),jf=$n(2),Zf=$n(3),tr=$n(4),Kf=$n(5),Qf=$n(6),sg=de.range,Lv=Xr.range,Ov=jf.range,qv=Zf.range,zv=tr.range,Yv=Kf.range,Bv=Qf.range;var vr=mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Uv=vr.range,Mr=mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Xv=Mr.range;var Vt=mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});var Wv=Vt.range,jt=mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});var Hv=jt.range;function pg(t,e,r,n,o,i){let a=[[Xt,1,1e3],[Xt,5,5*1e3],[Xt,15,15*1e3],[Xt,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(c,s,p){let l=s<c;l&&([c,s]=[s,c]);let d=p&&typeof p.range=="function"?p:u(c,s,p),m=d?d.range(c,+s+1):[];return l?m.reverse():m}function u(c,s,p){let l=Math.abs(s-c)/p,d=fr(([,,g])=>g).right(a,l);if(d===a.length)return t.every(Xn(c/31536e6,s/31536e6,p));if(d===0)return Ki.every(Math.max(Xn(c,s,p),1));let[m,h]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return m.every(h)}return[f,u]}var[Zl,Kl]=pg(jt,Mr,de,Cn,wr,br),[Ql,Jl]=pg(Vt,vr,pe,Me,Br,Yr);function tp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ep(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ji(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function rp(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,u=t.shortMonths,c=ta(o),s=ea(o),p=ta(i),l=ea(i),d=ta(a),m=ea(a),h=ta(f),g=ea(f),w=ta(u),x=ea(u),M={a:j,A:G,b:E,B:z,c:null,d:yg,e:yg,f:g6,g:C6,G:$6,H:d6,I:m6,j:h6,L:Sg,m:x6,M:y6,p:B,q:L,Q:vg,s:Mg,S:b6,u:w6,U:v6,V:M6,w:S6,W:T6,x:null,X:null,y:_6,Y:A6,Z:k6,"%":wg},y={a:V,A:nt,b:tt,B:et,c:null,d:bg,e:bg,f:N6,g:U6,G:W6,H:E6,I:I6,j:R6,L:_g,m:D6,M:P6,p:O,q:rt,Q:vg,s:Mg,S:F6,u:L6,U:O6,V:q6,w:z6,W:Y6,x:null,X:null,y:B6,Y:X6,Z:H6,"%":wg},v={a:I,A:_,b:R,B:F,c:P,d:gg,e:gg,f:c6,g:hg,G:mg,H:xg,I:xg,j:i6,L:u6,m:o6,M:a6,p:A,q:n6,Q:l6,s:p6,S:f6,u:Qv,U:Jv,V:t6,w:Kv,W:e6,x:T,X:D,y:hg,Y:mg,Z:r6,"%":s6};M.x=b(r,M),M.X=b(n,M),M.c=b(e,M),y.x=b(r,y),y.X=b(n,y),y.c=b(e,y);function b(k,q){return function(Y){var C=[],ft=-1,K=0,pt=k.length,dt,Jt,jo;for(Y instanceof Date||(Y=new Date(+Y));++ft<pt;)k.charCodeAt(ft)===37&&(C.push(k.slice(K,ft)),(Jt=dg[dt=k.charAt(++ft)])!=null?dt=k.charAt(++ft):Jt=dt==="e"?" ":"0",(jo=q[dt])&&(dt=jo(Y,Jt)),C.push(dt),K=ft+1);return C.push(k.slice(K,ft)),C.join("")}}function S(k,q){return function(Y){var C=Ji(1900,void 0,1),ft=$(C,k,Y+="",0),K,pt;if(ft!=Y.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(q&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(K=ep(Ji(C.y,0,1)),pt=K.getUTCDay(),K=pt>4||pt===0?Xr.ceil(K):Xr(K),K=_n.offset(K,(C.V-1)*7),C.y=K.getUTCFullYear(),C.m=K.getUTCMonth(),C.d=K.getUTCDate()+(C.w+6)%7):(K=tp(Ji(C.y,0,1)),pt=K.getDay(),K=pt>4||pt===0?Ur.ceil(K):Ur(K),K=Me.offset(K,(C.V-1)*7),C.y=K.getFullYear(),C.m=K.getMonth(),C.d=K.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),pt="Z"in C?ep(Ji(C.y,0,1)).getUTCDay():tp(Ji(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(pt+5)%7:C.w+C.U*7-(pt+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,ep(C)):tp(C)}}function $(k,q,Y,C){for(var ft=0,K=q.length,pt=Y.length,dt,Jt;ft<K;){if(C>=pt)return-1;if(dt=q.charCodeAt(ft++),dt===37){if(dt=q.charAt(ft++),Jt=v[dt in dg?q.charAt(ft++):dt],!Jt||(C=Jt(k,Y,C))<0)return-1}else if(dt!=Y.charCodeAt(C++))return-1}return C}function A(k,q,Y){var C=c.exec(q.slice(Y));return C?(k.p=s.get(C[0].toLowerCase()),Y+C[0].length):-1}function I(k,q,Y){var C=d.exec(q.slice(Y));return C?(k.w=m.get(C[0].toLowerCase()),Y+C[0].length):-1}function _(k,q,Y){var C=p.exec(q.slice(Y));return C?(k.w=l.get(C[0].toLowerCase()),Y+C[0].length):-1}function R(k,q,Y){var C=w.exec(q.slice(Y));return C?(k.m=x.get(C[0].toLowerCase()),Y+C[0].length):-1}function F(k,q,Y){var C=h.exec(q.slice(Y));return C?(k.m=g.get(C[0].toLowerCase()),Y+C[0].length):-1}function P(k,q,Y){return $(k,e,q,Y)}function T(k,q,Y){return $(k,r,q,Y)}function D(k,q,Y){return $(k,n,q,Y)}function j(k){return a[k.getDay()]}function G(k){return i[k.getDay()]}function E(k){return u[k.getMonth()]}function z(k){return f[k.getMonth()]}function B(k){return o[+(k.getHours()>=12)]}function L(k){return 1+~~(k.getMonth()/3)}function V(k){return a[k.getUTCDay()]}function nt(k){return i[k.getUTCDay()]}function tt(k){return u[k.getUTCMonth()]}function et(k){return f[k.getUTCMonth()]}function O(k){return o[+(k.getUTCHours()>=12)]}function rt(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var q=b(k+="",M);return q.toString=function(){return k},q},parse:function(k){var q=S(k+="",!1);return q.toString=function(){return k},q},utcFormat:function(k){var q=b(k+="",y);return q.toString=function(){return k},q},utcParse:function(k){var q=S(k+="",!0);return q.toString=function(){return k},q}}}var dg={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Vv=/^%/,jv=/[\\^$*+?|[\]().{}]/g;function ot(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(e)+o:o)}function Zv(t){return t.replace(jv,"\\$&")}function ta(t){return new RegExp("^(?:"+t.map(Zv).join("|")+")","i")}function ea(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Kv(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Qv(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Jv(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function t6(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function e6(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mg(t,e,r){var n=Lt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function hg(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r6(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n6(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function o6(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function gg(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function i6(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xg(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function a6(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function f6(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function u6(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function c6(t,e,r){var n=Lt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function s6(t,e,r){var n=Vv.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function l6(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function p6(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yg(t,e){return ot(t.getDate(),e,2)}function d6(t,e){return ot(t.getHours(),e,2)}function m6(t,e){return ot(t.getHours()%12||12,e,2)}function h6(t,e){return ot(1+Me.count(Vt(t),t),e,3)}function Sg(t,e){return ot(t.getMilliseconds(),e,3)}function g6(t,e){return Sg(t,e)+"000"}function x6(t,e){return ot(t.getMonth()+1,e,2)}function y6(t,e){return ot(t.getMinutes(),e,2)}function b6(t,e){return ot(t.getSeconds(),e,2)}function w6(t){var e=t.getDay();return e===0?7:e}function v6(t,e){return ot(pe.count(Vt(t)-1,t),e,2)}function Tg(t){var e=t.getDay();return e>=4||e===0?Je(t):Je.ceil(t)}function M6(t,e){return t=Tg(t),ot(Je.count(Vt(t),t)+(Vt(t).getDay()===4),e,2)}function S6(t){return t.getDay()}function T6(t,e){return ot(Ur.count(Vt(t)-1,t),e,2)}function _6(t,e){return ot(t.getFullYear()%100,e,2)}function C6(t,e){return t=Tg(t),ot(t.getFullYear()%100,e,2)}function A6(t,e){return ot(t.getFullYear()%1e4,e,4)}function $6(t,e){var r=t.getDay();return t=r>=4||r===0?Je(t):Je.ceil(t),ot(t.getFullYear()%1e4,e,4)}function k6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ot(e/60|0,"0",2)+ot(e%60,"0",2)}function bg(t,e){return ot(t.getUTCDate(),e,2)}function E6(t,e){return ot(t.getUTCHours(),e,2)}function I6(t,e){return ot(t.getUTCHours()%12||12,e,2)}function R6(t,e){return ot(1+_n.count(jt(t),t),e,3)}function _g(t,e){return ot(t.getUTCMilliseconds(),e,3)}function N6(t,e){return _g(t,e)+"000"}function D6(t,e){return ot(t.getUTCMonth()+1,e,2)}function P6(t,e){return ot(t.getUTCMinutes(),e,2)}function F6(t,e){return ot(t.getUTCSeconds(),e,2)}function L6(t){var e=t.getUTCDay();return e===0?7:e}function O6(t,e){return ot(de.count(jt(t)-1,t),e,2)}function Cg(t){var e=t.getUTCDay();return e>=4||e===0?tr(t):tr.ceil(t)}function q6(t,e){return t=Cg(t),ot(tr.count(jt(t),t)+(jt(t).getUTCDay()===4),e,2)}function z6(t){return t.getUTCDay()}function Y6(t,e){return ot(Xr.count(jt(t)-1,t),e,2)}function B6(t,e){return ot(t.getUTCFullYear()%100,e,2)}function U6(t,e){return t=Cg(t),ot(t.getUTCFullYear()%100,e,2)}function X6(t,e){return ot(t.getUTCFullYear()%1e4,e,4)}function W6(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tr(t):tr.ceil(t),ot(t.getUTCFullYear()%1e4,e,4)}function H6(){return"+0000"}function wg(){return"%"}function vg(t){return+t}function Mg(t){return Math.floor(+t/1e3)}var ho,go,Ag,er,$g;np({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function np(t){return ho=rp(t),go=ho.format,Ag=ho.parse,er=ho.utcFormat,$g=ho.utcParse,ho}function G6(t){return new Date(t)}function V6(t){return t instanceof Date?+t:+new Date(+t)}function Jf(t,e,r,n,o,i,a,f,u,c){var s=Ui(),p=s.invert,l=s.domain,d=c(".%L"),m=c(":%S"),h=c("%I:%M"),g=c("%I %p"),w=c("%a %d"),x=c("%b %d"),M=c("%B"),y=c("%Y");function v(b){return(u(b)<b?d:f(b)<b?m:a(b)<b?h:i(b)<b?g:n(b)<b?o(b)<b?w:x:r(b)<b?M:y)(b)}return s.invert=function(b){return new Date(p(b))},s.domain=function(b){return arguments.length?l(Array.from(b,V6)):l().map(G6)},s.ticks=function(b){var S=l();return t(S[0],S[S.length-1],b??10)},s.tickFormat=function(b,S){return S==null?v:c(S)},s.nice=function(b){var S=l();return(!b||typeof b.range!="function")&&(b=e(S[0],S[S.length-1],b??10)),b?l(Wi(S,b)):s},s.copy=function(){return Ke(s,Jf(t,e,r,n,o,i,a,f,u,c))},s}function tu(){return kt.apply(Jf(Ql,Jl,Vt,vr,pe,Me,Br,Yr,Xt,go).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eu(){return kt.apply(Jf(Zl,Kl,jt,Mr,de,_n,wr,br,Xt,er).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ra(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ru(){var t=0,e=.5,r=1,n=1,o,i,a,f,u,c=ce,s,p=!1,l;function d(h){return isNaN(h=+h)?l:(h=.5+((h=+s(h))-i)*(n*h<n*i?f:u),c(p?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e,r]=h,o=s(t=+t),i=s(e=+e),a=s(r=+r),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,d):[t,e,r]},d.clamp=function(h){return arguments.length?(p=!!h,d):p},d.interpolator=function(h){return arguments.length?(c=h,d):c};function m(h){return function(g){var w,x,M;return arguments.length?([w,x,M]=g,c=Xe(h,[w,x,M]),d):[c(0),c(.5),c(1)]}}return d.range=m(Re),d.rangeRound=m(pn),d.unknown=function(h){return arguments.length?(l=h,d):l},function(h){return s=h,o=h(t),i=h(e),a=h(r),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),n=i<o?-1:1,d}}function na(){var t=yr(ru()(ce));return t.copy=function(){return ra(t,na())},Yi.apply(t,arguments)}function nu(){var t=Wl(ru()).domain([.1,1,10]);return t.copy=function(){return ra(t,nu()).base(t.base())},Yi.apply(t,arguments)}function ou(){var t=Hl(ru());return t.copy=function(){return ra(t,ou()).constant(t.constant())},Yi.apply(t,arguments)}function iu(){var t=Gl(ru());return t.copy=function(){return ra(t,iu()).exponent(t.exponent())},Yi.apply(t,arguments)}function N(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}var op=N("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var ip=N("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var ap=N("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var fp=N("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var up=N("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var cp=N("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var sp=N("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var lp=N("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var pp=N("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var dp=N("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var H=t=>Cs(t[t.length-1]);var au=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(N),fu=H(au);var uu=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(N),cu=H(uu);var su=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(N),lu=H(su);var pu=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(N),du=H(pu);var oa=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(N),xo=H(oa);var mu=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(N),hu=H(mu);var ia=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(N),yo=H(ia);var gu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(N),xu=H(gu);var yu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(N),bu=H(yu);var wu=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(N),vu=H(wu);var Mu=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(N),Su=H(Mu);var Tu=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(N),_u=H(Tu);var Cu=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(N),Au=H(Cu);var $u=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(N),ku=H($u);var Eu=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(N),Iu=H(Eu);var Ru=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(N),Nu=H(Ru);var Du=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(N),Pu=H(Du);var Fu=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(N),Lu=H(Fu);var Ou=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(N),qu=H(Ou);var zu=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(N),Yu=H(zu);var Bu=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(N),Uu=H(Bu);var Xu=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(N),Wu=H(Xu);var Hu=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(N),Gu=H(Hu);var Vu=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(N),ju=H(Vu);var Zu=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(N),Ku=H(Zu);var Qu=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(N),Ju=H(Qu);var tc=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(N),ec=H(tc);function rc(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var nc=Kn(re(300,.5,0),re(-240,.5,1));var ic=Kn(re(-100,.75,.35),re(80,1.5,.8)),ac=Kn(re(260,.75,.35),re(80,1.5,.8)),oc=re();function fc(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return oc.h=360*t-100,oc.s=1.5-1.5*e,oc.l=.8-.9*e,oc+""}var uc=ye(),j6=Math.PI/3,Z6=Math.PI*2/3;function cc(t){var e;return t=(.5-t)*Math.PI,uc.r=255*(e=Math.sin(t))*e,uc.g=255*(e=Math.sin(t+j6))*e,uc.b=255*(e=Math.sin(t+Z6))*e,uc+""}function sc(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function lc(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var pc=lc(N("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),dc=lc(N("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mc=lc(N("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hc=lc(N("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var mp=Math.cos;var bo=Math.min,aa=Math.sin,at=Math.sqrt;var kn=Math.PI,vF=kn/2,wo=2*kn;var K6=at(3),fa={draw(t,e){let r=at(e+bo(e/28,.75))*.59436,n=r/2,o=n*K6;t.moveTo(0,r),t.lineTo(0,-r),t.moveTo(-o,-n),t.lineTo(o,n),t.moveTo(-o,n),t.lineTo(o,-n)}};var Sr={draw(t,e){let r=at(e/kn);t.moveTo(r,0),t.arc(0,0,r,0,wo)}};var ua={draw(t,e){let r=at(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}};var kg=at(1/3),Q6=kg*2,ca={draw(t,e){let r=at(e/Q6),n=r*kg;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}};var sa={draw(t,e){let r=at(e)*.62625;t.moveTo(0,-r),t.lineTo(r,0),t.lineTo(0,r),t.lineTo(-r,0),t.closePath()}};var la={draw(t,e){let r=at(e-bo(e/7,2))*.87559;t.moveTo(-r,0),t.lineTo(r,0),t.moveTo(0,r),t.lineTo(0,-r)}};var pa={draw(t,e){let r=at(e),n=-r/2;t.rect(n,n,r,r)}};var da={draw(t,e){let r=at(e)*.4431;t.moveTo(r,r),t.lineTo(r,-r),t.lineTo(-r,-r),t.lineTo(-r,r),t.closePath()}};var J6=.8908130915292852,Eg=aa(kn/10)/aa(7*kn/10),t8=aa(wo/10)*Eg,e8=-mp(wo/10)*Eg,ma={draw(t,e){let r=at(e*J6),n=t8*r,o=e8*r;t.moveTo(0,-r),t.lineTo(n,o);for(let i=1;i<5;++i){let a=wo*i/5,f=mp(a),u=aa(a);t.lineTo(u*r,-f*r),t.lineTo(f*n-u*o,u*n+f*o)}t.closePath()}};var hp=at(3),ha={draw(t,e){let r=-at(e/(hp*3));t.moveTo(0,r*2),t.lineTo(-hp*r,-r),t.lineTo(hp*r,-r),t.closePath()}};var r8=at(3),ga={draw(t,e){let r=at(e)*.6824,n=r/2,o=r*r8/2;t.moveTo(0,-r),t.lineTo(o,n),t.lineTo(-o,n),t.closePath()}};var Se=-.5,Te=at(3)/2,gp=1/at(12),n8=(gp/2+1)*3,xa={draw(t,e){let r=at(e/n8),n=r/2,o=r*gp,i=n,a=r*gp+r,f=-i,u=a;t.moveTo(n,o),t.lineTo(i,a),t.lineTo(f,u),t.lineTo(Se*n-Te*o,Te*n+Se*o),t.lineTo(Se*i-Te*a,Te*i+Se*a),t.lineTo(Se*f-Te*u,Te*f+Se*u),t.lineTo(Se*n+Te*o,Se*o-Te*n),t.lineTo(Se*i+Te*a,Se*a-Te*i),t.lineTo(Se*f+Te*u,Se*u-Te*f),t.closePath()}};var vo={draw(t,e){let r=at(e-bo(e/6,1.7))*.6189;t.moveTo(-r,-r),t.lineTo(r,r),t.moveTo(-r,r),t.lineTo(r,-r)}};var gc=[Sr,ua,ca,pa,ma,ha,xa],xp=[Sr,la,vo,ga,fa,da,sa];function Wr(t,e,r){this.k=t,this.x=e,this.y=r}Wr.prototype={constructor:Wr,scale:function(t){return t===1?this:new Wr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var yp=new Wr(1,0,0);bp.prototype=Wr.prototype;function bp(t){for(;!t.__zoom;)if(!(t=t.parentNode))return yp;return t.__zoom}function Fe(t){return t!=null&&!Number.isNaN(t)}function Zt(t,e){return+Fe(e)-+Fe(t)||Mt(t,e)}function En(t,e){return+Fe(e)-+Fe(t)||xe(t,e)}function xc(t){return t!=null&&`${t}`!=""}function wp(t){return isFinite(t)?t:NaN}function In(t){return t>0&&isFinite(t)?t:NaN}function Mo(t){return t<0&&isFinite(t)?t:NaN}function yc(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;let r=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return`${i8(t.getUTCFullYear(),4)}-${Tr(t.getUTCMonth()+1,2)}-${Tr(t.getUTCDate(),2)}${r||n||o||i?`T${Tr(r,2)}:${Tr(n,2)}${o||i?`:${Tr(o,2)}${i?`.${Tr(i,3)}`:""}`:""}Z`:""}`}function i8(t){return t<0?`-${Tr(-t,6)}`:t>9999?`+${Tr(t,6)}`:Tr(t,4)}function Tr(t,e){return`${t}`.padStart(e,"0")}var a8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ya(t,e){return a8.test(t+="")?new Date(t):typeof e=="function"?e(t):e}var To=1e3,Rn=To*60,Nn=Rn*60,_r=Nn*24,rr=_r*7,Dn=_r*30,Hr=_r*365,vp=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",To],["5 seconds",5*To],["15 seconds",15*To],["30 seconds",30*To],["minute",Rn],["5 minutes",5*Rn],["15 minutes",15*Rn],["30 minutes",30*Rn],["hour",Nn],["3 hours",3*Nn],["6 hours",6*Nn],["12 hours",12*Nn],["day",_r],["2 days",2*_r],["week",rr],["2 weeks",2*rr],["month",Dn],["3 months",3*Dn],["6 months",6*Dn],["year",Hr],["2 years",2*Hr],["5 years",5*Hr],["10 years",10*Hr],["20 years",20*Hr],["50 years",50*Hr],["100 years",100*Hr]],Mp=new Map([["second",To],["minute",Rn],["hour",Nn],["day",_r],["monday",rr],["tuesday",rr],["wednesday",rr],["thursday",rr],["friday",rr],["saturday",rr],["sunday",rr],["week",rr],["month",Dn],["year",Hr]]),Rg=new Map([["second",Xt],["minute",Yr],["hour",Br],["day",Me],["monday",Ur],["tuesday",Wf],["wednesday",Hf],["thursday",Je],["friday",Gf],["saturday",Vf],["sunday",pe],["week",pe],["month",vr],["year",Vt]]),Ng=new Map([["second",Xt],["minute",br],["hour",wr],["day",Cn],["monday",Xr],["tuesday",jf],["wednesday",Zf],["thursday",tr],["friday",Kf],["saturday",Qf],["sunday",de],["week",de],["month",Mr],["year",jt]]),_o=Symbol("intervalDuration"),bc=Symbol("intervalType");for(let[t,e]of Rg)e[_o]=Mp.get(t),e[bc]="time";for(let[t,e]of Ng)e[_o]=Mp.get(t),e[bc]="utc";var f8=[["year",jt,"utc"],["year",Vt,"time"],["month",Mr,"utc"],["month",vr,"time"],["day",Cn,"utc",6*Dn],["day",Me,"time",6*Dn],["hour",wr,"utc",3*_r],["minute",br,"utc",6*Nn],["second",Xt,"utc",30*Rn]];function Dg(t,e,r){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let o=1,i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),o=+i[1]),n){case"quarter":n="month",o*=3;break;case"half":n="month",o*=6;break}let a=e.get(n);if(!a)throw new Error(`unknown interval: ${t}`);if(o>1){if(!a.every)throw new Error(`non-periodic interval: ${n}`);a=a.every(o),a[_o]=Mp.get(n)*o,a[bc]=r}return a}function Sp(t){return Dg(t,Rg,"time")}function Tp(t){return Dg(t,Ng,"utc")}function _p(t,e){if(!(e>1))return;let r=t[_o];if(!vp.some(([,o])=>o===r)||r%_r===0&&_r<r&&r<Dn)return;let[n]=vp[fr(([,o])=>Math.log(o)).center(vp,Math.log(r*e))];return(t[bc]==="time"?Sp:Tp)(n)}function Ig(t,e,r){let n=e==="time"?go:er;if(r==null)return n(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let o=u8(r);switch(t){case"millisecond":return So(n(".%L"),n(":%M:%S"),o);case"second":return So(n(":%S"),n("%-I:%M"),o);case"minute":return So(n("%-I:%M"),n("%p"),o);case"hour":return So(n("%-I %p"),n("%b %-d"),o);case"day":return So(n("%-d"),n("%b"),o);case"month":return So(n("%b"),n("%Y"),o);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function u8(t){return t==="left"||t==="right"?(e,r)=>`
${e}
${r}`:t==="top"?(e,r)=>`${r}
${e}`:(e,r)=>`${e}
${r}`}function Pg(t,e){let r=Dt(Ba(t,(n,o)=>Math.abs(o-n)));if(r<1e3)return Ig("millisecond","utc",e);for(let[n,o,i,a]of f8){if(r>a||n==="hour"&&!r)break;if(t.every(f=>o.floor(f)>=f))return Ig(n,i,e)}}function So(t,e,r){return(n,o,i)=>{let a=t(n,o),f=e(n,o),u=o-Cr(i);return o!==u&&i[u]!==void 0&&f===e(i[u],u)?a:r(a,f)}}var ba=Object.getPrototypeOf(Uint8Array),c8=Object.prototype.toString,Cp=Symbol("reindex");function vt(t,e,r){let n=typeof e;return n==="string"?Fg(t,Ap(e),r):n==="function"?Fg(t,e,r):n==="number"||e instanceof Date||n==="boolean"?yt(t,Gr(e),r):typeof e?.transform=="function"?Lg(e.transform(t),r):s8(Lg(e,r),t?.[Cp])}function s8(t,e){return e?Mc(t,e):t}function Fg(t,e,r){return yt(t,r?.prototype instanceof ba?l8(e):e,r)}function Lg(t,e){return e===void 0?Nt(t):t instanceof e?t:e.prototype instanceof ba&&!(t instanceof ba)?e.from(t,$p):e.from(t)}function l8(t){return(e,r)=>$p(t(e,r))}var Co=[null],Ap=t=>e=>e[t],wa={transform:oe},bt={transform:t=>t};var Og=()=>1,qg=()=>!0,Rt=t=>t==null?t:`${t}`,st=t=>t==null?t:+t;var va=t=>t?t[0]:void 0,wc=t=>t?t[1]:void 0;var Gr=t=>()=>t;function zg(t){let e=+`${t}`.slice(1)/100;return(r,n)=>sr(r,e,n)}function vc(t){return t instanceof ba?t:yt(t,$p,Float64Array)}function $p(t){return t==null?NaN:Number(t)}function Yg(t){return yt(t,p8)}function p8(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?ya(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function me(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Io(t)?[void 0,t]:[t,void 0]}function _t(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function kp(t,e,r){if(t!=null)return Kt(t,e,r)}function Kt(t,e,r){let n=`${t}`.toLowerCase();if(!r.includes(n))throw new Error(`invalid ${e}: ${t}`);return n}function Nt(t){return t==null||t instanceof Array||t instanceof ba?t:Array.from(t)}function yt(t,e,r=Array){return t==null?t:t instanceof r?t.map(e):r.from(t,e)}function Vr(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Ep({x:t,x1:e,x2:r}){return t!==void 0||e!==void 0||r!==void 0}function Ip({y:t,y1:e,y2:r}){return t!==void 0||e!==void 0||r!==void 0}function Rp(t){return Ep(t)||Ip(t)||t.interval!==void 0}function Le(t){return t?.toString===c8}function Ao(t){return Le(t)&&(t.type!==void 0||t.domain!==void 0)}function $o(t){return Le(t)&&typeof t.transform!="function"}function jr(t){return $o(t)&&t.value===void 0&&t.channel===void 0}function Np(t,e,r,n=bt){return e===void 0&&r===void 0?(e=0,r=t===void 0?n:t):e===void 0?e=t===void 0?0:t:r===void 0&&(r=t===void 0?0:t),[e,r]}function Zr(t,e){return t===void 0&&e===void 0?[va,wc]:[t,e]}function Bg({z:t,fill:e,stroke:r}={}){return t===void 0&&([t]=me(e)),t===void 0&&([t]=me(r)),t}function oe(t){let e=t.length,r=new Uint32Array(e);for(let n=0;n<e;++n)r[n]=n;return r}function Mc(t,e){return yt(e,r=>t[r],t.constructor)}function Ug(t,e,r){return t.subarray?t.subarray(e,r):t.slice(e,r)}function ko(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xg(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Eo(t){let e;return[{transform:()=>e,label:Ar(t)},r=>e=r]}function Kr(t){return t==null?[t]:Eo(t)}function Ar(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Dp(t,e){return{transform(r){let n=t.transform(r),o=e.transform(r);return Ot(n)||Ot(o)?yt(n,(i,a)=>new Date((+n[a]+ +o[a])/2)):yt(n,(i,a)=>(+n[a]+ +o[a])/2,Float64Array)},label:t.label}}function Ma(t,e){let r=Pp(e?.interval,e?.type);return r?yt(t,r):t}function Pp(t,e){let r=Sc(t,e);return r&&(n=>Fe(n)?r.floor(n):n)}function Sc(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);let r=Math.abs(t);return t<0?{floor:n=>Math.floor(n*r)/r,offset:n=>(n*r+1)/r,range:(n,o)=>an(Math.ceil(n*r),o*r).map(i=>i/r)}:{floor:n=>Math.floor(n/r)*r,offset:n=>n+r,range:(n,o)=>an(Math.ceil(n/r),o/r).map(i=>i*r)}}if(typeof t=="string")return(e==="time"?Sp:Tp)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Qr(t,e){if(t=Sc(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Wg(t,e){if(t=Qr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Hg(t){return typeof t?.range=="function"}function Jr(t){return t===void 0||$o(t)?t:{value:t}}function Gg(t){return t==null?null:{transform:e=>vt(e,t,Float64Array),label:Ar(t)}}function _e(t){return t&&typeof t[Symbol.iterator]=="function"}function Tc(t){for(let e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Fp(t){for(let e of t){if(e==null)continue;let r=typeof e;return r==="string"||r==="boolean"}}function Ot(t){for(let e of t)if(e!=null)return e instanceof Date}function Vg(t){for(let e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&ya(e)}function jg(t){for(let e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Zg(t){for(let e of t)if(e!=null)return typeof e=="number"}function _c(t,e){let r;for(let n of t)if(n!=null){if(!e(n))return!1;r=!0}return r}var d8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Io(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||d8.has(t))}function Kg(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function qt(t){return t==null||Pn(t)}function Pn(t){return/^\s*none\s*$/i.test(t)}function Qg(t){return/^\s*round\s*$/i.test(t)}function Lp(t,e){return kp(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function tn(t="middle"){return Lp(t,"frameAnchor")}function Cr(t){if(t==null)return;let e=t[0],r=t[t.length-1];return xe(e,r)}function Jg(t={},...e){let r=t;for(let n of e)for(let o in n)if(r[o]===void 0){let i=n[o];r===t?r={...r,[o]:i}:r[o]=i}return r}function m8(t){console.warn("named iterables are deprecated; please use an object instead");let e=new Set;return Object.fromEntries(Array.from(t,r=>{let{name:n}=r;if(n==null)throw new Error("missing name");let o=`${n}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[n,r]}))}function Op(t){return _e(t)?m8(t):t}var Ce=Symbol("position"),he=Symbol("color"),Fn=Symbol("radius"),Ln=Symbol("length"),On=Symbol("opacity"),Ro=Symbol("symbol"),t1=Symbol("projection"),lt=new Map([["x",Ce],["y",Ce],["fx",Ce],["fy",Ce],["r",Fn],["color",he],["opacity",On],["symbol",Ro],["length",Ln],["projection",t1]]);function e1(t){return t===Ce||t===t1}function r1(t){return t===Ce||t===Fn||t===Ln||t===On}var h8=Math.sqrt(3),g8=2/h8,x8={draw(t,e){let r=Math.sqrt(e/Math.PI),n=r*g8,o=n/2;t.moveTo(0,n),t.lineTo(r,o),t.lineTo(r,-o),t.lineTo(0,-n),t.lineTo(-r,-o),t.lineTo(-r,o),t.closePath()}},qp=new Map([["asterisk",fa],["circle",Sr],["cross",ua],["diamond",ca],["diamond2",sa],["hexagon",x8],["plus",la],["square",pa],["square2",da],["star",ma],["times",vo],["triangle",ha],["triangle2",ga],["wye",xa]]);function zp(t){return t&&typeof t.draw=="function"}function n1(t){return zp(t)?!0:typeof t!="string"?!1:qp.has(t.toLowerCase())}function No(t){if(t==null||zp(t))return t;let e=qp.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function o1(t){if(t==null||zp(t))return[void 0,t];if(typeof t=="string"){let e=qp.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function qn({filter:t,sort:e,reverse:r,transform:n,initializer:o,...i}={},a){if(n===void 0&&(t!=null&&(n=i1(t)),e!=null&&!jr(e)&&(n=Yp(n,Up(e))),r&&(n=Yp(n,a1))),a!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(e===null||jr(e))&&{sort:e},transform:Yp(n,a)}}function $r({filter:t,sort:e,reverse:r,initializer:n,...o}={},i){return n===void 0&&(t!=null&&(n=i1(t)),e!=null&&!jr(e)&&(n=Bp(n,Up(e))),r&&(n=Bp(n,a1))),{...o,...(e===null||jr(e))&&{sort:e},initializer:Bp(n,i)}}function Yp(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(r,n,o){return{data:r,facets:n}=t.call(this,r,n,o),e.call(this,Nt(r),n,o)}}function Bp(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(r,n,o,...i){let a,f,u,c,s,p;return{data:f=r,facets:u=n,channels:a}=t.call(this,r,n,o,...i),{data:s=f,facets:p=u,channels:c}=e.call(this,f,u,{...o,...a},...i),{data:s,facets:p,channels:{...a,...c}}}}function y8(t,e){return(t.initializer!=null?$r:qn)(t,e)}function i1(t){return(e,r)=>{let n=vt(e,t);return{data:e,facets:r.map(o=>o.filter(i=>n[i]))}}}function a1(t,e){return{data:t,facets:e.map(r=>r.slice().reverse())}}function f1(t,{sort:e,...r}={}){return{...($o(t)&&t.channel!==void 0?$r:y8)(r,Up(t)),sort:jr(e)?e:null}}function Up(t){return(typeof t=="function"&&t.length!==1?b8:w8)(t)}function b8(t){return(e,r)=>{let n=(o,i)=>t(e[o],e[i]);return{data:e,facets:r.map(o=>o.slice().sort(n))}}}function w8(t){let e,r;({channel:e,value:t,order:r}={...Jr(t)});let n=e?.startsWith("-");if(n&&(e=e.slice(1)),r===void 0&&(r=n?En:Zt),typeof r!="function")switch(`${r}`.toLowerCase()){case"ascending":r=Zt;break;case"descending":r=En;break;default:throw new Error(`invalid order: ${r}`)}return(o,i,a)=>{let f;if(e===void 0)f=vt(o,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}let u=(c,s)=>r(f[c],f[s]);return{data:o,facets:i.map(c=>c.slice().sort(u))}}}function Hp(t={y:"count"},e={}){let{x:r=bt}=e;if(r==null)throw new Error("missing channel: x");return v8(r,null,t,e)}function v8(t,e,{data:r=d1,filter:n,sort:o,reverse:i,...a}={},f={}){a=M8(a,f),r=Cc(r,bt),o=o==null?void 0:l1("sort",o,f),n=n==null?void 0:p1("filter",n,f);let[u,c]=Kr(t),[s,p]=Kr(e),{z:l,fill:d,stroke:m,x1:h,x2:g,y1:w,y2:x,...M}=f,[y,v]=Kr(l),[b]=me(d),[S]=me(m),[$,A]=Kr(b),[I,_]=Kr(S);return{..."z"in f&&{z:y||l},..."fill"in f&&{fill:$||d},..."stroke"in f&&{stroke:I||m},...qn(M,(R,F,P)=>{let T=Ma(vt(R,t),P?.x),D=Ma(vt(R,e),P?.y),j=vt(R,l),G=vt(R,b),E=vt(R,S),z=_8(a,{z:j,fill:G,stroke:E}),B=[],L=[],V=T&&c([]),nt=D&&p([]),tt=j&&v([]),et=G&&A([]),O=E&&_([]),rt=0;for(let k of a)k.initialize(R);o&&o.initialize(R),n&&n.initialize(R);for(let k of F){let q=[];for(let Y of a)Y.scope("facet",k);o&&o.scope("facet",k),n&&n.scope("facet",k);for(let[Y,C]of Xp(k,z))for(let[ft,K]of Xp(C,D))for(let[pt,dt]of Xp(K,T))if(!(n&&!n.reduce(dt))){q.push(rt++),L.push(r.reduceIndex(dt,R)),T&&V.push(pt),D&&nt.push(ft),j&&tt.push(z===j?Y:j[dt[0]]),G&&et.push(z===G?Y:G[dt[0]]),E&&O.push(z===E?Y:E[dt[0]]);for(let Jt of a)Jt.reduce(dt);o&&o.reduce(dt)}B.push(q)}return C8(B,o,i),{data:L,facets:B}}),...!u1(a,"x")&&(u?{x:u}:{x1:h,x2:g}),...!u1(a,"y")&&(s?{y:s}:{y1:w,y2:x}),...Object.fromEntries(a.map(({name:R,output:F})=>[R,F]))}}function u1(t,...e){for(let{name:r}of t)if(e.includes(r))return!0;return!1}function M8(t,e,r=l1){let n=Object.entries(t);return e.title!=null&&t.title===void 0&&n.push(["title",k8]),e.href!=null&&t.href===void 0&&n.push(["href",m1]),n.filter(([,o])=>o!==void 0).map(([o,i])=>i===null?S8(o):r(o,i,e))}function l1(t,e,r,n=p1){let o;Le(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);let i=n(t,e,r),[a,f]=Eo(i.label),u;return{name:t,output:o===void 0?a:{value:a,scale:o},initialize(c){i.initialize(c),u=f([])},scope(c,s){i.scope(c,s)},reduce(c,s){u.push(i.reduce(c,s))}}}function S8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function p1(t,e,r,n=Cc){let o=Xg(t,r),i=n(e,o),a,f;return{label:Ar(i===Wp?null:o,i.label),initialize(u){a=o===void 0?u:vt(u,o),i.scope==="data"&&(f=i.reduceIndex(oe(u),a))},scope(u,c){i.scope===u&&(f=i.reduceIndex(c,a))},reduce(u,c){return i.scope==null?i.reduceIndex(u,a,c):i.reduceIndex(u,a,f,c)}}}function Xp(t,e){return e?qe(ur(t,r=>e[r]),va):[[,t]]}function Cc(t,e,r=T8){if(t==null)return r(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Le(t))return A8(t);if(typeof t=="function")return $8(t);if(/^p\d{2}$/i.test(t))return kr(zg(t));switch(`${t}`.toLowerCase()){case"first":return m1;case"last":return E8;case"identity":return d1;case"count":return Wp;case"distinct":return I8;case"sum":return e==null?Wp:R8;case"proportion":return s1(e,"data");case"proportion-facet":return s1(e,"facet");case"deviation":return kr(Pa);case"min":return kr(ee);case"min-index":return kr(Oa);case"max":return kr(Dt);case"max-index":return kr(La);case"mean":return c1(za);case"median":return c1(on);case"variance":return kr(Bn);case"mode":return kr(Ya)}return r(t)}function T8(t){throw new Error(`invalid reduce: ${t}`)}function _8(t,e){for(let r in e){let n=e[r];if(n!==void 0&&!t.some(o=>o.name===r))return n}}function C8(t,e,r){if(e){let n=e.output.transform(),o=(i,a)=>Zt(n[i],n[a]);t.forEach(i=>i.sort(o))}r&&t.forEach(n=>n.reverse())}function A8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function $8(t){return{reduceIndex(e,r,n){return t(Mc(r,e),n)}}}function kr(t){return{reduceIndex(e,r){return t(e,n=>r[n])}}}function c1(t){return{reduceIndex(e,r){let n=t(e,o=>r[o]);return Ot(r)?new Date(n):n}}}var d1={reduceIndex(t,e){return Mc(e,t)}},m1={reduceIndex(t,e){return e[t[0]]}},k8={reduceIndex(t,e){let n=qe(ke(t,i=>i.length,i=>e[i]),wc),o=n.slice(-5).reverse();if(o.length<n.length){let i=n.slice(0,-4);o[4]=[`\u2026 ${i.length.toLocaleString("en-US")} more`,le(i,wc)]}return o.map(([i,a])=>`${i} (${a.toLocaleString("en-US")})`).join(`
`)}},E8={reduceIndex(t,e){return e[t[t.length-1]]}},Wp={label:"Frequency",reduceIndex(t){return t.length}},I8={label:"Distinct",reduceIndex(t,e){let r=new $e;for(let n of t)r.add(e[n]);return r.size}},R8=kr(le);function s1(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(r,n,o=1)=>r.length/o}:{scope:e,reduceIndex:(r,n,o=1)=>le(r,i=>n[i])/o}}function Do(t,{scale:e,type:r,value:n,filter:o,hint:i,label:a=Ar(n)},f){return i===void 0&&typeof n?.transform=="function"&&(i=n.hint),Vp(f,{scale:e,type:r,value:vt(t,n),label:a,filter:o,hint:i})}function g1(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Do(e,n,r)]))}function x1(t,e){let r=Object.fromEntries(Object.entries(t).map(([n,{scale:o,value:i}])=>{let a=o==null?null:e[o];return[n,a==null?i:yt(i,a)]}));return r.channels=t,r}function Vp(t,e){let{scale:r,value:n}=e;if(r===!0||r==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=r!==!0&&_c(n,Io)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=r!==!0&&_c(n,Kg)?null:"opacity";break;case"symbol":r!==!0&&_c(n,n1)?(e.scale=null,e.value=yt(n,No)):e.scale="symbol";break;default:e.scale=lt.has(t)?t:null;break}else if(r===!1)e.scale=null;else if(r!=null&&!lt.has(r))throw new Error(`unknown scale: ${r}`);return e}function y1(t,e,r,n,o){let{order:i,reverse:a,reduce:f=!0,limit:u}=o;for(let c in o){if(!lt.has(c))continue;let{value:s,order:p=i,reverse:l=a,reduce:d=f,limit:m=u}=Jr(o[c]),h=s?.startsWith("-");if(h&&(s=s.slice(1)),p=p===void 0?h!==(s==="width"||s==="height")?w1:b1:P8(p),d==null||d===!1)continue;let g=c==="fx"||c==="fy"?D8(e,n[c]):N8(r,c);if(!g)throw new Error(`missing channel for scale: ${c}`);let w=g.value,[x=0,M=1/0]=_e(m)?m:m<0?[m]:[0,m];if(s==null)g.domain=()=>{let y=Array.from(new $e(w));return l&&(y=y.reverse()),(x!==0||M!==1/0)&&(y=y.slice(x,M)),y};else{let y=s==="data"?t:s==="height"?h1(r,"y1","y2"):s==="width"?h1(r,"x1","x2"):Gp(r,s,s==="y"?"y2":s==="x"?"x2":void 0),v=Cc(d===!0?"max":d,y);g.domain=()=>{let b=os(oe(w),S=>v.reduceIndex(S,y),S=>w[S]);return p&&b.sort(p),l&&b.reverse(),(x!==0||M!==1/0)&&(b=b.slice(x,M)),b.map(va)}}}}function N8(t,e){for(let r in t){let n=t[r];if(n.scale===e)return n}}function D8(t,e){let r=t.original;if(r===t)return e;let n=e.value,o=e.value=[];for(let i=0;i<r.length;++i){let a=n[r[i][0]];for(let f of t[i])o[f]=a}return e}function h1(t,e,r){let n=Gp(t,e),o=Gp(t,r);return yt(o,(i,a)=>Math.abs(i-n[a]),Float64Array)}function Gp(t,e,r){let n=t[e];if(!n&&r!==void 0&&(n=t[r]),n)return n.value;throw new Error(`missing channel: ${e}`)}function P8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return b1;case"descending":return w1}throw new Error(`invalid order: ${t}`)}function b1([t,e],[r,n]){return Zt(e,n)||Zt(t,r)}function w1([t,e],[r,n]){return En(e,n)||Zt(t,r)}function jp(t,e){let r=t[e];if(r){for(;r.source;)r=r.source;return r.source===null?null:r}}function Ac(t){let e,r;return(...n)=>((r?.length!==n.length||r.some((o,i)=>o!==n[i]))&&(r=n,e=t(...n)),e)}var F8=Ac(t=>new Intl.NumberFormat(t)),cq=Ac((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),sq=Ac((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function L8(t="en-US"){let e=F8(t);return r=>r!=null&&!isNaN(r)?e.format(r):void 0}function O8(t){return yc(t,"Invalid Date")}function q8(t="en-US"){let e=L8(t);return r=>(r instanceof Date?O8:typeof r=="number"?e:Rt)(r)}var nr=q8();var Zp=0,Kp;function v1(){let t=Zp;return Zp=0,Kp=void 0,t}function Ae(t){t!==Kp&&(Kp=t,console.warn(t),++Zp)}var Wt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5,z8=0;function M1(){return`plot-clip-${++z8}`}function S1(t,{title:e,href:r,ariaLabel:n,ariaDescription:o,ariaHidden:i,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:p,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:m,strokeDasharray:h,strokeDashoffset:g,opacity:w,mixBlendMode:x,imageFilter:M,paintOrder:y,pointerEvents:v,shapeRendering:b,channels:S},{ariaLabel:$,fill:A="currentColor",fillOpacity:I,stroke:_="none",strokeOpacity:R,strokeWidth:F,strokeLinecap:P,strokeLinejoin:T,strokeMiterlimit:D,paintOrder:j}){A===null&&(f=null,u=null),_===null&&(c=null,p=null),qt(A)?!qt(_)&&(!qt(f)||S?.fill)&&(_="none"):qt(_)&&(!qt(c)||S?.stroke)&&(A="none");let[G,E]=me(f,A),[z,B]=_t(u,I),[L,V]=me(c,_),[nt,tt]=_t(p,R),[et,O]=_t(w);Pn(V)||(s===void 0&&(s=F),d===void 0&&(d=P),l===void 0&&(l=T),m===void 0&&!Qg(l)&&(m=D),!Pn(E)&&y===void 0&&(y=j));let[rt,k]=_t(s);return A!==null&&(t.fill=Ct(E,"currentColor"),t.fillOpacity=Sa(B,1)),_!==null&&(t.stroke=Ct(V,"none"),t.strokeWidth=Sa(k,1),t.strokeOpacity=Sa(tt,1),t.strokeLinejoin=Ct(l,"miter"),t.strokeLinecap=Ct(d,"butt"),t.strokeMiterlimit=Sa(m,4),t.strokeDasharray=Ct(h,"none"),t.strokeDashoffset=Ct(g,"0")),t.target=Rt(a),t.ariaLabel=Rt($),t.ariaDescription=Rt(o),t.ariaHidden=Rt(i),t.opacity=Sa(O,1),t.mixBlendMode=Ct(x,"normal"),t.imageFilter=Ct(M,"none"),t.paintOrder=Ct(y,"normal"),t.pointerEvents=Ct(v,"auto"),t.shapeRendering=Ct(b,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:r,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:G,scale:"auto",optional:!0},fillOpacity:{value:z,scale:"auto",optional:!0},stroke:{value:L,scale:"auto",optional:!0},strokeOpacity:{value:nt,scale:"auto",optional:!0},strokeWidth:{value:rt,optional:!0},opacity:{value:et,scale:"auto",optional:!0}}}function Y8(t,e){e&&t.filter(r=>xc(e[r])).append("title").call(B8,e)}function B8(t,e){e&&t.text(r=>nr(e[r]))}function ge(t,{target:e,tip:r},{ariaLabel:n,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:p}){n&&J(t,"aria-label",l=>n[l]),i&&J(t,"fill",l=>i[l]),a&&J(t,"fill-opacity",l=>a[l]),f&&J(t,"stroke",l=>f[l]),u&&J(t,"stroke-opacity",l=>u[l]),c&&J(t,"stroke-width",l=>c[l]),s&&J(t,"opacity",l=>s[l]),p&&X8(t,l=>p[l],e),r||Y8(t,o)}function $c(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Kt(t,"clip",["frame","sphere"])),t}function U8(t,e,r,n){let o,{clip:i=n.clip}=e;switch(i){case"frame":{let{width:a,height:f,marginLeft:u,marginRight:c,marginTop:s,marginBottom:p}=r,l=M1();o=`url(#${l})`,t=gt("svg:g",n).call(d=>d.append("svg:clipPath").attr("id",l).append("rect").attr("x",u).attr("y",s).attr("width",a-c-u).attr("height",f-s-p)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{let{projection:a}=n;if(!a)throw new Error('the "sphere" clip option requires a projection');let f=M1();o=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",Ni(a)({type:"Sphere"}));break}}J(t,"aria-label",e.ariaLabel),J(t,"aria-description",e.ariaDescription),J(t,"aria-hidden",e.ariaHidden),J(t,"clip-path",o)}function ie(t,e,r,n){U8(t,e,r,n),J(t,"fill",e.fill),J(t,"fill-opacity",e.fillOpacity),J(t,"stroke",e.stroke),J(t,"stroke-width",e.strokeWidth),J(t,"stroke-opacity",e.strokeOpacity),J(t,"stroke-linejoin",e.strokeLinejoin),J(t,"stroke-linecap",e.strokeLinecap),J(t,"stroke-miterlimit",e.strokeMiterlimit),J(t,"stroke-dasharray",e.strokeDasharray),J(t,"stroke-dashoffset",e.strokeDashoffset),J(t,"shape-rendering",e.shapeRendering),J(t,"filter",e.imageFilter),J(t,"paint-order",e.paintOrder);let{pointerEvents:o=n.pointerSticky===!1?"none":void 0}=e;J(t,"pointer-events",o)}function ae(t,e){W8(t,"mix-blend-mode",e.mixBlendMode),J(t,"opacity",e.opacity)}function X8(t,e,r){t.each(function(n){let o=e(n);if(o!=null){let i=this.ownerDocument.createElementNS(ze.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(ze.xlink,"href",o),r!=null&&i.setAttribute("target",r),this.parentNode.insertBefore(i,this).appendChild(this)}})}function J(t,e,r){r!=null&&t.attr(e,r)}function W8(t,e,r){r!=null&&t.style(e,r)}function Qt(t,e,{x:r,y:n},o=Wt,i=Wt){o+=e.dx,i+=e.dy,r?.bandwidth&&(o+=r.bandwidth()/2),n?.bandwidth&&(i+=n.bandwidth()/2),(o||i)&&t.attr("transform",`translate(${o},${i})`)}function Ct(t,e){if((t=Rt(t))!==e)return t}function Sa(t,e){if((t=st(t))!==e)return t}var H8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Po(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!H8.test(t))throw new Error(`invalid class name: ${t}`);return t}function Fo(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(let r of t)Object.assign(r.style,e)}function or({frameAnchor:t},{width:e,height:r,marginTop:n,marginRight:o,marginBottom:i,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-o:(a+e-o)/2,/^top/.test(t)?n:/^bottom/.test(t)?r-i:(n+r-i)/2]}function Lo(t={}){let{document:e=typeof window<"u"?window.document:void 0,clip:r}=t;return{document:e,clip:$c(r)}}function gt(t,{document:e}){return mr(pr(t).call(e.documentElement))}var _1=Math.PI,Er=2*_1,T1=.618;function C1({projection:t,inset:e=0,insetTop:r=e,insetRight:n=e,insetBottom:o=e,insetLeft:i=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Le(t)){let v;if({type:t,domain:u,inset:v,insetTop:r=v!==void 0?v:r,insetRight:n=v!==void 0?v:n,insetBottom:o=v!==void 0?v:o,insetLeft:i=v!==void 0?v:i,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=A1(t));let{width:s,height:p,marginLeft:l,marginRight:d,marginTop:m,marginBottom:h}=a,g=s-l-d-i-n,w=p-m-h-r-o;if(t=t?.({width:g,height:w,clip:c,...f}),t==null)return;c=G8(c,l,m,s-d,p-h);let x=l+i,M=m+r,y;if(u!=null){let[[v,b],[S,$]]=Ni(t).bounds(u),A=Math.min(g/(S-v),w/($-b));A>0?(x-=(A*(v+S)-g)/2,M-=(A*(b+$)-w)/2,y=Di({point(I,_){this.stream.point(I*A+x,_*A+M)}})):Ae("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=x===0&&M===0?$1():Di({point(v,b){this.stream.point(v+x,b+M)}}),{stream:v=>t.stream(y.stream(c(v)))}}function A1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Oe(vl,.7463,.4673);case"albers":return kc(Fi,.7463,.4673);case"azimuthal-equal-area":return Oe(Sl,4,4);case"azimuthal-equidistant":return Oe(_l,Er,Er);case"conic-conformal":return kc($l,Er,Er);case"conic-equal-area":return kc(qr,6.1702,2.9781);case"conic-equidistant":return kc(El,7.312,3.6282);case"equal-earth":return Oe(Rl,5.4133,2.6347);case"equirectangular":return Oe(kl,Er,_1);case"gnomonic":return Oe(Dl,3.4641,3.4641);case"identity":return{type:$1};case"reflect-y":return{type:V8};case"mercator":return Oe(Cl,Er,Er);case"orthographic":return Oe(Fl,2,2);case"stereographic":return Oe(Ol,2,2);case"transverse-mercator":return Oe(zl,Er,Er);default:throw new Error(`unknown projection type: ${t}`)}}function G8(t,e,r,n,o){if(t===!1||t==null||typeof t=="number")return i=>i;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return oo(e,r,n,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function Oe(t,e,r){return{type:({width:n,height:o,rotate:i,precision:a=.15,clip:f})=>{let u=t();return a!=null&&u.precision?.(a),i!=null&&u.rotate?.(i),typeof f=="number"&&u.clipAngle?.(f),u.scale(Math.min(n/e,o/r)),u.translate([n/2,o/2]),u},aspectRatio:r/e}}function kc(t,e,r){let{type:n,aspectRatio:o}=Oe(t,e,r);return{type:i=>{let{parallels:a,domain:f,width:u,height:c}=i,s=n(i);return a!=null&&(s.parallels(a),f===void 0&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:o}}var $1=Gr({stream:t=>t}),V8=Gr(Di({point(t,e){this.stream.point(t,-e)}}));function k1(t,e,r,n){let o=r[t],i=r[e],a=o.length,f=r[t]=new Float64Array(a).fill(NaN),u=r[e]=new Float64Array(a).fill(NaN),c,s=n.stream({point(p,l){f[c]=p,u[c]=l}});for(c=0;c<a;++c)s.point(o[c],i[c])}function E1({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Le(t)&&(t=t.type),t!=null)}function I1(t){if(typeof t?.stream=="function")return T1;if(Le(t)&&(t=t.type),t!=null){if(typeof t!="function"){let{aspectRatio:e}=A1(t);if(e)return e}return T1}}function R1(t){let e=[],r=[],n={scale:"x",value:e},o={scale:"y",value:r},i={point(a,f){e.push(a),r.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let a of t.value)De(a,i);return[n,o]}var L1=new Map([["accent",ip],["category10",op],["dark2",ap],["paired",fp],["pastel1",up],["pastel2",cp],["set1",sp],["set2",lp],["set3",pp],["tableau10",dp]]);function O1(t){return t!=null&&L1.has(`${t}`.toLowerCase())}var N1=new Map([...L1,["brbg",Ir(au,fu)],["prgn",Ir(uu,cu)],["piyg",Ir(su,lu)],["puor",Ir(pu,du)],["rdbu",Ir(oa,xo)],["rdgy",Ir(mu,hu)],["rdylbu",Ir(ia,yo)],["rdylgn",Ir(gu,xu)],["spectral",Ir(yu,bu)],["burd",D1(oa,xo)],["buylrd",D1(ia,yo)],["blues",zt(Xu,Wu)],["greens",zt(Hu,Gu)],["greys",zt(Vu,ju)],["oranges",zt(tc,ec)],["purples",zt(Zu,Ku)],["reds",zt(Qu,Ju)],["turbo",Rr(sc)],["viridis",Rr(pc)],["magma",Rr(dc)],["inferno",Rr(mc)],["plasma",Rr(hc)],["cividis",Rr(rc)],["cubehelix",Rr(nc)],["warm",Rr(ic)],["cool",Rr(ac)],["bugn",zt(wu,vu)],["bupu",zt(Mu,Su)],["gnbu",zt(Tu,_u)],["orrd",zt(Cu,Au)],["pubu",zt(Eu,Iu)],["pubugn",zt($u,ku)],["purd",zt(Ru,Nu)],["rdpu",zt(Du,Pu)],["ylgn",zt(Ou,qu)],["ylgnbu",zt(Fu,Lu)],["ylorbr",zt(zu,Yu)],["ylorrd",zt(Bu,Uu)],["rainbow",P1(fc)],["sinebow",P1(cc)]]);function zt(t,e){return({length:r})=>r===1?[t[3][1]]:r===2?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Ht(e,r):t[r])}function Ir(t,e){return({length:r})=>r===2?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Ht(e,r):t[r])}function D1(t,e){return({length:r})=>r===2?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Ht(n=>e(1-n),r):t[r].slice().reverse())}function Rr(t){return({length:e})=>Ht(t,Math.max(2,Math.floor(e)))}function P1(t){return({length:e})=>Ht(t,Math.floor(e)+1).slice(0,-1)}function Qp(t){let e=`${t}`.toLowerCase();if(!N1.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return N1.get(e)}function Ta(t,e){let r=Qp(t),n=typeof r=="function"?r({length:e}):r;return n.length!==e?n.slice(0,e):n}function q1(t,e="greys"){let r=new Set,[n,o]=Ta(e,2);for(let i of t)if(i!=null)if(i===!0)r.add(o);else if(i===!1)r.add(n);else return;return[...r]}var F1=new Map([["brbg",fu],["prgn",cu],["piyg",lu],["puor",du],["rdbu",xo],["rdgy",hu],["rdylbu",yo],["rdylgn",xu],["spectral",bu],["burd",t=>xo(1-t)],["buylrd",t=>yo(1-t)],["blues",Wu],["greens",Gu],["greys",ju],["purples",Ku],["reds",Ju],["oranges",ec],["turbo",sc],["viridis",pc],["magma",dc],["inferno",mc],["plasma",hc],["cividis",rc],["cubehelix",nc],["warm",ic],["cool",ac],["bugn",vu],["bupu",Su],["gnbu",_u],["orrd",Au],["pubugn",ku],["pubu",Iu],["purd",Nu],["rdpu",Pu],["ylgnbu",Lu],["ylgn",qu],["ylorbr",Yu],["ylorrd",Uu],["rainbow",fc],["sinebow",cc]]);function Oo(t){let e=`${t}`.toLowerCase();if(!F1.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return F1.get(e)}var j8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function z1(t){return t!=null&&j8.has(`${t}`.toLowerCase())}var td=t=>e=>t(1-e),Jp=[0,1],Y1=new Map([["number",xt],["rgb",be],["hsl",Rs],["hcl",Ns],["lab",of]]);function ed(t){let e=`${t}`.toLowerCase();if(!Y1.has(e))throw new Error(`unknown interpolator: ${e}`);return Y1.get(e)}function zo(t,e,r,{type:n,nice:o,clamp:i,zero:a,domain:f=j1(t,r),unknown:u,round:c,scheme:s,interval:p,range:l=lt.get(t)===Fn?J8(r,f):lt.get(t)===Ln?t5(r,f):lt.get(t)===On?Jp:void 0,interpolate:d=lt.get(t)===he?s==null&&l!==void 0?be:Oo(s!==void 0?s:n==="cyclical"?"rainbow":"turbo"):c?pn:xt,reverse:m}){if(p=Qr(p,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof d!="function"&&(d=ed(d)),m=!!m,l!==void 0){let h=(f=Nt(f)).length,g=(l=Nt(l)).length;if(h!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Xe(d,l),l=void 0}}if(d.length===1?(m&&(d=td(d),m=!1),l===void 0&&(l=Float64Array.from(f,(h,g)=>g/(f.length-1)),l.length===2&&(l=Jp)),e.interpolate((l===Jp?Gr:_a)(d))):e.interpolate(d),a){let[h,g]=fe(f);(h>0||g<0)&&(f=Vr(f),Cr(f)!==Math.sign(h)?f[f.length-1]=0:f[0]=0)}return m&&(f=Nr(f)),e.domain(f).unknown(u),o&&(e.nice(Z8(o,n)),f=e.domain()),l!==void 0&&e.range(l),i&&e.clamp(i),{type:n,domain:f,range:l,scale:e,interpolate:d,interval:p}}function Z8(t,e){return t===!0?void 0:typeof t=="number"?t:Wg(t,e)}function B1(t,e,r){return zo(t,Mn(),e,r)}function U1(t,e,r){return rd(t,e,{...r,exponent:.5})}function rd(t,e,{exponent:r=1,...n}){return zo(t,Vi().exponent(r),e,{...n,type:"pow"})}function X1(t,e,{base:r=10,domain:n=e5(e),...o}){return zo(t,Hi().base(r),e,{...o,domain:n})}function W1(t,e,{constant:r=1,...n}){return zo(t,Gi().constant(r),e,n)}function H1(t,e,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:o=n,scheme:i="rdylbu",domain:a=r5(e),unknown:f,interpolate:u,reverse:c}){return r===void 0&&(r=u!==void 0?Ht(u,o):lt.get(t)===he?Ta(i,o):void 0),a.length>0&&(a=ji(a,r===void 0?{length:o}:r).quantiles()),Ec(t,e,{domain:a,range:r,reverse:c,unknown:f})}function G1(t,e,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:o="rdylbu",domain:i=j1(t,e),unknown:a,interpolate:f,reverse:u}){let[c,s]=fe(i),p;return r===void 0?(p=cr(c,s,n),p[0]<=c&&p.splice(0,1),p[p.length-1]>=s&&p.pop(),n=p.length+1,r=f!==void 0?Ht(f,n):lt.get(t)===he?Ta(o,n):void 0):(p=Ht(xt(c,s),n+1).slice(1,-1),c instanceof Date&&(p=p.map(l=>new Date(l)))),Cr(Nt(i))<0&&p.reverse(),Ec(t,e,{domain:p,range:r,reverse:u,unknown:a})}function Ec(t,e,{domain:r=[0],unknown:n,scheme:o="rdylbu",interpolate:i,range:a=i!==void 0?Ht(i,r.length+1):lt.get(t)===he?Ta(o,r.length+1):void 0,reverse:f}){r=Nt(r);let u=Cr(r);if(!isNaN(u)&&!K8(r,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Nr(a)),{type:"threshold",scale:Zi(u<0?Nr(r):r,a===void 0?[]:a).unknown(n),domain:r,range:a}}function K8(t,e){for(let r=1,n=t.length,o=t[0];r<n;++r){let i=xe(o,o=t[r]);if(i!==0&&i!==e)return!1}return!0}function V1(t){return{type:"identity",scale:r1(lt.get(t))?Xi():e=>e}}function qo(t,e=wp){return t.length?[ee(t,({value:r})=>r===void 0?r:ee(r,e)),Dt(t,({value:r})=>r===void 0?r:Dt(r,e))]:[0,1]}function j1(t,e){let r=lt.get(t);return(r===Fn||r===On||r===Ln?Q8:qo)(e)}function Q8(t){return[0,t.length?Dt(t,({value:e})=>e===void 0?e:Dt(e,wp)):1]}function J8(t,e){let r=t.find(({radius:a})=>a!==void 0);if(r!==void 0)return[0,r.radius];let n=sr(t,.5,({value:a})=>a===void 0?NaN:sr(a,.25,In)),o=e.map(a=>3*Math.sqrt(a/n)),i=30/Dt(o);return i<1?o.map(a=>a*i):o}function t5(t,e){let r=on(t,({value:i})=>i===void 0?NaN:on(i,Math.abs)),n=e.map(i=>12*i/r),o=60/Dt(n);return o<1?n.map(i=>i*o):n}function e5(t){for(let{value:e}of t)if(e!==void 0)for(let r of e){if(r>0)return qo(t,In);if(r<0)return qo(t,Mo)}return[1,10]}function r5(t){let e=[];for(let{value:r}of t)if(r!==void 0)for(let n of r)e.push(n);return e}function _a(t){return(e,r)=>n=>t(e+n*(r-e))}function Ic(t,e,r,n,{type:o,nice:i,clamp:a,domain:f=qo(n),unknown:u,pivot:c=0,scheme:s,range:p,symmetric:l=!0,interpolate:d=lt.get(t)===he?s==null&&p!==void 0?be:Oo(s!==void 0?s:"rdbu"):xt,reverse:m}){c=+c,f=Nt(f);let[h,g]=f;if(f.length>2&&Ae(`Warning: the diverging ${t} scale domain contains extra elements.`),xe(h,g)<0&&([h,g]=[g,h],m=!m),h=Math.min(h,c),g=Math.max(g,c),typeof d!="function"&&(d=ed(d)),p!==void 0&&(d=d.length===1?_a(d)(...p):Xe(d,p)),m&&(d=td(d)),l){let w=r.apply(c),x=w-r.apply(h),M=r.apply(g)-w;x<M?h=r.invert(w-M):x>M&&(g=r.invert(w+x))}return e.domain([h,c,g]).unknown(u).interpolator(d),a&&e.clamp(a),i&&e.nice(i),{type:o,domain:[h,g],pivot:c,interpolate:d,scale:e}}function Z1(t,e,r){return Ic(t,na(),n5,e,r)}function K1(t,e,r){return nd(t,e,{...r,exponent:.5})}function nd(t,e,{exponent:r=1,...n}){return Ic(t,iu().exponent(r=+r),a5(r),e,{...n,type:"diverging-pow"})}function Q1(t,e,{base:r=10,pivot:n=1,domain:o=qo(e,n<0?Mo:In),...i}){return Ic(t,nu().base(r=+r),o5,e,{domain:o,pivot:n,...i})}function J1(t,e,{constant:r=1,...n}){return Ic(t,ou().constant(r=+r),f5(r),e,n)}var n5={apply(t){return t},invert(t){return t}},o5={apply:Math.log,invert:Math.exp},i5={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function a5(t){return t===.5?i5:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function f5(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function tx(t,e,r,n){return zo(t,e,r,n)}function ex(t,e,r){return tx(t,tu(),e,r)}function rx(t,e,r){return tx(t,eu(),e,r)}var Yo=Symbol("ordinal");function ox(t,e,r,{type:n,interval:o,domain:i,range:a,reverse:f,hint:u}){return o=Qr(o,n),i===void 0&&(i=cx(r,o,t)),(n==="categorical"||n===Yo)&&(n="ordinal"),f&&(i=Nr(i)),i=e.domain(i).domain(),a!==void 0&&(typeof a=="function"&&(a=a(i)),e.range(a)),{type:n,domain:i,range:a,scale:e,hint:u,interval:o}}function ix(t,e,{type:r,interval:n,domain:o,range:i,scheme:a,unknown:f,...u}){n=Qr(n,r),o===void 0&&(o=cx(e,n,t));let c;if(lt.get(t)===Ro)c=u5(e),i=i===void 0?c5(c):yt(i,No);else if(lt.get(t)===he&&(i===void 0&&(r==="ordinal"||r===Yo)&&(i=q1(o,a),i!==void 0&&(a=void 0)),a===void 0&&i===void 0&&(a=r==="ordinal"?"turbo":"tableau10"),a!==void 0))if(i!==void 0){let s=Oo(a),p=i[0],l=i[1]-i[0];i=({length:d})=>Ht(m=>s(p+l*m),d)}else i=Qp(a);if(f===Bi)throw new Error(`implicit unknown on ${t} scale is not supported`);return ox(t,wn().unknown(f),e,{...u,type:r,domain:o,range:i,hint:c})}function ax(t,e,{align:r=.5,padding:n=.5,...o}){return ux(Yl().align(r).padding(n),e,o,t)}function fx(t,e,{align:r=.5,padding:n=.1,paddingInner:o=n,paddingOuter:i=t==="fx"||t==="fy"?0:n,...a}){return ux(zr().align(r).paddingInner(o).paddingOuter(i),e,a,t)}function ux(t,e,r,n){let{round:o}=r;return o!==void 0&&t.round(o=!!o),t=ox(n,t,e,r),t.round=o,t}function cx(t,e,r){let n=new $e;for(let{value:o,domain:i}of t){if(i!==void 0)return i();if(o!==void 0)for(let a of o)n.add(a)}if(e!==void 0){let[o,i]=fe(n).map(e.floor,e);return e.range(o,e.offset(i))}if(n.size>1e4&&lt.get(r)===Ce)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return qe(n,Zt)}function nx(t,e){let r;for(let{hint:n}of t){let o=n?.[e];if(o!==void 0){if(r===void 0)r=o;else if(r!==o)return}}return r}function u5(t){return{fill:nx(t,"fill"),stroke:nx(t,"stroke")}}function c5(t){return qt(t.fill)?xp:gc}function Ca(t,{label:e,inset:r=0,insetTop:n=r,insetRight:o=r,insetBottom:i=r,insetLeft:a=r,round:f,nice:u,clamp:c,zero:s,align:p,padding:l,projection:d,facet:{label:m=e}={},...h}={}){let g={};for(let[w,x]of t){let M=h[w],y=p5(w,x,{round:lt.get(w)===Ce?f:void 0,nice:u,clamp:c,zero:s,align:p,padding:l,projection:d,...M});if(y){let{label:v=w==="fx"||w==="fy"?m:e,percent:b,transform:S,inset:$,insetTop:A=$!==void 0?$:w==="y"?n:0,insetRight:I=$!==void 0?$:w==="x"?o:0,insetBottom:_=$!==void 0?$:w==="y"?i:0,insetLeft:R=$!==void 0?$:w==="x"?a:0}=M||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");y.percent=!!b,y.label=v===void 0?s5(x,y):v,y.transform=S,w==="x"||w==="fx"?(y.insetLeft=+R,y.insetRight=+I):(w==="y"||w==="fy")&&(y.insetTop=+A,y.insetBottom=+_),g[w]=y}}return g}function id(t){let e={},r={scales:e};for(let[n,o]of Object.entries(t)){let{scale:i,type:a,interval:f,label:u}=o;e[n]=g5(o),r[n]=i,i.type=a,f!=null&&(i.interval=f),u!=null&&(i.label=u)}return r}function dx(t,e){let{x:r,y:n,fx:o,fy:i}=t,a=o||i?Nc(e):e;o&&sx(o,a),i&&lx(i,a);let f=o||i?ad(t,e):e;r&&sx(r,f),n&&lx(n,f)}function s5(t=[],e){let r;for(let{label:n}of t)if(n!==void 0){if(r===void 0)r=n;else if(r!==n)return}if(r!==void 0)return!ir(e)&&e.percent&&(r=`${r} (%)`),{inferred:!0,toString:()=>r}}function Nc(t){let{marginTop:e,marginRight:r,marginBottom:n,marginLeft:o,width:i,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(r,u),marginBottom:Math.max(n,c),marginLeft:Math.max(o,s),width:i,height:a}}function ad({fx:t,fy:e},r){let{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Nc(r);return{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:t?t.scale.bandwidth()+a+o:f,height:e?e.scale.bandwidth()+n+i:u,facet:{width:f,height:u}}}function sx(t,e){if(t.range===void 0){let{insetLeft:r,insetRight:n}=t,{width:o,marginLeft:i=0,marginRight:a=0}=e,f=i+r,u=o-a-n;t.range=[f,Math.max(f,u)],ir(t)||(t.range=hx(t)),t.scale.range(t.range)}mx(t)}function lx(t,e){if(t.range===void 0){let{insetTop:r,insetBottom:n}=t,{height:o,marginTop:i=0,marginBottom:a=0}=e,f=i+r,u=o-a-n;t.range=[Math.max(f,u),f],ir(t)?t.range.reverse():t.range=hx(t),t.scale.range(t.range)}mx(t)}function mx(t){t.round===void 0&&m5(t)&&l5(t)<=30&&t.scale.round(!0)}function l5({scale:t}){let e=t.domain().length,[r,n]=t.range(),o=t.paddingInner?t.paddingInner():1,i=t.paddingOuter?t.paddingOuter():t.padding(),a=e-o,f=Math.abs(n-r)/Math.max(1,a+i*2);return(f-Math.floor(f))*a}function hx(t){let e=t.scale.domain().length+fd(t);if(!(e>2))return t.range;let[r,n]=t.range;return Array.from({length:e},(o,i)=>r+i/(e-1)*(n-r))}function p5(t,e=[],r={}){let n=d5(t,e,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&t!=="fx"&&t!=="fy"&&ir({type:n})){let o=e.map(({value:i})=>i).filter(i=>i!==void 0);o.some(Ot)?Ae(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Bo(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Bo(n)}".`):o.some(Vg)?Ae(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Bo(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Bo(n)}".`):o.some(jg)&&Ae(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Bo(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Bo(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=Rc(e,r,vc);break;case"identity":switch(lt.get(t)){case Ce:r=Rc(e,r,vc);break;case Ro:r=Rc(e,r,h5);break}break;case"utc":case"time":r=Rc(e,r,Yg);break}switch(n){case"diverging":return Z1(t,e,r);case"diverging-sqrt":return K1(t,e,r);case"diverging-pow":return nd(t,e,r);case"diverging-log":return Q1(t,e,r);case"diverging-symlog":return J1(t,e,r);case"categorical":case"ordinal":case Yo:return ix(t,e,r);case"cyclical":case"sequential":case"linear":return B1(t,e,r);case"sqrt":return U1(t,e,r);case"threshold":return Ec(t,e,r);case"quantile":return H1(t,e,r);case"quantize":return G1(t,e,r);case"pow":return rd(t,e,r);case"log":return X1(t,e,r);case"symlog":return W1(t,e,r);case"utc":return rx(t,e,r);case"time":return ex(t,e,r);case"point":return ax(t,e,r);case"band":return fx(t,e,r);case"identity":return V1(t);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Bo(t){return typeof t=="symbol"?t.description:t}var px={toString:()=>"projection"};function d5(t,e,{type:r,domain:n,range:o,scheme:i,pivot:a,projection:f}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(r=px);for(let{type:c}of e)if(c!==void 0){if(r===void 0)r=c;else if(r!==c)throw new Error(`scale incompatible with channel: ${r} !== ${c}`)}if(r===px)return;if(r!==void 0)return r;if(n===void 0&&!e.some(({value:c})=>c!==void 0))return;let u=lt.get(t);if(u===Fn)return"sqrt";if(u===On||u===Ln)return"linear";if(u===Ro)return"ordinal";if((n||o||[]).length>2)return od(u);if(n!==void 0){if(Fp(n))return od(u);if(Ot(n))return"utc"}else{let c=e.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Fp))return od(u);if(c.some(Ot))return"utc"}if(u===he){if(a!=null||z1(i))return"diverging";if(O1(i))return"categorical"}return"linear"}function od(t){switch(t){case Ce:return"point";case he:return Yo;default:return"ordinal"}}function ir({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Yo}function fd({type:t}){return t==="threshold"}function m5({type:t}){return t==="point"||t==="band"}function ar(t){if(t===void 0)return!0;let e=t.domain(),r=t(e[0]);for(let n=1,o=e.length;n<o;++n)if(t(e[n])-r)return!1;return!0}function Rc(t,{domain:e,...r},n){for(let o of t)o.value!==void 0&&(o.value=n(o.value));return{domain:e===void 0?e:n(e),...r}}function h5(t){return yt(t,No)}function gx(t){return e=>{if(!lt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function g5({scale:t,type:e,domain:r,range:n,interpolate:o,interval:i,transform:a,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:s=>s,invert:s=>s};let c=t.unknown?t.unknown():void 0;return{type:e,domain:Vr(r),...n!==void 0&&{range:Vr(n)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...i!==void 0&&{interval:i},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function yx(t,e,r={}){let n=.5-Wt,o=.5+Wt,i=.5+Wt,a=.5-Wt;for(let{marginTop:h,marginRight:g,marginBottom:w,marginLeft:x}of e)h>n&&(n=h),g>o&&(o=g),w>i&&(i=w),x>a&&(a=x);let{margin:f,marginTop:u=f!==void 0?f:n,marginRight:c=f!==void 0?f:o,marginBottom:s=f!==void 0?f:i,marginLeft:p=f!==void 0?f:a}=r;u=+u,c=+c,s=+s,p=+p;let{width:l=640,height:d=x5(t,r,{width:l,marginTopDefault:n,marginRightDefault:o,marginBottomDefault:i,marginLeftDefault:a})+Math.max(0,u-n+s-i)}=r;l=+l,d=+d;let m={width:l,height:d,marginTop:u,marginRight:c,marginBottom:s,marginLeft:p};if(t.fx||t.fy){let{margin:h,marginTop:g=h!==void 0?h:u,marginRight:w=h!==void 0?h:c,marginBottom:x=h!==void 0?h:s,marginLeft:M=h!==void 0?h:p}=r.facet??{};g=+g,w=+w,x=+x,M=+M,m.facet={marginTop:g,marginRight:w,marginBottom:x,marginLeft:M}}return m}function x5({x:t,y:e,fy:r,fx:n},{projection:o,aspectRatio:i},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){let p=r?r.scale.domain().length:1,l=I1(o);if(l){let m=n?n.scale.domain().length:1,h=(1.1*p-.1)/(1.1*m-.1)*l,g=Math.max(.1,Math.min(10,h));return Math.round((a-s-u)*g+f+c)}let d=e?ir(e)?e.scale.domain().length:Math.max(7,17/p):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error(`invalid aspectRatio: ${i}`);let m=xx("y",e)/(xx("x",t)*i),h=n?n.scale.bandwidth():1,g=r?r.scale.bandwidth():1,w=h*(a-s-u)-t.insetLeft-t.insetRight;return(m*w+e.insetTop+e.insetBottom)/g+f+c}return!!(e||r)*Math.max(1,Math.min(60,d*p))*20+!!n*30+60}function xx(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);let{type:r,domain:n}=e,o;switch(r){case"linear":case"utc":case"time":o=Number;break;case"pow":{let f=e.scale.exponent();o=u=>Math.pow(u,f);break}case"log":o=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${r}`)}let[i,a]=fe(n);return Math.abs(o(a)-o(i))}function wx(t,e){let{fx:r,fy:n}=Ca(t,e),o=r?.scale.domain(),i=n?.scale.domain();return o&&i?Na(o,i).map(([a,f],u)=>({x:a,y:f,i:u})):o?o.map((a,f)=>({x:a,i:f})):i?i.map((a,f)=>({y:a,i:f})):void 0}function vx(t,{x:e,y:r}){return e&&=pd(e),r&&=pd(r),t.filter(e&&r?n=>e.has(n.x)&&r.has(n.y):e?n=>e.has(n.x):n=>r.has(n.y)).sort(e&&r?(n,o)=>e.get(n.x)-e.get(o.x)||r.get(n.y)-r.get(o.y):e?(n,o)=>e.get(n.x)-e.get(o.x):(n,o)=>r.get(n.y)-r.get(o.y))}function Pc(t,{fx:e,fy:r}){let n=oe(t),o=e?.value,i=r?.value;return e&&r?ke(n,a=>(a.fx=o[a[0]],a.fy=i[a[0]],a),a=>o[a],a=>i[a]):e?ke(n,a=>(a.fx=o[a[0]],a),a=>o[a]):ke(n,a=>(a.fy=i[a[0]],a),a=>i[a])}function Mx(t,e,{marginTop:r,marginLeft:n}){return t&&e?({x:o,y:i})=>`translate(${t(o)-n},${e(i)-r})`:t?({x:o})=>`translate(${t(o)-n},0)`:({y:o})=>`translate(0,${e(o)-r})`}function Sx(t){let e=[],r=new Uint32Array(le(t,n=>n.length));for(let n of t){let o=0;for(let i of t)n!==i&&(r.set(i,o),o+=i.length);e.push(r.slice(0,o))}return e}var y5=new Map([["top",ud],["right",ld],["bottom",cd],["left",sd],["top-left",Dc(ud,sd)],["top-right",Dc(ud,ld)],["bottom-left",Dc(cd,sd)],["bottom-right",Dc(cd,ld)],["top-empty",w5],["right-empty",S5],["bottom-empty",v5],["left-empty",M5],["empty",T5]]);function Tx(t){if(t==null)return null;let e=y5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}var bx=new WeakMap;function pd(t){let e=bx.get(t);return e||bx.set(t,e=new te(yt(t,(r,n)=>[r,n]))),e}function en(t,e){return pd(t).get(e)}function b5(t,e,r){return e=ko(e),r=ko(r),t.find(n=>Object.is(ko(n.x),e)&&Object.is(ko(n.y),r))}function Fc(t,e,r){return b5(t,e,r)?.empty}function ud(t,{y:e},{y:r}){return e?en(e,r)===0:!0}function cd(t,{y:e},{y:r}){return e?en(e,r)===e.length-1:!0}function sd(t,{x:e},{x:r}){return e?en(e,r)===0:!0}function ld(t,{x:e},{x:r}){return e?en(e,r)===e.length-1:!0}function w5(t,{y:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=en(e,n);if(i>0)return Fc(t,r,e[i-1])}function v5(t,{y:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=en(e,n);if(i<e.length-1)return Fc(t,r,e[i+1])}function M5(t,{x:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=en(e,r);if(i>0)return Fc(t,e[i-1],n)}function S5(t,{x:e},{x:r,y:n,empty:o}){if(o)return!1;if(!e)return;let i=en(e,r);if(i<e.length-1)return Fc(t,e[i+1],n)}function T5(t,e,{empty:r}){return r}function Dc(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Lc(t,{channels:{fx:e,fy:r},groups:n}){return e&&r?t.map(({x:o,y:i})=>n.get(o)?.get(i)??[]):e?t.map(({x:o})=>n.get(o)??[]):t.map(({y:o})=>n.get(o)??[])}var At=class{constructor(e,r={},n={},o){let{facet:i="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:p=0,margin:l=0,marginTop:d=l,marginRight:m=l,marginBottom:h=l,marginLeft:g=l,clip:w=o?.clip,channels:x,tip:M,render:y}=n;if(this.data=e,this.sort=jr(c)?c:null,this.initializer=$r(n).initializer,this.transform=this.initializer?n.transform:qn(n).transform,i===null||i===!1?this.facet=null:(this.facet=Kt(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=e===Co&&typeof f=="string"?[f]:f,this.fy=e===Co&&typeof u=="string"?[u]:u),this.facetAnchor=Tx(a),r=Op(r),x!==void 0&&(r={..._5(x),...r}),o!==void 0&&(r={...S1(this,n,o),...r}),this.channels=Object.fromEntries(Object.entries(r).map(([v,b])=>{if($o(b.value)){let{value:S,label:$=b.label,scale:A=b.scale}=b.value;b={...b,label:$,scale:A,value:S}}if(e===Co&&typeof b.value=="string"){let{value:S}=b;b={...b,value:[S]}}return[v,b]}).filter(([v,{value:b,optional:S}])=>{if(b!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+p,this.marginTop=+d,this.marginRight=+m,this.marginBottom=+h,this.marginLeft=+g,this.clip=$c(w),this.tip=C5(M),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(let v in this.channels){let{scale:b}=r[v];if(!(b!=="x"&&b!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=md(y,this.render))}initialize(e,r,n){let o=Nt(this.data);e===void 0&&o!=null&&(e=[oe(o)]);let i=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,n),o=Nt(o)),e!==void 0&&(e.original=i);let a=g1(this.channels,o);return this.sort!=null&&y1(o,e,a,r,this.sort),{data:o,facets:e,channels:a}}filter(e,r,n){for(let o in r){let{filter:i=Fe}=r[o];if(i!==null){let a=n[o];e=e.filter(f=>i(a[f]))}}return e}project(e,r,n){for(let o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){let i=o.replace(/^x|x$/,"y");i in e&&e[i].scale==="y"&&k1(o,i,r,n.projection)}}scale(e,r,n){let o=x1(e,r);return n.projection&&this.project(e,o,n),o}};function dd(...t){return t.plot=At.prototype.plot,t}function md(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(r,n,o,i,a,f){return t.call(this,r,n,o,i,a,(u,c,s,p,l)=>e.call(this,u,c,s,p,l,f))}}function _5(t){return Object.fromEntries(Object.entries(Op(t)).map(([e,r])=>(r=typeof r=="string"?{value:r,label:e}:Jr(r),r.filter===void 0&&r.scale==null&&(r={...r,filter:null}),[e,r])))}function C5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Kt(t,"tip",["x","y","xy"]):t}function Uo(t,e){return t?.tip===!0?{...t,tip:e}:Le(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}var _x=new WeakMap;function hd(t,e,{x:r,y:n,px:o,py:i,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,o!=null&&(r??=null,f={...f,px:{value:o,scale:"x"}}),i!=null&&(n??=null,f={...f,py:{value:i,scale:"y"}}),{x:r,y:n,channels:f,...c,render:md(function(s,p,l,d,m,h){m={...m,pointerSticky:!1};let g=m.ownerSVGElement,{data:w}=m.getMarkState(this),x=_x.get(g);x||_x.set(g,x={sticky:!1,roots:[],renders:[]});let M=x.renders.push(V)-1,{x:y,y:v,fx:b,fy:S}=p,$=b?b(s.fx)-d.marginLeft:0,A=S?S(s.fy)-d.marginTop:0;y?.bandwidth&&($+=y.bandwidth()/2),v?.bandwidth&&(A+=v.bandwidth()/2);let I=s.fi!=null,_;if(I){let O=x.facetStates;O||(x.facetStates=O=new Map),_=O.get(this),_||O.set(this,_=new Map)}let[R,F]=or(this,d),{px:P,py:T}=l,D=P?O=>P[O]:yd(l,R),j=T?O=>T[O]:bd(l,F),G,E,z,B;function L(O,rt){if(I)if(B&&(B=cancelAnimationFrame(B)),O==null)_.delete(s.fi);else{_.set(s.fi,rt),B=requestAnimationFrame(()=>{B=null;for(let[k,q]of _)if(q<rt||q===rt&&k<s.fi){O=null;break}V(O)});return}V(O)}function V(O){if(G===O&&z===x.sticky)return;G=O,z=m.pointerSticky=x.sticky;let rt=G==null?[]:[G];I&&(rt.fx=s.fx,rt.fy=s.fy,rt.fi=s.fi);let k=h(rt,p,l,d,m);if(E){if(I){let q=E.parentNode,Y=E.getAttribute("transform"),C=k.getAttribute("transform");Y?k.setAttribute("transform",Y):k.removeAttribute("transform"),C?q.setAttribute("transform",C):q.removeAttribute("transform"),k.removeAttribute("aria-label"),k.removeAttribute("aria-description"),k.removeAttribute("aria-hidden")}E.replaceWith(k)}return x.roots[M]=E=k,G==null&&_?.size>1||m.dispatchValue(G==null?null:w[G]),k}function nt(O){if(x.sticky||O.pointerType==="mouse"&&O.buttons===1)return;let[rt,k]=xs(O);rt-=$,k-=A;let q=rt<d.marginLeft||rt>d.width-d.marginRight?1:t,Y=k<d.marginTop||k>d.height-d.marginBottom?1:e,C=null,ft=a*a;for(let K of s){let pt=q*(D(K)-rt),dt=Y*(j(K)-k),Jt=pt*pt+dt*dt;Jt<=ft&&(C=K,ft=Jt)}if(C!=null&&(t!==1||e!==1)){let K=D(C)-rt,pt=j(C)-k;ft=K*K+pt*pt}L(C,ft)}function tt(O){O.pointerType==="mouse"&&G!=null&&(x.sticky&&x.roots.some(rt=>rt?.contains(O.target))||(x.sticky?(x.sticky=!1,x.renders.forEach(rt=>rt(null))):(x.sticky=!0,V(G)),O.stopImmediatePropagation()))}function et(O){O.pointerType==="mouse"&&(x.sticky||L(null))}return g.addEventListener("pointerenter",nt),g.addEventListener("pointermove",nt),g.addEventListener("pointerdown",tt),g.addEventListener("pointerleave",et),V(null)},u)}}function Aa(t){return hd(1,1,t)}function gd(t){return hd(1,.01,t)}function xd(t){return hd(.01,1,t)}function yd({x1:t,x2:e,x:r=t},n){return t&&e?o=>(t[o]+e[o])/2:r?o=>r[o]:()=>n}function bd({y1:t,y2:e,y:r=t},n){return t&&e?o=>(t[o]+e[o])/2:r?o=>r[o]:()=>n}function Oc(t){return ir(t)&&t.interval===void 0?void 0:"tabular-nums"}function Cx(t,e){let{label:r=t.label,tickSize:n=6,width:o=240,height:i=44+n,marginTop:a=18,marginRight:f=0,marginBottom:u=16+n,marginLeft:c=0,style:s,ticks:p=(o-c-f)/64,tickFormat:l,fontVariant:d=Oc(t),round:m=!0,opacity:h,className:g}=e,w=Lo(e);g=Po(g),h=_t(h)[1],l===null&&(l=()=>null);let x=gt("svg",w).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",i).attr("viewBox",`0 0 ${o} ${i}`).call(R=>R.append("style").text(`.${g}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${g}-ramp text {
  white-space: pre;
}`)).call(Fo,s),M=R=>R.selectAll(".tick line").attr("y1",a+u-i),y,v=m?(R,F)=>R.rangeRound(F):(R,F)=>R.range(F),{type:b,domain:S,range:$,interpolate:A,scale:I,pivot:_}=t;if(A){let R=$===void 0?A:Xe(A.length===1?_a(A):A,$);y=v(I.copy(),Ht(xt(c,o-f),Math.min(S.length+(_!==void 0),$===void 0?1/0:$.length)));let F=256,P=w.document.createElement("canvas");P.width=F,P.height=1;let T=P.getContext("2d");for(let D=0,j=F-1;D<F;++D)T.fillStyle=R(D/j),T.fillRect(D,0,1,1);x.append("image").attr("opacity",h).attr("x",c).attr("y",a).attr("width",o-c-f).attr("height",i-a-u).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(b==="threshold"){let R=S,F=l===void 0?P=>P:typeof l=="string"?we(l):l;y=v(Mn().domain([-1,$.length-1]),[c,o-f]),x.append("g").attr("fill-opacity",h).selectAll().data($).enter().append("rect").attr("x",(P,T)=>y(T-1)).attr("y",a).attr("width",(P,T)=>y(T)-y(T-1)).attr("height",i-a-u).attr("fill",P=>P),p=yt(R,(P,T)=>T),l=P=>F(R[P],P)}else y=v(zr().domain(S),[c,o-f]),x.append("g").attr("fill-opacity",h).selectAll().data(S).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",i-a-u).attr("fill",I),M=()=>{};return x.append("g").attr("transform",`translate(0,${i-u})`).call(ps(y).ticks(Array.isArray(p)?null:p,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(n).tickValues(Array.isArray(p)?p:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ct(d,"normal")).call(M).call(R=>R.select(".domain").remove()),r!==void 0&&x.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(r),x.node()}var wd=Math.PI/180;function Md(t,{marker:e,markerStart:r=e,markerMid:n=e,markerEnd:o=e}={}){t.markerStart=vd(r),t.markerMid=vd(n),t.markerEnd=vd(o)}function vd(t){if(t==null||t===!1)return null;if(t===!0)return $x;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Ax("auto");case"arrow-reverse":return Ax("auto-start-reverse");case"dot":return A5;case"circle":case"circle-fill":return $x;case"circle-stroke":return $5}throw new Error(`invalid marker: ${t}`)}function Ax(t){return(e,r)=>gt("svg:marker",r).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function A5(t,e){return gt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(r=>r.append("circle").attr("r",2.5)).node()}function $x(t,e){return gt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function $5(t,e){return gt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}var k5=0;function Sd(t,e,{stroke:r},n){return E5(t,e,r&&(o=>r[o]),n)}function E5(t,{markerStart:e,markerMid:r,markerEnd:n,stroke:o},i=()=>o,a){let f=new Map;function u(c){return function(s){let p=i(s),l=f.get(c);l||f.set(c,l=new Map);let d=l.get(p);if(!d){let m=this.parentNode.insertBefore(c(p,a),this),h=`plot-marker-${++k5}`;m.setAttribute("id",h),l.set(p,d=`url(#${h})`)}return d}}e&&t.attr("marker-start",u(e)),r&&t.attr("marker-mid",u(r)),n&&t.attr("marker-end",u(n))}function Td({inset:t,insetLeft:e,insetRight:r,...n}={}){return[e,r]=kx(t,e,r),{inset:t,insetLeft:e,insetRight:r,...n}}function _d({inset:t,insetTop:e,insetBottom:r,...n}={}){return[e,r]=kx(t,e,r),{inset:t,insetTop:e,insetBottom:r,...n}}function kx(t,e,r){return t===void 0&&e===void 0&&r===void 0?Wt?[1,0]:[.5,.5]:[e,r]}function Ex(t,{interval:e}){return t={...Jr(t)},t.interval=Sc(t.interval===void 0?e:t.interval),t}function Ix(t,e,r,n){let{[t]:o,[`${t}1`]:i,[`${t}2`]:a}=r,{value:f,interval:u}=Ex(o,r);if(f==null||u==null&&!n)return r;let c=Ar(o);if(u==null){let d,m={transform:h=>d||(d=vt(h,f)),label:c};return{...r,[t]:void 0,[`${t}1`]:i===void 0?m:i,[`${t}2`]:a===void 0?m:a}}let s,p;function l(d){return p!==void 0&&d===s?p:p=yt(vt(s=d,f),m=>u.floor(m))}return e({...r,[t]:void 0,[`${t}1`]:i===void 0?{transform:l,label:c}:i,[`${t}2`]:a===void 0?{transform:d=>l(d).map(m=>u.offset(m)),label:c}:a})}function Rx(t,e,r){let{[t]:n}=r,{value:o,interval:i}=Ex(n,r);return o==null||i==null?r:e({...r,[t]:{label:Ar(n),transform:a=>{let f=yt(vt(a,o),c=>i.floor(c)),u=f.map(c=>i.offset(c));return f.map(Ot(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function qc(t={}){return Ix("x",Td,t)}function zc(t={}){return Ix("y",_d,t)}function Nx(t={}){return Rx("x",Td,t)}function Dx(t={}){return Rx("y",_d,t)}var Px={ariaLabel:"rule",fill:null,stroke:"currentColor"},Yc=class extends At{constructor(e,r={}){let{x:n,y1:o,y2:i,inset:a=0,insetTop:f=a,insetBottom:u=a}=r;super(e,{x:{value:n,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Uo(r,"x"),Px),this.insetTop=st(f),this.insetBottom=st(u),Md(this,r)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y1:c,y2:s}=n,{width:p,height:l,marginTop:d,marginRight:m,marginLeft:h,marginBottom:g}=o,{insetTop:w,insetBottom:x}=this;return gt("svg:g",i).call(ie,this,o,i).call(Qt,this,{x:u&&a},Wt,0).call(M=>M.selectAll().data(e).enter().append("line").call(ae,this).attr("x1",u?y=>u[y]:(h+p-m)/2).attr("x2",u?y=>u[y]:(h+p-m)/2).attr("y1",c&&!ar(f)?y=>c[y]+w:d+w).attr("y2",s&&!ar(f)?f.bandwidth?y=>s[y]+f.bandwidth()-x:y=>s[y]-x:l-g-x).call(ge,this,n).call(Sd,this,n,i)).node()}},Bc=class extends At{constructor(e,r={}){let{x1:n,x2:o,y:i,inset:a=0,insetRight:f=a,insetLeft:u=a}=r;super(e,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},Uo(r,"y"),Px),this.insetRight=st(f),this.insetLeft=st(u),Md(this,r)}render(e,r,n,o,i){let{x:a,y:f}=r,{y:u,x1:c,x2:s}=n,{width:p,height:l,marginTop:d,marginRight:m,marginLeft:h,marginBottom:g}=o,{insetLeft:w,insetRight:x}=this;return gt("svg:g",i).call(ie,this,o,i).call(Qt,this,{y:u&&f},0,Wt).call(M=>M.selectAll().data(e).enter().append("line").call(ae,this).attr("x1",c&&!ar(a)?y=>c[y]+w:h+w).attr("x2",s&&!ar(a)?a.bandwidth?y=>s[y]+a.bandwidth()-x:y=>s[y]-x:p-m-x).attr("y1",u?y=>u[y]:(d+l-g)/2).attr("y2",u?y=>u[y]:(d+l-g)/2).call(ge,this,n).call(Sd,this,n,i)).node()}};function $a(t,e){let{x:r=bt,y:n,y1:o,y2:i,...a}=zc(e);return[o,i]=Fx(n,o,i),new Yc(t,{...a,x:r,y1:o,y2:i})}function ka(t,e){let{y:r=bt,x:n,x1:o,x2:i,...a}=qc(e);return[o,i]=Fx(n,o,i),new Bc(t,{...a,y:r,x1:o,x2:i})}function Fx(t,e,r){if(t==null){if(e===void 0){if(r!==void 0)return[0,r]}else if(r===void 0)return[0,e]}else{if(e===void 0)return r===void 0?[0,t]:[t,r];if(r===void 0)return[t,e]}return[e,r]}function Xo(t,...e){let r=e.length;for(let n=0,o=!0;n<r;++n)typeof e[n]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(n,2,t[n]+e[n]+t[n+1]),e.splice(n,1),--n,--r);return n=>{let o=t[0];for(let i=0;i<r;++i)o+=e[i](n)+t[i+1];return o}}var I5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Yx="\xAD",Ea=class extends At{constructor(e,r={}){let{x:n,y:o,text:i=_e(e)&&Tc(e)?bt:wa,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:p,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:h,fontVariant:g,fontWeight:w,rotate:x}=r,[M,y]=_t(x,0),[v,b]=P5(m);if(super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:Gg(M),optional:!0},text:{value:i,filter:xc,optional:!0}},r,I5),this.rotate=y,this.textAnchor=Ct(f,"middle"),this.lineAnchor=Kt(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=Ad(p),this.monospace=!!l,this.fontFamily=Rt(d),this.fontSize=b,this.fontStyle=Rt(h),this.fontVariant=Rt(g),this.fontWeight=Rt(w),this.frameAnchor=tn(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Ed(this),this.clipLine=Id(this)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,rotate:s,text:p,title:l,fontSize:d}=n,{rotate:m}=this,[h,g]=or(this,o);return gt("svg:g",i).call(ie,this,o,i).call(kd,this,p,o).call(Qt,this,{x:u&&a,y:c&&f}).call(w=>w.selectAll().data(e).enter().append("text").call(ae,this).call(R5,this,p,l).attr("transform",Xo`translate(${u?x=>u[x]:h},${c?x=>c[x]:g})${s?x=>` rotate(${s[x]})`:m?` rotate(${m})`:""}`).call(J,"font-size",d&&(x=>d[x])).call(ge,this,n)).node()}};function Ad(t){return t==null?null:Kt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function R5(t,e,r,n){if(!r)return;let{lineAnchor:o,lineHeight:i,textOverflow:a,splitLines:f,clipLine:u}=e;t.each(function(c){let s=f(nr(r[c])??"").map(u),p=s.length,l=o==="top"?.71:o==="bottom"?1-p:(164-p*100)/200;if(p>1){let d=0;for(let m=0;m<p;++m){if(++d,!s[m])continue;let h=this.ownerDocument.createElementNS(ze.svg,"tspan");h.setAttribute("x",0),m===d-1?h.setAttribute("y",`${(l+m)*i}em`):h.setAttribute("dy",`${d*i}em`),h.textContent=s[m],this.appendChild(h),d=0}}else l&&this.setAttribute("y",`${l*i}em`),this.textContent=s[0];if(a&&!n&&s[0]!==r[c]){let d=this.ownerDocument.createElementNS(ze.svg,"title");d.textContent=r[c],this.appendChild(d)}})}function $d(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Zr(e,r)),new Ea(t,{...n,x:e,y:r})}function Bx(t,{x:e=bt,...r}={}){return new Ea(t,Dx({...r,x:e}))}function Ux(t,{y:e=bt,...r}={}){return new Ea(t,Nx({...r,y:e}))}function kd(t,e,r){J(t,"text-anchor",e.textAnchor),J(t,"font-family",e.fontFamily),J(t,"font-size",e.fontSize),J(t,"font-style",e.fontStyle),J(t,"font-variant",e.fontVariant===void 0?N5(r):e.fontVariant),J(t,"font-weight",e.fontWeight)}function N5(t){return t&&(Zg(t)||Ot(t))?"tabular-nums":void 0}var D5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function P5(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),D5.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function F5(t,e,r){let n=[],o,i=0;for(let[a,f,u]of L5(t)){if(o===void 0&&(o=a),i>o&&r(t,o,f)>e&&(n.push(t.slice(o,i)+(t[i-1]===Yx?"-":"")),o=a),u){n.push(t.slice(o,f)),o=void 0;continue}i=f}return n}function*L5(t){let e=0,r=0,n=t.length;for(;r<n;){let o=1;switch(t[r]){case Yx:case"-":++r,yield[e,r,!1],e=r;break;case" ":for(yield[e,r,!1];t[++r]===" ";);e=r;break;case"\r":t[r+1]===`
`&&++o;case`
`:yield[e,r,!0],r+=o,e=r;break;default:++r;break}}yield[e,r,!0]}var Lx={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function Uc(t,e=0,r=t.length){let n=0;for(let o=e;o<r;o=Wo(t,o))n+=Lx[t[o]]??(Wx(t,o)?120:Lx.e);return n}function Xc(t,e=0,r=t.length){let n=0;for(let o=e;o<r;o=Wo(t,o))n+=Wx(t,o)?200:100;return n}function Ed({monospace:t,lineWidth:e,textOverflow:r}){if(r!=null||e==1/0)return i=>i.split(/\r\n?|\n/g);let n=t?Xc:Uc,o=e*100;return i=>F5(i,o,n)}function Id({monospace:t,lineWidth:e,textOverflow:r}){if(r==null||e==1/0)return i=>i;let n=t?Xc:Uc,o=e*100;switch(r){case"clip-start":return i=>qx(i,o,n,"");case"clip-end":return i=>Ox(i,o,n,"");case"ellipsis-start":return i=>qx(i,o,n,zn);case"ellipsis-middle":return i=>O5(i,o,n,zn);case"ellipsis-end":return i=>Ox(i,o,n,zn)}}var zn="\u2026";function Yn(t,e,r,n){let o=[],i=0;for(let a=0,f=0,u=t.length;a<u;a=f){f=Wo(t,a);let c=r(t,a,f);if(i+c>e){for(i+=n;i>e&&a>0;)f=a,a=o.pop(),i-=r(t,a,f);return[a,e-i]}i+=c,o.push(a)}return[-1,0]}function Ox(t,e,r,n){t=t.trim();let o=r(n),[i]=Yn(t,e,r,o);return i<0?t:t.slice(0,i).trimEnd()+n}function O5(t,e,r,n){t=t.trim();let o=r(t);if(o<=e)return t;let i=r(n)/2,[a,f]=Yn(t,e/2,r,i),[u]=Yn(t,o-e/2-f+i,r,-i);return u<0?n:t.slice(0,a).trimEnd()+n+t.slice(Wo(t,u)).trimStart()}function qx(t,e,r,n){t=t.trim();let o=r(t);if(o<=e)return t;let i=r(n),[a]=Yn(t,o-e+i,r,-i);return a<0?n:n+t.slice(Wo(t,a)).trimStart()}var Cd=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,zx=/\p{Extended_Pictographic}/uy;function Wo(t,e){return e+=q5(t,e)?2:1,Y5(t,e)&&(e=Cd.lastIndex),z5(t,e)?Wo(t,e+1):e}function Xx(t,e){return t.charCodeAt(e)<128}function q5(t,e){let r=t.charCodeAt(e);if(r>=55296&&r<56320){let n=t.charCodeAt(e+1);return n>=56320&&n<57344}return!1}function z5(t,e){return t.charCodeAt(e)===8205}function Y5(t,e){return Xx(t,e)?!1:(Cd.lastIndex=e,Cd.test(t))}function Wx(t,e){return Xx(t,e)?!1:(zx.lastIndex=e,zx.test(t))}var B5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Hx=3.5,U5=Hx*5,Gx={draw(t,e,r){let n=e*r/U5;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-n,n-e),t.lineTo(0,-e),t.lineTo(n,n-e)}},X5={draw(t,e,r){t.moveTo(-r,0),t.lineTo(0,-e),t.lineTo(r,0)}},W5=new Map([["arrow",Gx],["spike",X5]]);function H5(t){return t&&typeof t.draw=="function"}function G5(t){if(H5(t))return t;let e=W5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}var Wc=class extends At{constructor(e,r={}){let{x:n,y:o,r:i=Hx,length:a,rotate:f,shape:u=Gx,anchor:c="middle",frameAnchor:s}=r,[p,l]=_t(a,12),[d,m]=_t(f,0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:p,scale:"length",optional:!0},rotate:{value:d,optional:!0}},r,B5),this.r=+i,this.length=l,this.rotate=m,this.shape=G5(u),this.anchor=Kt(c,"anchor",["start","middle","end"]),this.frameAnchor=tn(s)}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,length:s,rotate:p}=n,{length:l,rotate:d,anchor:m,shape:h,r:g}=this,[w,x]=or(this,o);return gt("svg:g",i).call(ie,this,o,i).call(Qt,this,{x:u&&a,y:c&&f}).call(M=>M.selectAll().data(e).enter().append("path").call(ae,this).attr("transform",Xo`translate(${u?y=>u[y]:w},${c?y=>c[y]:x})${p?y=>` rotate(${p[y]})`:d?` rotate(${d})`:""}${m==="start"?"":m==="end"?s?y=>` translate(0,${s[y]})`:` translate(0,${l})`:s?y=>` translate(0,${s[y]/2})`:` translate(0,${l/2})`}`).attr("d",s?y=>{let v=Ne();return h.draw(v,s[y],g),v}:(()=>{let y=Ne();return h.draw(y,l,g),y})()).call(ge,this,n)).node()}};function Vx(t,e={}){let{x:r=bt,...n}=e;return new Wc(t,{...n,x:r})}function jx(t,e={}){let{y:r=bt,...n}=e;return new Wc(t,{...n,y:r})}function rn(t,e){return arguments.length<2&&!_e(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Hc({anchor:t}={},e){return t===void 0?e[0]:Kt(t,"anchor",e)}function Zx(t){return Hc(t,["left","right"])}function Kx(t){return Hc(t,["right","left"])}function Qx(t){return Hc(t,["bottom","top"])}function Jx(t){return Hc(t,["top","bottom"])}function Nd(){let[t,e]=rn(...arguments);return ry("y",Zx(e),t,e)}function ty(){let[t,e]=rn(...arguments);return ry("fy",Kx(e),t,e)}function Dd(){let[t,e]=rn(...arguments);return ny("x",Qx(e),t,e)}function ey(){let[t,e]=rn(...arguments);return ny("fx",Jx(e),t,e)}function ry(t,e,r,{color:n="currentColor",opacity:o=1,stroke:i=n,strokeOpacity:a=o,strokeWidth:f=1,fill:u=n,fillOpacity:c=o,textAnchor:s,textStroke:p,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=t==="y"?6:0,tickPadding:h,tickRotate:g,x:w,margin:x,marginTop:M=x===void 0?20:x,marginRight:y=x===void 0?e==="right"?40:0:x,marginBottom:v=x===void 0?20:x,marginLeft:b=x===void 0?e==="left"?40:0:x,label:S,labelAnchor:$,labelArrow:A,labelOffset:I,..._}){return m=st(m),h=st(h),g=st(g),$!==void 0&&($=Kt($,"labelAnchor",["center","top","bottom"])),A=hy(A),dd(m&&!qt(i)?V5(t,e,r,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:h,tickRotate:g,x:w,..._}):null,qt(u)?null:Z5(t,e,r,{fill:u,fillOpacity:c,stroke:p,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:g,x:w,marginTop:M,marginRight:y,marginBottom:v,marginLeft:b,..._}),!qt(u)&&S!==null?$d([],ly({fill:u,fillOpacity:c,..._},function(R,F,P,T,D){let j=T[t],{marginTop:G,marginRight:E,marginBottom:z,marginLeft:B}=t==="y"&&D.inset||D,L=$??(j.bandwidth?"center":"top"),V=I??(e==="right"?E:B)-3;return L==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=L,this.frameAnchor=`${L}-${e}`,this.rotate=0),this.dy=L==="top"?3-G:L==="bottom"?z-3:0,this.dx=e==="right"?V:-V,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[my(t,j,{anchor:e,label:S,labelAnchor:L,labelArrow:A})]}}}})):null)}function ny(t,e,r,{color:n="currentColor",opacity:o=1,stroke:i=n,strokeOpacity:a=o,strokeWidth:f=1,fill:u=n,fillOpacity:c=o,textAnchor:s,textStroke:p,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=t==="x"?6:0,tickPadding:h,tickRotate:g,y:w,margin:x,marginTop:M=x===void 0?e==="top"?30:0:x,marginRight:y=x===void 0?20:x,marginBottom:v=x===void 0?e==="bottom"?30:0:x,marginLeft:b=x===void 0?20:x,label:S,labelAnchor:$,labelArrow:A,labelOffset:I,..._}){return m=st(m),h=st(h),g=st(g),$!==void 0&&($=Kt($,"labelAnchor",["center","left","right"])),A=hy(A),dd(m&&!qt(i)?j5(t,e,r,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:h,tickRotate:g,y:w,..._}):null,qt(u)?null:K5(t,e,r,{fill:u,fillOpacity:c,stroke:p,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:g,y:w,marginTop:M,marginRight:y,marginBottom:v,marginLeft:b,..._}),!qt(u)&&S!==null?$d([],ly({fill:u,fillOpacity:c,..._},function(R,F,P,T,D){let j=T[t],{marginTop:G,marginRight:E,marginBottom:z,marginLeft:B}=t==="x"&&D.inset||D,L=$??(j.bandwidth?"center":"right"),V=I??(e==="top"?G:z)-3;return L==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${L}`,this.textAnchor=L==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-V:V,this.dx=L==="right"?E-3:L==="left"?3-B:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[my(t,j,{anchor:e,label:S,labelAnchor:L,labelArrow:A})]}}}})):null)}function V5(t,e,r,{strokeWidth:n=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:p=c,dx:l=0,y:d=t==="y"?void 0:null,...m}){return Ho(jx,t,e,`${t}-axis tick`,r,{strokeWidth:n,strokeLinecap:o,strokeLinejoin:i,facetAnchor:a,frameAnchor:f,y:d,...m,dx:e==="left"?+l-Wt+ +s:+l+Wt-p,anchor:"start",length:u,shape:e==="left"?e3:r3})}function j5(t,e,r,{strokeWidth:n=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:p=c,dy:l=0,x:d=t==="x"?void 0:null,...m}){return Ho(Vx,t,e,`${t}-axis tick`,r,{strokeWidth:n,strokeLinejoin:i,strokeLinecap:o,facetAnchor:a,frameAnchor:f,x:d,...m,dy:e==="bottom"?+l-Wt-p:+l+Wt+ +s,anchor:"start",length:u,shape:e==="bottom"?J5:t3})}function Z5(t,e,r,{facetAnchor:n=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>60?4*Math.cos(a*wd):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:p,inset:l=0,insetLeft:d=l,insetRight:m=l,dx:h=0,y:g=t==="y"?void 0:null,...w}){return Ho(Ux,t,e,`${t}-axis tick label`,r,{facetAnchor:n,frameAnchor:o,text:u,textAnchor:c,lineAnchor:s,fontVariant:p,rotate:a,y:g,...w,dx:e==="left"?+h-i-f+ +d:+h+ +i+ +f-m},function(x,M,y,v,b){p===void 0&&(this.fontVariant=dy(x)),u===void 0&&(b.text=py(x,M,y,v,e))})}function K5(t,e,r,{facetAnchor:n=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>=10?4*Math.cos(a*wd):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:p,inset:l=0,insetTop:d=l,insetBottom:m=l,dy:h=0,x:g=t==="x"?void 0:null,...w}){return Ho(Bx,t,e,`${t}-axis tick label`,r,{facetAnchor:n,frameAnchor:o,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:p,rotate:a,x:g,...w,dy:e==="bottom"?+h+ +i+ +f-m:+h-i-f+ +d},function(x,M,y,v,b){p===void 0&&(this.fontVariant=dy(x)),u===void 0&&(b.text=py(x,M,y,v,e))})}function oy(){let[t,e]=rn(...arguments);return uy("y",Zx(e),t,e)}function iy(){let[t,e]=rn(...arguments);return uy("fy",Kx(e),t,e)}function ay(){let[t,e]=rn(...arguments);return cy("x",Qx(e),t,e)}function fy(){let[t,e]=rn(...arguments);return cy("fx",Jx(e),t,e)}function uy(t,e,r,{y:n=t==="y"?void 0:null,x:o=null,x1:i=e==="left"?o:null,x2:a=e==="right"?o:null,...f}){return Ho(ka,t,e,`${t}-grid`,r,{y:n,x1:i,x2:a,...sy(f)})}function cy(t,e,r,{x:n=t==="x"?void 0:null,y:o=null,y1:i=e==="top"?o:null,y2:a=e==="bottom"?o:null,...f}){return Ho($a,t,e,`${t}-grid`,r,{x:n,y1:i,y2:a,...sy(f)})}function sy({color:t="currentColor",opacity:e=.1,stroke:r=t,strokeOpacity:n=e,strokeWidth:o=1,...i}){return{stroke:r,strokeOpacity:n,strokeWidth:o,...i}}function ly({fill:t,fillOpacity:e,fontFamily:r,fontSize:n,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},p){return[,t]=me(t),[,e]=_t(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:r,fontSize:n,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:p}}function Ho(t,e,r,n,o,i,a){let f;function u(p,l,d,m,h,g){let w=p==null&&(e==="fx"||e==="fy"),{[e]:x}=m;if(!x)throw new Error(`missing scale: ${e}`);let M=x.domain(),{interval:y,ticks:v,tickFormat:b,tickSpacing:S=e==="x"?80:35}=i;if(typeof v=="string"&&gy(x)&&(y=v,v=void 0),v===void 0&&(v=Qr(y,x.type)??Q5(x,S)),p==null){if(_e(v))p=Nt(v);else if(Hg(v))p=Rd(v,...fe(M));else if(x.interval){let A=x.interval;if(x.ticks){let[I,_]=fe(M),R=(_-I)/A[_o];A=_p(A,R/v)??A,p=Rd(A,I,_)}else{p=M;let I=p.length;A=_p(A,I/v)??A,A!==x.interval&&(p=Rd(A,...fe(p)))}if(A===x.interval){let I=Math.round(p.length/v);I>1&&(p=p.filter((_,R)=>R%I===0))}}else x.ticks?p=x.ticks(v):p=M;if(!x.ticks&&p.length&&p!==M){let A=new $e(M);p=p.filter(I=>A.has(I)),p.length||Ae(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?l=[oe(p)]:f[e]={scale:e,value:bt}}a?.call(this,x,p,v,b,f);let $=Object.fromEntries(Object.entries(f).map(([A,I])=>[A,{...I,value:vt(p,I.value)}]));return w&&(l=g.filterFacets(p,$)),{data:p,facets:l,channels:$}}let c=$r(i).initializer,s=t(o,$r({...i,initializer:u},c));return o==null?(f=s.channels,s.channels={}):f={},s.ariaLabel=n,s.clip===void 0&&(s.clip=!1),s}function Q5(t,e){let[r,n]=fe(t.range());return(n-r)/e}function py(t,e,r,n,o){return{value:Ia(t,e,r,n,o)}}function Ia(t,e,r,n,o){return typeof n=="function"?n:n===void 0&&e&&Ot(e)?Pg(e,o)??nr:t.tickFormat?t.tickFormat(typeof r=="number"?r:null,n):n===void 0?nr:typeof n=="string"?(Ot(t.domain())?er:we)(n):Gr(n)}function Rd(t,e,r){return t.range(e,t.offset(t.floor(r)))}var J5={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},t3={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},e3={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},r3={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function dy(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function n3(t){return Math.sign(Cr(t.domain()))*Math.sign(Cr(t.range()))}function my(t,e,{anchor:r,label:n=e.label,labelAnchor:o,labelArrow:i}={}){if(!(n==null||n.inferred&&gy(e)&&/^(date|time|year)$/i.test(n))){if(n=String(n),i==="auto"&&(i=(!e.bandwidth||e.interval)&&!/[]/.test(n)),!i)return n;if(i===!0){let a=n3(e);a&&(i=/x$/.test(t)||o==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(i){case"left":return`\u2190 ${n}`;case"right":return`${n} \u2192`;case"up":return r==="right"?`${n} \u2191`:`\u2191 ${n}`;case"down":return r==="right"?`${n} \u2193`:`\u2193 ${n}`}return n}}function hy(t="auto"){return qt(t)?!1:typeof t=="boolean"?t:Kt(t,"labelArrow",["auto","up","right","down","left"])}function gy(t){return Ot(t.domain())}function xy(t,e){if(e==null)return e;let r=t(e);if(!r)throw new Error(`scale not found: ${e}`);return r}function yy(t,{opacity:e,...r}={}){if(!ir(t)&&!fd(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return wy(t,r,(n,o,i,a)=>n.append("svg").attr("width",i).attr("height",a).attr("fill",o.scale).attr("fill-opacity",_t(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function by(t,{fill:e=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:r=1,stroke:n=t.hint?.stroke!==void 0?t.hint.stroke:qt(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:i=1.5,r:a=4.5,...f}={},u){let[c,s]=me(e),[p,l]=me(n),d=xy(u,c),m=xy(u,p),h=a*a*Math.PI;return r=_t(r)[1],o=_t(o)[1],i=_t(i)[1],wy(t,f,(g,w,x,M)=>g.append("svg").attr("viewBox","-8 -8 16 16").attr("width",x).attr("height",M).attr("fill",c==="color"?y=>d.scale(y):s).attr("fill-opacity",r).attr("stroke",p==="color"?y=>m.scale(y):l).attr("stroke-opacity",o).attr("stroke-width",i).append("path").attr("d",y=>{let v=Ne();return t.scale(y).draw(v,h),v}))}function wy(t,e={},r){let{columns:n,tickFormat:o,fontVariant:i=Oc(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:p,width:l}=e,d=Lo(e);s=Po(s),o=Ia(t.scale,t.domain,void 0,o);let m=gt("div",d).attr("class",`${s}-swatches ${s}-swatches-${n!=null?"columns":"wrap"}`),h;return n!=null?(h=`.${s}-swatches-columns .${s}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${s}-swatches-columns .${s}-swatch::before {
  flex-shrink: 0;
}
.${s}-swatches-columns .${s}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",n).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(r,t,f,u).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",o).text(o))):(h=`.${s}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${s}-swatches-wrap .${s}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(r,t,f,u).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),m.call(g=>g.insert("style","*").text(`.${s}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${s}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${h}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Ct(i,"normal")).call(Fo,p).node()}var Pd=new Map([["symbol",by],["color",Sy],["opacity",o3]]);function vy(t,e,r={}){return(n,o)=>{if(!Pd.has(n))throw new Error(`unknown legend type: ${n}`);if(n in t)return Pd.get(n)(t[n],My(e,r[n],o),i=>t[i])}}function My({className:t,...e},{label:r,ticks:n,tickFormat:o}={},i){return Jg(i,{className:t,...e},{label:r,ticks:n,tickFormat:o})}function Sy(t,{legend:e=!0,...r}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return yy(t,r);case"ramp":return Cx(t,r);default:throw new Error(`unknown legend type: ${e}`)}}function o3({type:t,interpolate:e,...r},{legend:n=!0,color:o=ye(0,0,0),...i}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return Sy({type:t,...r,interpolate:i3(o)},{legend:n,...i})}function i3(t){let{r:e,g:r,b:n}=ye(t)||ye(0,0,0);return o=>`rgba(${e},${r},${n},${o})`}function Ty(t,e,r){let n=[];for(let[o,i]of Pd){let a=r[o];if(a?.legend&&o in t){let f=i(t[o],My(e,t[o],a),u=>t[u]);f!=null&&n.push(f)}}return n}var a3={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},f3={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},Fd=class extends At{constructor(e={}){let{anchor:r=null,inset:n=0,insetTop:o=n,insetRight:i=n,insetBottom:a=n,insetLeft:f=n,rx:u,ry:c}=e;super(Co,void 0,e,r==null?a3:f3),this.anchor=kp(r,"anchor",["top","right","bottom","left"]),this.insetTop=st(o),this.insetRight=st(i),this.insetBottom=st(a),this.insetLeft=st(f),this.rx=st(u),this.ry=st(c)}render(e,r,n,o,i){let{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:p}=o,{anchor:l,insetTop:d,insetRight:m,insetBottom:h,insetLeft:g,rx:w,ry:x}=this,M=c+g,y=s-f-m,v=a+d,b=p-u-h;return gt(l?"svg:line":"svg:rect",i).datum(0).call(ie,this,o,i).call(ae,this).call(ge,this,n).call(Qt,this,{}).call(l==="left"?S=>S.attr("x1",M).attr("x2",M).attr("y1",v).attr("y2",b):l==="right"?S=>S.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",b):l==="top"?S=>S.attr("x1",M).attr("x2",y).attr("y1",v).attr("y2",v):l==="bottom"?S=>S.attr("x1",M).attr("x2",y).attr("y1",b).attr("y2",b):S=>S.attr("x",M).attr("y",v).attr("width",y-M).attr("height",b-v).attr("rx",w).attr("ry",x)).node()}};function _y(t){return new Fd(t)}var Ld={ariaLabel:"tip",fill:"white",stroke:"currentColor"},u3=new Set(["geometry","href","src","ariaLabel","scales"]),Gc=class extends At{constructor(e,r={}){r.tip&&(r={...r,tip:!1}),r.title===void 0&&_e(e)&&Tc(e)&&(r={...r,title:bt});let{x:n,y:o,x1:i,x2:a,y1:f,y2:u,anchor:c,monospace:s,fontFamily:p=s?"ui-monospace, monospace":void 0,fontSize:l,fontStyle:d,fontVariant:m,fontWeight:h,lineHeight:g=1,lineWidth:w=20,frameAnchor:x,format:M,textAnchor:y="start",textOverflow:v,textPadding:b=8,title:S,pointerSize:$=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=r;super(e,{x:{value:i!=null&&a!=null?null:n,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:o,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:i==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},r,Ld),this.anchor=Lp(c,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=tn(x),this.textAnchor=Ct(y,"middle"),this.textPadding=+b,this.pointerSize=+$,this.pathFilter=Rt(A),this.lineHeight=+g,this.lineWidth=+w,this.textOverflow=Ad(v),this.monospace=!!s,this.fontFamily=Rt(p),this.fontSize=st(l),this.fontStyle=Rt(d),this.fontVariant=Rt(m),this.fontWeight=Rt(h);for(let I in Ld)I in this.channels&&(this[I]=Ld[I]);this.splitLines=Ed(this),this.clipLine=Id(this),this.format={...M}}render(e,r,n,o,i){let a=this,{x:f,y:u,fx:c,fy:s}=r,{ownerSVGElement:p,document:l}=i,{anchor:d,monospace:m,lineHeight:h,lineWidth:g}=this,{textPadding:w,pointerSize:x,pathFilter:M}=this,{marginTop:y,marginLeft:v}=o,{x1:b,y1:S,x2:$,y2:A,x:I=b??$,y:_=S??A}=n,R=c?c(e.fx)-v:0,F=s?s(e.fy)-y:0,[P,T]=or(this,o),D=yd(n,P),j=bd(n,T),G=m?Xc:Uc,E=G(zn),z,B;"title"in n?(z=n.channels,B=d3):(z=p3.call(this,n,r),B=m3);let L=gt("svg:g",i).call(ie,this,o,i).call(kd,this).call(Qt,this,{x:I&&f,y:_&&u}).call(tt=>tt.selectAll().data(e).enter().append("g").attr("transform",et=>`translate(${Math.round(D(et))},${Math.round(j(et))})`).call(ae,this).call(et=>et.append("path").attr("filter",M)).call(et=>et.append("text").each(function(O){let rt=mr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let k=B.call(a,O,e,z,r,n);if(typeof k=="string")for(let q of a.splitLines(k))V(rt,{value:a.clipLine(q)});else{let q=new Set;for(let Y of k){let{label:C=""}=Y;C&&q.has(C)||(q.add(C),V(rt,Y))}}})));function V(tt,{label:et,value:O,color:rt,opacity:k}){et??="",O??="";let q=rt!=null||k!=null,Y,C=g*100,[ft]=Yn(et,C,G,E);if(ft>=0)et=et.slice(0,ft).trimEnd()+zn,Y=O.trim(),O="";else{(et||!O&&!q)&&(O=" "+O);let[pt]=Yn(O,C-G(et),G,E);pt>=0&&(O=O.slice(0,pt).trimEnd()+zn,Y=O.trim())}let K=tt.append("tspan").attr("x",0).attr("dy",`${h}em`).text("\u200B");et&&K.append("tspan").attr("font-weight","bold").text(et),O&&K.append(()=>l.createTextNode(O)),q&&K.append("tspan").text(" \u25A0").attr("fill",rt).attr("fill-opacity",k).style("user-select","none"),Y&&K.append("title").text(Y)}function nt(){let{width:tt,height:et}=o.facet??o;L.selectChildren().each(function(O){let{x:rt,width:k,height:q}=this.getBBox();k=Math.round(k),q=Math.round(q);let Y=d;if(Y===void 0){Y=a.previousAnchor;let K=D(O)+R,pt=j(O)+F,dt=K+k+w*2<tt,Jt=K-k-w*2>0,jo=pt+q+x+w*2+7<et,Xd=pt-q-x-w*2>0,jy=(/-left$/.test(Y)?dt||!Jt:dt&&!Jt)?"left":"right",Zy=(/^top-/.test(Y)?jo||!Xd:jo&&!Xd)?"top":"bottom";Y=a.previousAnchor=`${Zy}-${jy}`}let C=this.firstChild,ft=this.lastChild;if(C.setAttribute("d",l3(Y,x,w,k,q)),rt)for(let K of ft.childNodes)K.setAttribute("x",-rt);ft.setAttribute("y",`${+c3(Y,ft.childNodes.length,h).toFixed(6)}em`),ft.setAttribute("transform",`translate(${s3(Y,x,w,k,q)})`)}),L.attr("visibility",null)}return e.length&&(L.attr("visibility","hidden"),p.isConnected?Promise.resolve().then(nt):typeof requestAnimationFrame<"u"&&requestAnimationFrame(nt)),L.node()}};function Go(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Zr(e,r)),new Gc(t,{...n,x:e,y:r})}function c3(t,e,r){return/^top(?:-|$)/.test(t)?.94-r:-.29-e*r}function s3(t,e,r,n,o){switch(t){case"middle":return[-n/2,o/2];case"top-left":return[r,e+r];case"top":return[-n/2,e/2+r];case"top-right":return[-n-r,e+r];case"right":return[-e/2-n-r,o/2];case"bottom-left":return[r,-e-r];case"bottom":return[-n/2,-e/2-r];case"bottom-right":return[-n-r,-e-r];case"left":return[r+e/2,o/2]}}function l3(t,e,r,n,o){let i=n+r*2,a=o+r*2;switch(t){case"middle":return`M${-i/2},${-a/2}h${i}v${a}h${-i}z`;case"top-left":return`M0,0l${e},${e}h${i-e}v${a}h${-i}z`;case"top":return`M0,0l${e/2},${e/2}h${(i-e)/2}v${a}h${-i}v${-a}h${(i-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-i}v${a}h${i}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-i}v${a}h${i}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${i-e}v${-a}h${-i}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(i-e)/2}v${-a}h${-i}v${a}h${(i-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-i}v${-a}h${i}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${i}v${a}h${-i}v${e/2-a/2}z`}}function p3({channels:t},e){let r={},n=this.format;n=Cy(n,t,"x"),n=Cy(n,t,"y"),this.format=n;for(let o in n){let i=n[o];if(!(i===null||i===!1))if(o==="fx"||o==="fy")r[o]=!0;else{let a=jp(t,o);a&&(r[o]=a)}}for(let o in t){if(o in r||o in n||u3.has(o))continue;let i=jp(t,o);i&&(r[o]=i)}this.facet&&(e.fx&&!("fx"in n)&&(r.fx=!0),e.fy&&!("fy"in n)&&(r.fy=!0));for(let o in r){let i=this.format[o];if(typeof i=="string"){let a=r[o]?.value??e[o]?.domain()??[];this.format[o]=(Ot(a)?er:we)(i)}else if(i===void 0||i===!0){let a=e[o];this.format[o]=a?.bandwidth?Ia(a,a.domain()):nr}}return r}function Cy(t,e,r){if(!(r in t))return t;let n=`${r}1`,o=`${r}2`;if((n in t||!(n in e))&&(o in t||!(o in e)))return t;let i=Object.entries(t),a=t[r];return i.splice(i.findIndex(([f])=>f===r)+1,0,[n,a],[o,a]),Object.fromEntries(i)}function d3(t,e,{title:r}){return nr(r.value[t],t)}function*m3(t,e,r,n,o){for(let i in r){if(i==="fx"||i==="fy"){yield{label:Vc(n,r,i),value:this.format[i](e[i],t)};continue}if(i==="x1"&&"x2"in r||i==="y1"&&"y2"in r)continue;let a=r[i];if(i==="x2"&&"x1"in r)yield{label:$y(n,r,"x"),value:Ay(this.format.x2,r.x1,a,t)};else if(i==="y2"&&"y1"in r)yield{label:$y(n,r,"y"),value:Ay(this.format.y2,r.y1,a,t)};else{let f=a.value[t],u=a.scale;if(!Fe(f)&&u==null)continue;yield{label:Vc(n,r,i),value:this.format[i](f,t),color:u==="color"?o[i][t]:null,opacity:u==="opacity"?o[i][t]:null}}}}function Ay(t,e,r,n){return r.hint?.length?`${t(r.value[n]-e.value[n],n)}`:`${t(e.value[n],n)}\u2013${t(r.value[n],n)}`}function $y(t,e,r){let n=Vc(t,e,`${r}1`,r),o=Vc(t,e,`${r}2`,r);return n===o?n:`${n}\u2013${o}`}function Vc(t,e,r,n=r){let o=e[r],i=t[o?.scale??r];return String(i?.label??o?.label??n)}function Vo(t={}){let{facet:e,style:r,title:n,subtitle:o,caption:i,ariaLabel:a,ariaDescription:f}=t,u=Po(t.className),c=t.marks===void 0?[]:Ey(t.marks);c.push(...v3(c));let s=b3(e,t),p=new Map;for(let E of c){let z=Iy(E,s,t);z&&p.set(E,z)}let l=new Map;s&&Ra(l,[s],t),Ra(l,p,t);let d=Ey(M3(c,l,t));for(let E of d){let z=Iy(E,s,t);z&&p.set(E,z)}c.unshift(...d);let m=wx(l,t);if(m!==void 0){let E=s?Lc(m,s):void 0;for(let B of c){if(B.facet===null||B.facet==="super")continue;let L=p.get(B);L!==void 0&&(L.facetsIndex=B.fx!=null||B.fy!=null?Lc(m,L):E)}let z=new Set;for(let{facetsIndex:B}of p.values())B?.forEach((L,V)=>{L?.length>0&&z.add(V)});m.forEach(0<z.size&&z.size<m.length?(B,L)=>B.empty=!z.has(L):B=>B.empty=!1);for(let B of c)if(B.facet==="exclude"){let L=p.get(B);L!==void 0&&(L.facetsIndex=Sx(L.facetsIndex))}}for(let E of lt.keys())Ao(t[E])&&E!=="fx"&&E!=="fy"&&l.set(E,[]);let h=new Map;for(let E of c){if(h.has(E))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:z,channels:B}=p.get(E)??{},{data:L,facets:V,channels:nt}=E.initialize(z,B,t);zd(nt,t),h.set(E,{data:L,facets:V,channels:nt})}let g=Ca(Ra(l,h,t),t),w=yx(g,c,t);dx(g,w);let x=id(g),{fx:M,fy:y}=x,v=M||y?ad(g,w):w,b=M||y?k3(x,w):w,S=Lo(t),$=S.document,A=pr("svg").call($.documentElement),I=A;S.ownerSVGElement=A,S.className=u,S.projection=C1(t,v),S.filterFacets=(E,z)=>Lc(m,{channels:z,groups:Pc(E,z)}),S.getMarkState=E=>{let z=h.get(E),B=p.get(E);return{...z,channels:{...z.channels,...B?.channels}}},S.dispatchValue=E=>{I.value!==E&&(I.value=E,I.dispatchEvent(new Event("input",{bubbles:!0})))};let _=new Set;for(let[E,z]of h)if(E.initializer!=null){let B=E.facet==="super"?b:v,L=E.initializer(z.data,z.facets,z.channels,x,B,S);if(L.data!==void 0&&(z.data=L.data),L.facets!==void 0&&(z.facets=L.facets),L.channels!==void 0){let{fx:V,fy:nt,...tt}=L.channels;y3(tt),Object.assign(z.channels,tt);for(let et of Object.values(tt)){let{scale:O}=et;O!=null&&!e1(lt.get(O))&&(Dy(et,t),_.add(O))}(V!=null||nt!=null)&&p.set(E,!0)}}if(_.size){let E=new Map;Ra(E,h,t,V=>_.has(V)),Ra(l,h,t,V=>_.has(V));let z=$3(Ca(E,t),g),{scales:B,...L}=id(z);Object.assign(g,z),Object.assign(x,L),Object.assign(x.scales,B)}let R,F;m!==void 0&&(R={x:M?.domain(),y:y?.domain()},m=vx(m,R),F=Mx(M,y,w));for(let[E,z]of h)z.values=E.scale(z.channels,x,S);let{width:P,height:T}=w;mr(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",T).attr("viewBox",`0 0 ${P} ${T}`).attr("aria-label",a).attr("aria-description",f).call(E=>E.append("style").text(`.${u} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${u} text,
.${u} tspan {
  white-space: pre;
}`)).call(Fo,r);for(let E of c){let{channels:z,values:B,facets:L}=h.get(E);if(m===void 0||E.facet==="super"){let V=null;if(L&&(V=L[0],V=E.filter(V,z,B),V.length===0))continue;let nt=E.render(V,x,B,b,S);if(nt==null)continue;A.appendChild(nt)}else{let V;for(let nt of m){if(!(E.facetAnchor?.(m,R,nt)??!nt.empty))continue;let tt=null;if(L){let O=p.has(E);if(tt=L[O?nt.i:0],tt=E.filter(tt,z,B),tt.length===0)continue;!O&&tt===L[0]&&(tt=Ug(tt)),tt.fx=nt.x,tt.fy=nt.y,tt.fi=nt.i}let et=E.render(tt,x,B,v,S);if(et!=null){(V??=mr(A).append("g")).append(()=>et).datum(nt);for(let O of["aria-label","aria-description","aria-hidden","transform"])et.hasAttribute(O)&&(V.attr(O,et.getAttribute(O)),et.removeAttribute(O))}}V?.selectChildren().attr("transform",F)}}let D=Ty(g,S,t),{figure:j=n!=null||o!=null||i!=null||D.length>0}=t;j&&(I=$.createElement("figure"),I.className=`${u}-figure`,I.style.maxWidth="initial",n!=null&&I.append(ky($,n,"h2")),o!=null&&I.append(ky($,o,"h3")),I.append(...D,A),i!=null&&I.append(h3($,i))),I.scale=gx(x.scales),I.legend=vy(g,S,t);let G=v1();return G>0&&mr(A).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${G.toLocaleString("en-US")} warning${G===1?"":"s"}. Please check the console.`),I}function ky(t,e,r){if(e.ownerDocument)return e;let n=t.createElement(r);return n.append(e),n}function h3(t,e){let r=t.createElement("figcaption");return r.append(e),r}function g3({marks:t=[],...e}={}){return Vo({...e,marks:[...t,this]})}At.prototype.plot=g3;function Ey(t){return t.flat(1/0).filter(e=>e!=null).map(x3)}function x3(t){return typeof t.render=="function"?t:new qd(t)}var qd=class extends At{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}};function zd(t,e){for(let r in t)Dy(t[r],e);return t}function Dy(t,e){let{scale:r,transform:n=!0}=t;if(r==null||!n)return;let{type:o,percent:i,interval:a,transform:f=i?u=>u*100:Pp(a,o)}=e[r]??{};f!=null&&(t.value=yt(t.value,f),t.transform=!1)}function y3(t){for(let e in t)Vp(e,t[e])}function Ra(t,e,r,n=qg){for(let{channels:o}of e.values())for(let i in o){let a=o[i],{scale:f}=a;if(f!=null&&n(f))if(f==="projection"){if(!E1(r)){let u=r.x?.domain===void 0,c=r.y?.domain===void 0;if(u||c){let[s,p]=R1(a);u&&Od(t,"x",s),c&&Od(t,"y",p)}}}else Od(t,f,a)}return t}function Od(t,e,r){let n=t.get(e);n!==void 0?n.push(r):t.set(e,[r])}function b3(t,e){if(t==null)return;let{x:r,y:n}=t;if(r==null&&n==null)return;let o=Nt(t.data);if(o==null)throw new Error("missing facet data");let i={};r!=null&&(i.fx=Do(o,{value:r,scale:"fx"})),n!=null&&(i.fy=Do(o,{value:n,scale:"fy"})),zd(i,e);let a=Pc(o,i);return{channels:i,groups:a,data:t.data}}function Iy(t,e,r){if(t.facet===null||t.facet==="super")return;let{fx:n,fy:o}=t;if(n!=null||o!=null){let u=Nt(t.data??n??o);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;let c={};return n!=null&&(c.fx=Do(u,{value:n,scale:"fx"})),o!=null&&(c.fy=Do(u,{value:o,scale:"fy"})),zd(c,r),{channels:c,groups:Pc(u,c)}}if(e===void 0)return;let{channels:i,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:i,groups:a};f.length>0&&(a.size>1||a.size===1&&i.fx&&i.fy&&[...a][0][1].size>1)&&Nt(t.data)?.length===f.length&&Ae(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function w3(t,e={}){return $r({...e,x:null,y:null},(r,n,o,i,a,f)=>f.getMarkState(t))}function v3(t){let e=[];for(let r of t){let n=r.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:o}=n;o=/^x$/i.test(o)?gd:/^y$/i.test(o)?xd:Aa,n=o(w3(r,n)),n.title=null;let i=Go(r.data,n);i.facet=r.facet,i.facetAnchor=r.facetAnchor,e.push(i)}}return e}function M3(t,e,r){let{projection:n,x:o={},y:i={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:p=u,grid:l}=s,x:{axis:d=u,grid:m=d===null?null:c}=o,y:{axis:h=u,grid:g=h===null?null:c}=i,fx:{axis:w=p,grid:x=w===null?null:l}=a,fy:{axis:M=p,grid:y=M===null?null:l}=f}=r;(n||!Ao(o)&&!Ry("x",t))&&(d=m=null),(n||!Ao(i)&&!Ry("y",t))&&(h=g=null),e.has("fx")||(w=x=null),e.has("fy")||(M=y=null),d===void 0&&(d=!Kc(t,"x")),h===void 0&&(h=!Kc(t,"y")),w===void 0&&(w=!Kc(t,"fx")),M===void 0&&(M=!Kc(t,"fy")),d===!0&&(d="bottom"),h===!0&&(h="left"),w===!0&&(w=d==="top"||d===null?"bottom":"top"),M===!0&&(M=h==="right"||h===null?"left":"right");let v=[];return Zc(v,y,iy,f),jc(v,M,ty,"right","left",s,f),Zc(v,x,fy,a),jc(v,w,ey,"top","bottom",s,a),Zc(v,g,oy,i),jc(v,h,Nd,"left","right",r,i),Zc(v,m,ay,o),jc(v,d,Dd,"bottom","top",r,o),v}function jc(t,e,r,n,o,i,a){if(!e)return;let f=S3(e);a=T3(f?n:e,i,a);let{line:u}=a;(r===Nd||r===Dd)&&u&&!Pn(u)&&t.push(_y(_3(a))),t.push(r(a)),f&&t.push(r({...a,anchor:o,label:null}))}function Zc(t,e,r,n){!e||Pn(e)||t.push(r(C3(e,n)))}function S3(t){return/^\s*both\s*$/i.test(t)}function T3(t,e,{line:r=e.line,ticks:n,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:p,label:l=e.label,labelAnchor:d,labelArrow:m=e.labelArrow,labelOffset:h}){return{anchor:t,line:r,ticks:n,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:p,label:l,labelAnchor:d,labelArrow:m,labelOffset:h}}function _3(t){let{anchor:e,line:r}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:r===!0?void 0:r}}function C3(t,{stroke:e=Io(t)?t:void 0,ticks:r=A3(t)?t:void 0,tickSpacing:n,ariaLabel:o,ariaDescription:i}){return{stroke:e,ticks:r,tickSpacing:n,ariaLabel:o,ariaDescription:i}}function A3(t){switch(typeof t){case"number":return!0;case"string":return!Io(t)}return _e(t)||typeof t?.range=="function"}function Kc(t,e){let r=`${e}-axis `;return t.some(n=>n.ariaLabel?.startsWith(r))}function Ry(t,e){for(let r of e)for(let n in r.channels){let{scale:o}=r.channels[n];if(o===t||o==="projection")return!0}return!1}function $3(t,e){for(let r in t){let n=t[r],o=e[r];n.label===void 0&&o&&(n.label=o.label)}return t}function k3({fx:t,fy:e},r){let{marginTop:n,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Nc(r),c=t&&Ny(t),s=e&&Ny(e);return{marginTop:e?s[0]:n,marginRight:t?f-c[1]:o,marginBottom:e?u-s[1]:i,marginLeft:t?c[0]:a,inset:{marginTop:r.marginTop,marginRight:r.marginRight,marginBottom:r.marginBottom,marginLeft:r.marginLeft},width:f,height:u}}function Ny(t){let e=t.domain(),r=t(e[0]),n=t(e[e.length-1]);return n<r&&([r,n]=[n,r]),[r,n+t.bandwidth()]}function Py(t={}){return Ep(t)?t:{...t,x:bt}}function Fy(t={}){return Ip(t)?t:{...t,y:bt}}function Ly(t,e){if(e.length===1)return{data:t,facets:e};let r=t.length,n=new Uint8Array(r),o=0;for(let f of e)for(let u of f)n[u]&&++o,n[u]=1;if(o===0)return{data:t,facets:e};t=Vr(t);let i=t[Cp]=new Uint32Array(r+o);e=e.map(f=>Vr(f,Uint32Array));let a=r;n.fill(0);for(let f of e)for(let u=0,c=f.length;u<c;++u){let s=f[u];n[s]?(f[u]=a,t[a]=t[s],i[a]=s,++a):i[s]=s,n[s]=1}return{data:t,facets:e}}function E3(t={},e={}){arguments.length===1&&([t,e]=By(t));let{y1:r,y:n=r,x:o,...i}=e,[a,f,u,c]=Uy(n,o,"y","x",t,i);return{...a,y1:r,y:f,x1:u,x2:c,x:Dp(u,c)}}function I3(t={},e={}){arguments.length===1&&([t,e]=By(t));let{x1:r,x:n=r,y:o,...i}=e,[a,f,u,c]=Uy(n,o,"x","y",t,i);return{...a,x1:r,x:f,y1:u,y2:c,y:Dp(u,c)}}function zy({x:t,x1:e,x2:r,...n}={}){return n=Uo(n,"y"),e===void 0&&r===void 0?E3({x:t,...n}):([e,r]=Np(t,e,r),{...n,x1:e,x2:r})}function Yy({y:t,y1:e,y2:r,...n}={}){return n=Uo(n,"x"),e===void 0&&r===void 0?I3({y:t,...n}):([e,r]=Np(t,e,r),{...n,y1:e,y2:r})}function By(t){let{offset:e,order:r,reverse:n,...o}=t;return[{offset:e,order:r,reverse:n},o]}var R3={length:!0};function Uy(t,e=Og,r,n,{offset:o,order:i,reverse:a},f){if(e===null)throw new Error(`stack requires ${n}`);let u=Bg(f),[c,s]=Kr(t),[p,l]=Eo(e),[d,m]=Eo(e);return p.hint=d.hint=R3,o=N3(o),i=F3(i,o,n),[qn(f,(h,g,w)=>{({data:h,facets:g}=Ly(h,g));let x=t==null?void 0:s(Ma(vt(h,t),w?.[r])),M=vt(h,e,Float64Array),y=vt(h,u),v=i&&i(h,x,M,y),b=h.length,S=l(new Float64Array(b)),$=m(new Float64Array(b)),A=[];for(let I of g){let _=x?Array.from(ur(I,R=>x[R]).values()):[I];if(v)for(let R of _)R.sort(v);for(let R of _){let F=0,P=0;a&&R.reverse();for(let T of R){let D=M[T];D<0?F=$[T]=(S[T]=F)+D:D>0?P=$[T]=(S[T]=P)+D:$[T]=S[T]=P}}A.push(_)}return o&&o(A,S,$,y),{data:h,facets:g}}),c,p,d]}function N3(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return D3;case"center":case"silhouette":return P3;case"wiggle":return Wy}throw new Error(`unknown offset: ${t}`)}}function Xy(t,e){let r=0,n=0;for(let o of t){let i=e[o];i<r&&(r=i),i>n&&(n=i)}return[r,n]}function D3(t,e,r){for(let n of t)for(let o of n){let[i,a]=Xy(o,r);for(let f of o){let u=1/(a-i||1);e[f]=u*(e[f]-i),r[f]=u*(r[f]-i)}}}function P3(t,e,r){for(let n of t){for(let o of n){let[i,a]=Xy(o,r);for(let f of o){let u=(a+i)/2;e[f]-=u,r[f]-=u}}Hy(n,e,r)}Gy(t,e,r)}function Wy(t,e,r,n){for(let o of t){let i=new te,a=0;for(let f of o){let u=-1,c=f.map(d=>Math.abs(r[d]-e[d])),s=f.map(d=>{u=n?n[d]:++u;let m=r[d]-e[d],h=i.has(u)?m-i.get(u):0;return i.set(u,m),h}),p=[0,...Da(s)];for(let d of f)e[d]+=a,r[d]+=a;let l=le(c);l&&(a-=le(c,(d,m)=>(s[m]/2+p[m])*d)/l)}Hy(o,e,r)}Gy(t,e,r)}function Hy(t,e,r){let n=ee(t,o=>ee(o,i=>e[i]));for(let o of t)for(let i of o)e[i]-=n,r[i]-=n}function Gy(t,e,r){let n=t.length;if(n===1)return;let o=t.map(f=>f.flat()),i=o.map(f=>(ee(f,u=>e[u])+Dt(f,u=>r[u]))/2),a=ee(i);for(let f=0;f<n;f++){let u=a-i[f];for(let c of o[f])e[c]+=u,r[c]+=u}}function F3(t,e,r){if(t===void 0&&e===Wy)return Oy(Zt);if(t!=null){if(typeof t=="string"){let n=t.startsWith("-"),o=n?En:Zt;switch((n?t.slice(1):t).toLowerCase()){case"value":case r:return L3(o);case"z":return O3(o);case"sum":return q3(o);case"appearance":return z3(o);case"inside-out":return Oy(o)}return qy(Ap(t))}if(typeof t=="function")return(t.length===1?qy:Y3)(t);if(Array.isArray(t))return B3(t);throw new Error(`invalid order: ${t}`)}}function L3(t){return(e,r,n)=>(o,i)=>t(n[o],n[i])}function O3(t){return(e,r,n,o)=>(i,a)=>t(o[i],o[a])}function q3(t){return Qc(t,(e,r,n,o)=>Un(oe(e),i=>le(i,a=>n[a]),i=>o[i]))}function z3(t){return Qc(t,(e,r,n,o)=>Un(oe(e),i=>r[ei(i,a=>n[a])],i=>o[i]))}function Oy(t){return Qc(t,(e,r,n,o)=>{let i=oe(e),a=Un(i,p=>r[ei(p,l=>n[l])],p=>o[p]),f=ke(i,p=>le(p,l=>n[l]),p=>o[p]),u=[],c=[],s=0;for(let p of a)s<0?(s+=f.get(p),u.push(p)):(s-=f.get(p),c.push(p));return c.reverse().concat(u)})}function qy(t){return e=>{let r=vt(e,t);return(n,o)=>Zt(r[n],r[o])}}function Y3(t){return e=>(r,n)=>t(e[r],e[n])}function B3(t){return Qc(Zt,()=>t)}function Qc(t,e){return(r,n,o,i)=>{if(!i)throw new Error("missing channel: z");let a=new te(e(r,n,o,i).map((f,u)=>[f,u]));return(f,u)=>t(a.get(i[f]),a.get(i[u]))}}var Jc=class extends At{constructor(e,r,n={},o){super(e,r,n,o);let{inset:i=0,insetTop:a=i,insetRight:f=i,insetBottom:u=i,insetLeft:c=i,rx:s,ry:p}=n;this.insetTop=st(a),this.insetRight=st(f),this.insetBottom=st(u),this.insetLeft=st(c),this.rx=Ct(s,"auto"),this.ry=Ct(p,"auto")}render(e,r,n,o,i){let{rx:a,ry:f}=this;return gt("svg:g",i).call(ie,this,o,i).call(this._transform,this,r).call(u=>u.selectAll().data(e).enter().append("rect").call(ae,this).attr("x",this._x(r,n,o)).attr("width",this._width(r,n,o)).attr("y",this._y(r,n,o)).attr("height",this._height(r,n,o)).call(J,"rx",a).call(J,"ry",f).call(ge,this,n)).node()}_x(e,{x:r},{marginLeft:n}){let{insetLeft:o}=this;return r?i=>r[i]+o:n+o}_y(e,{y:r},{marginTop:n}){let{insetTop:o}=this;return r?i=>r[i]+o:n+o}_width({x:e},{x:r},{marginRight:n,marginLeft:o,width:i}){let{insetLeft:a,insetRight:f}=this,u=r&&e?e.bandwidth():i-n-o;return Math.max(0,u-a-f)}_height({y:e},{y:r},{marginTop:n,marginBottom:o,height:i}){let{insetTop:a,insetBottom:f}=this,u=r&&e?e.bandwidth():i-n-o;return Math.max(0,u-a-f)}},Vy={ariaLabel:"bar"},ts=class extends Jc{constructor(e,r={}){let{x1:n,x2:o,y:i}=r;super(e,{x1:{value:n,scale:"x"},x2:{value:o,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},r,Vy)}_transform(e,r,{x:n}){e.call(Qt,r,{x:n},0,0)}_x({x:e},{x1:r,x2:n},{marginLeft:o}){let{insetLeft:i}=this;return ar(e)?o+i:a=>Math.min(r[a],n[a])+i}_width({x:e},{x1:r,x2:n},{marginRight:o,marginLeft:i,width:a}){let{insetLeft:f,insetRight:u}=this;return ar(e)?a-o-i-f-u:c=>Math.max(0,Math.abs(n[c]-r[c])-f-u)}},es=class extends Jc{constructor(e,r={}){let{x:n,y1:o,y2:i}=r;super(e,{y1:{value:o,scale:"y"},y2:{value:i,scale:"y"},x:{value:n,scale:"x",type:"band",optional:!0}},r,Vy)}_transform(e,r,{y:n}){e.call(Qt,r,{y:n},0,0)}_y({y:e},{y1:r,y2:n},{marginTop:o}){let{insetTop:i}=this;return ar(e)?o+i:a=>Math.min(r[a],n[a])+i}_height({y:e},{y1:r,y2:n},{marginTop:o,marginBottom:i,height:a}){let{insetTop:f,insetBottom:u}=this;return ar(e)?a-o-i-f-u:c=>Math.max(0,Math.abs(n[c]-r[c])-f-u)}};function Yd(t,e={}){return Rp(e)||(e={...e,y:wa,x2:bt}),new ts(t,zy(qc(Py(e))))}function Bd(t,e={}){return Rp(e)||(e={...e,x:wa,y2:bt}),new es(t,Yy(zc(Fy(e))))}var U3={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function X3(t){return t.sort===void 0&&t.reverse===void 0?f1({channel:"-r"},t):t}var rs=class extends At{constructor(e,r={}){let{x:n,y:o,r:i,rotate:a,symbol:f=Sr,frameAnchor:u}=r,[c,s]=_t(a,0),[p,l]=o1(f),[d,m]=_t(i,p==null?3:4.5);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},r:{value:d,scale:"r",filter:In,optional:!0},rotate:{value:c,optional:!0},symbol:{value:p,scale:"auto",optional:!0}},X3(r),U3),this.r=m,this.rotate=s,this.symbol=l,this.frameAnchor=tn(u);let{channels:h}=this,{symbol:g}=h;if(g){let{fill:w,stroke:x}=h;g.hint={fill:w?w.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:x?x.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(e,r,n,o,i){let{x:a,y:f}=r,{x:u,y:c,r:s,rotate:p,symbol:l}=n,{r:d,rotate:m,symbol:h}=this,[g,w]=or(this,o),x=h===Sr,M=s?void 0:d*d*Math.PI;return Mo(d)&&(e=[]),gt("svg:g",i).call(ie,this,o,i).call(Qt,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(e).enter().append(x?"circle":"path").call(ae,this).call(x?v=>{v.attr("cx",u?b=>u[b]:g).attr("cy",c?b=>c[b]:w).attr("r",s?b=>s[b]:d)}:v=>{v.attr("transform",Xo`translate(${u?b=>u[b]:g},${c?b=>c[b]:w})${p?b=>` rotate(${p[b]})`:m?` rotate(${m})`:""}`).attr("d",s&&l?b=>{let S=Ne();return l[b].draw(S,s[b]*s[b]*Math.PI),S}:s?b=>{let S=Ne();return h.draw(S,s[b]*s[b]*Math.PI),S}:l?b=>{let S=Ne();return l[b].draw(S,M),S}:(()=>{let b=Ne();return h.draw(b,M),b})())}).call(ge,this,n)).node()}};function Ud(t,{x:e,y:r,...n}={}){return n.frameAnchor===void 0&&([e,r]=Zr(e,r)),new rs(t,{...n,x:e,y:r})}function H3(t,e,r){let n={},o={},i={};t.forEach(u=>{let c=u[e],s=Number(u.opening_ply);n[c]=(n[c]||0)+1,o[c]=(o[c]||0)+s});let a=Object.entries(n).map(([u,c])=>{let s=o[u]/c;return{[e]:u,count:c,average:s}});return a.sort((u,c)=>c.count-u.count),a.slice(0,r)}async function G3(){let t=await Us("data/Lichess.csv"),e=H3(t,"opening_name",20),r=Vo({title:"Top 20 Most Popular Chess Openings",height:240,y:{label:"Name of Openings"},x:{label:"Games Used"},color:{legend:!0},marginLeft:250,marks:[Yd(e,{x:"count",y:"opening_name",fill:"average",tip:!0,sort:{y:"-x"}}),$a([0])]});document.querySelector("#plot")?.append(r);let n=Vo({title:"Openings Sequences Length",marginTop:100,width:640,grid:!0,x:{label:"# of moves"},y:{label:"frequency"},marks:[Bd(t,Hp({y:"count"},{x:a=>Number(a.opening_ply),tip:!0})),Go(["Most opening sequences are 3 moves in duration."],{x:3,y:3490,dy:3,anchor:"bottom"}),ka([0])]});document.querySelector("#plot")?.append(n);let o=t.map(a=>({difference:Math.abs(Number(a.white_rating)-Number(a.black_rating)),winner:a.winner,underdog:a.winner==="white"&&a.white_rating<a.black_rating||a.winner==="black"&&a.white_rating>a.black_rating?"underdog":a.victory_status==="draw"?"draw":"favorite",victory_status:a.victory_status,opening_name:a.opening_name})),i=Vo({title:"Games Outcomes and Difference in Ratings",marginLeft:60,color:{legend:!0},x:{inset:10,label:"Rating Differential"},y:{label:null},marks:[Ud(o,{x:"difference",y:"underdog",stroke:"difference"}),Go(o,Aa({x:"difference",y:"underdog",title:a=>`${a.winner} 
 Game Status: ${a.victory_status} 
 Opening Play: ${a.opening_name}`}))]});document.querySelector("#after")?.append(i)}window.addEventListener("DOMContentLoaded",async t=>{await G3()});
//# sourceMappingURL=index.js.map
